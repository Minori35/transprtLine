"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[179],{8275:(Ht,Ue,H)=>{H.d(Ue,{s:()=>G});var v=H(8504),D=H(6306),re=H(9212),fe=H(2058);let G=(()=>{class z{constructor(ce){this.router=ce}intercept(ce,ue){console.log("Interceptando petici\xf3n:",ce.url);const ae=localStorage.getItem("accessToken");if(console.log("Token obtenido:",ae),ae){const Ee=ce.clone({headers:ce.headers.set("Authorization",`Bearer ${ae}`)});return ue.handle(Ee).pipe((0,D.K)(be=>((401===be.status||403===be.status||309===be.status)&&(console.error("Error de autenticaci\xf3n:",be),this.router.navigate(["/auth/login"])),(0,v._)(be))))}return console.warn("No se encontr\xf3 token en localStorage"),ue.handle(ce)}static#e=this.\u0275fac=function(ue){return new(ue||z)(re.LFG(fe.F0))};static#t=this.\u0275prov=re.Yz7({token:z,factory:z.\u0275fac})}return z})()},7744:(Ht,Ue,H)=>{H.d(Ue,{T:()=>re});var v=H(9212),D=H(9862);let re=(()=>{class fe{constructor(z){this.http=z}getCountries(){return this.http.get("assets/demo/data/countries.json").toPromise().then(z=>z.data).then(z=>z)}static#e=this.\u0275fac=function(Z){return new(Z||fe)(v.LFG(D.eN))};static#t=this.\u0275prov=v.Yz7({token:fe,factory:fe.\u0275fac})}return fe})()},8140:(Ht,Ue,H)=>{H.d(Ue,{v:()=>re});var v=H(9212),D=H(9862);let re=(()=>{class fe{constructor(z){this.http=z}getCustomersSmall(){return this.http.get("assets/demo/data/customers-small.json").toPromise().then(z=>z.data).then(z=>z)}getCustomersMedium(){return this.http.get("assets/demo/data/customers-medium.json").toPromise().then(z=>z.data).then(z=>z)}getCustomersLarge(){return this.http.get("assets/demo/data/customers-large.json").toPromise().then(z=>z.data).then(z=>z)}static#e=this.\u0275fac=function(Z){return new(Z||fe)(v.LFG(D.eN))};static#t=this.\u0275prov=v.Yz7({token:fe,factory:fe.\u0275fac})}return fe})()},4528:(Ht,Ue,H)=>{H.d(Ue,{C:()=>fe});var v=H(7398),D=H(9212),re=H(9862);let fe=(()=>{class G{constructor(Z){this.http=Z,this.apiUrl="assets/demo/data/icons.json"}getIcons(){return this.http.get(this.apiUrl).pipe((0,v.U)(Z=>(this.icons=Z.icons,this.icons)))}static#e=this.\u0275fac=function(ce){return new(ce||G)(D.LFG(re.eN))};static#t=this.\u0275prov=D.Yz7({token:G,factory:G.\u0275fac})}return G})()},1609:(Ht,Ue,H)=>{H.d(Ue,{s:()=>re});var v=H(9212),D=H(9862);let re=(()=>{class fe{constructor(z){this.http=z}getFiles(){return this.http.get("assets/demo/data/files.json").toPromise().then(z=>z.data)}getLazyFiles(){return this.http.get("assets/demo/data/files-lazy.json").toPromise().then(z=>z.data)}getFilesystem(){return this.http.get("assets/demo/data/filesystem.json").toPromise().then(z=>z.data)}getLazyFilesystem(){return this.http.get("assets/demo/data/filesystem-lazy.json").toPromise().then(z=>z.data)}static#e=this.\u0275fac=function(Z){return new(Z||fe)(v.LFG(D.eN))};static#t=this.\u0275prov=v.Yz7({token:fe,factory:fe.\u0275fac})}return fe})()},7533:(Ht,Ue,H)=>{H.d(Ue,{T:()=>re});var v=H(9212),D=H(9862);let re=(()=>{class fe{constructor(z){this.http=z}getImages(){return this.http.get("assets/demo/data/photos.json").toPromise().then(z=>z.data).then(z=>z)}static#e=this.\u0275fac=function(Z){return new(Z||fe)(v.LFG(D.eN))};static#t=this.\u0275prov=v.Yz7({token:fe,factory:fe.\u0275fac})}return fe})()},981:(Ht,Ue,H)=>{H.d(Ue,{M:()=>re});var v=H(9212),D=H(9862);let re=(()=>{class fe{constructor(z){this.http=z}getProductsSmall(){return this.http.get("assets/demo/data/products-small.json").toPromise().then(z=>z.data).then(z=>z)}getProducts(){return this.http.get("assets/demo/data/products.json").toPromise().then(z=>z.data).then(z=>z)}getProductsMixed(){return this.http.get("assets/demo/data/products-mixed.json").toPromise().then(z=>z.data).then(z=>z)}getProductsWithOrdersSmall(){return this.http.get("assets/demo/data/products-orders-small.json").toPromise().then(z=>z.data).then(z=>z)}static#e=this.\u0275fac=function(Z){return new(Z||fe)(v.LFG(D.eN))};static#t=this.\u0275prov=v.Yz7({token:fe,factory:fe.\u0275fac})}return fe})()},3859:(Ht,Ue,H)=>{H.d(Ue,{P:()=>re});var v=H(9212),D=H(8645);let re=(()=>{class fe{constructor(){this._config={ripple:!1,inputStyle:"outlined",menuMode:"static",colorScheme:"light",theme:"lara-light-indigo",scale:14},this.config=(0,v.tdS)(this._config),this.state={staticMenuDesktopInactive:!1,overlayMenuActive:!1,profileSidebarVisible:!1,configSidebarVisible:!1,staticMenuMobileActive:!1,menuHoverActive:!1},this.configUpdate=new D.x,this.overlayOpen=new D.x,this.configUpdate$=this.configUpdate.asObservable(),this.overlayOpen$=this.overlayOpen.asObservable(),(0,v.cEC)(()=>{const z=this.config();this.updateStyle(z)&&this.changeTheme(),this.changeScale(z.scale),this.onConfigUpdate()})}updateStyle(z){return z.theme!==this._config.theme||z.colorScheme!==this._config.colorScheme}onMenuToggle(){this.isOverlay()&&(this.state.overlayMenuActive=!this.state.overlayMenuActive,this.state.overlayMenuActive&&this.overlayOpen.next(null)),this.isDesktop()?this.state.staticMenuDesktopInactive=!this.state.staticMenuDesktopInactive:(this.state.staticMenuMobileActive=!this.state.staticMenuMobileActive,this.state.staticMenuMobileActive&&this.overlayOpen.next(null))}showProfileSidebar(){this.state.profileSidebarVisible=!this.state.profileSidebarVisible,this.state.profileSidebarVisible&&this.overlayOpen.next(null)}showConfigSidebar(){this.state.configSidebarVisible=!0}isOverlay(){return"overlay"===this.config().menuMode}isDesktop(){return window.innerWidth>991}isMobile(){return!this.isDesktop()}onConfigUpdate(){this._config={...this.config()},this.configUpdate.next(this.config())}changeTheme(){const z=this.config(),ue=document.getElementById("theme-css").getAttribute("href").split("/").map(ae=>ae==this._config.theme?ae=z.theme:ae==`theme-${this._config.colorScheme}`?ae=`theme-${z.colorScheme}`:ae).join("/");this.replaceThemeLink(ue)}replaceThemeLink(z){const Z="theme-css";let ce=document.getElementById(Z);const ue=ce.cloneNode(!0);ue.setAttribute("href",z),ue.setAttribute("id",Z+"-clone"),ce.parentNode.insertBefore(ue,ce.nextSibling),ue.addEventListener("load",()=>{ce.remove(),ue.setAttribute("id",Z)})}changeScale(z){document.documentElement.style.fontSize=`${z}px`}static#e=this.\u0275fac=function(Z){return new(Z||fe)};static#t=this.\u0275prov=v.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"})}return fe})()},2755:(Ht,Ue,H)=>{H.d(Ue,{b:()=>re});var v=H(5619),D=H(9212);let re=(()=>{class fe{constructor(){this.showLoading=new v.X(!1)}show(){this.showLoading.next(!0)}hide(){this.showLoading.next(!1)}static#e=this.\u0275fac=function(Z){return new(Z||fe)};static#t=this.\u0275prov=D.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"})}return fe})()},4443:(Ht,Ue,H)=>{H.d(Ue,{C:()=>fe});var v=H(7337),D=H(9212),re=H(9862);let fe=(()=>{class G{constructor(Z){this.http=Z,this.baseUrl=v.N.URL_SERVICES}signOut(){return this.http.get(this.baseUrl+"/api/security/logout")}static#e=this.\u0275fac=function(ce){return new(ce||G)(D.LFG(re.eN))};static#t=this.\u0275prov=D.Yz7({token:G,factory:G.\u0275fac,providedIn:"root"})}return G})()},6208:(Ht,Ue,H)=>{H.d(Ue,{m:()=>G});var v=H(6814),D=H(6193),re=H(3949),fe=H(9212);let G=(()=>{class z{static#e=this.\u0275fac=function(ue){return new(ue||z)};static#t=this.\u0275mod=fe.oAB({type:z});static#n=this.\u0275inj=fe.cJS({imports:[v.ez,re.xC,D.q.forRoot({animationType:D.Sn.doubleBounce,backdropBorderRadius:"3px"})]})}return z})()},7337:(Ht,Ue,H)=>{H.d(Ue,{N:()=>v});const v={production:!0,URL_SERVICES:"http://localhost:8080",encrypt:!1,keyEncrypt:"LoginDev@\xf1.",firebase:{projectId:"erp-admon",appId:"1:652400729774:web:3d9e9c3a625f1ca041173f",storageBucket:"erp-admon.appspot.com",apiKey:"AIzaSyCfZ_N4n6a3k4rr4xLaxyGQHAV219iKp-I",authDomain:"erp-admon.firebaseapp.com",messagingSenderId:"652400729774",measurementId:"G-GSNNT5J0WY"}}},553:(Ht,Ue,H)=>{H.d(Ue,{N:()=>v});const v={production:!1,URL_SERVICES:"http://localhost:8080",encrypt:!0,keyEncrypt:"LoginDev@\xf1.",firebase:{projectId:"erp-admon",appId:"1:652400729774:web:3d9e9c3a625f1ca041173f",storageBucket:"erp-admon.appspot.com",apiKey:"AIzaSyCfZ_N4n6a3k4rr4xLaxyGQHAV219iKp-I",authDomain:"erp-admon.firebaseapp.com",messagingSenderId:"652400729774",measurementId:"G-GSNNT5J0WY"}}},3743:(Ht,Ue,H)=>{var v=H(6593),D=H(9212),re=H(6814),fe=H(5219),G=H(2058),z=H(2755),Z=H(6193);const ce=()=>({backdropBorderRadius:"3px"});let ue=(()=>{class a{constructor(t){this.loadingService=t,this.loading=!1,this.loadingService.showLoading.subscribe(r=>this.loading=r)}static#e=this.\u0275fac=function(r){return new(r||a)(D.Y36(z.b))};static#t=this.\u0275cmp=D.Xpm({type:a,selectors:[["app-loading"]],decls:1,vars:3,consts:[[3,"show","config"]],template:function(r,c){1&r&&D._UZ(0,"ngx-loading",0),2&r&&D.Q6J("show",c.loading)("config",D.DdM(2,ce))},dependencies:[Z.RJ]})}return a})(),ae=(()=>{class a{constructor(t){this.primengConfig=t}ngOnInit(){this.primengConfig.ripple=!0}static#e=this.\u0275fac=function(r){return new(r||a)(D.Y36(fe.b4))};static#t=this.\u0275cmp=D.Xpm({type:a,selectors:[["app-root"]],decls:2,vars:0,template:function(r,c){1&r&&D._UZ(0,"router-outlet")(1,"app-loading")},dependencies:[G.lC,ue],encapsulation:2})}return a})();const Ee=()=>["/"];let be=(()=>{class a{static#e=this.\u0275fac=function(r){return new(r||a)};static#t=this.\u0275cmp=D.Xpm({type:a,selectors:[["app-notfound"]],decls:35,vars:6,consts:[[1,"surface-ground","flex","align-items-center","justify-content-center","min-h-screen","min-w-screen","overflow-hidden"],[1,"flex","flex-column","align-items-center","justify-content-center"],["src","assets/demo/images/notfound/logo-blue.svg","alt","Sakai logo",1,"mb-5","w-6rem","flex-shrink-0"],[2,"border-radius","56px","padding","0.3rem","background","linear-gradient(180deg, rgba(33, 150, 243, 0.4) 10%, rgba(33, 150, 243, 0) 30%)"],[1,"w-full","surface-card","py-8","px-5","sm:px-8","flex","flex-column","align-items-center",2,"border-radius","53px"],[1,"text-blue-500","font-bold","text-3xl"],[1,"text-900","font-bold","text-3xl","lg:text-5xl","mb-2"],[1,"text-600","mb-5"],[1,"w-full","flex","align-items-center","py-5","border-300","border-bottom-1",3,"routerLink"],[1,"flex","justify-content-center","align-items-center","bg-cyan-400","border-round",2,"height","3.5rem","width","3.5rem"],[1,"text-50","pi","pi-fw","pi-table","text-2xl"],[1,"ml-4","flex","flex-column"],[1,"text-900","lg:text-xl","font-medium","mb-0","block"],[1,"text-600","lg:text-xl"],[1,"flex","justify-content-center","align-items-center","bg-orange-400","border-round",2,"height","3.5rem","width","3.5rem"],[1,"pi","pi-fw","pi-question-circle","text-50","text-2xl"],[1,"text-900","lg:text-xl","font-medium","mb-0"],[1,"w-full","flex","align-items-center","mb-5","py-5","border-300","border-bottom-1",3,"routerLink"],[1,"flex","justify-content-center","align-items-center","bg-indigo-400","border-round",2,"height","3.5rem","width","3.5rem"],[1,"pi","pi-fw","pi-unlock","text-50","text-2xl"]],template:function(r,c){1&r&&(D.TgZ(0,"div",0)(1,"div",1),D._UZ(2,"img",2),D.TgZ(3,"div",3)(4,"div",4)(5,"span",5),D._uU(6,"404"),D.qZA(),D.TgZ(7,"h1",6),D._uU(8,"Not Found"),D.qZA(),D.TgZ(9,"div",7),D._uU(10,"Requested resource is not available."),D.qZA(),D.TgZ(11,"a",8)(12,"span",9),D._UZ(13,"i",10),D.qZA(),D.TgZ(14,"span",11)(15,"span",12),D._uU(16,"Frequently Asked Questions"),D.qZA(),D.TgZ(17,"span",13),D._uU(18,"Ultricies mi quis hendrerit dolor."),D.qZA()()(),D.TgZ(19,"a",8)(20,"span",14),D._UZ(21,"i",15),D.qZA(),D.TgZ(22,"span",11)(23,"span",16),D._uU(24,"Solution Center"),D.qZA(),D.TgZ(25,"span",13),D._uU(26,"Phasellus faucibus scelerisque eleifend."),D.qZA()()(),D.TgZ(27,"a",17)(28,"span",18),D._UZ(29,"i",19),D.qZA(),D.TgZ(30,"span",11)(31,"span",16),D._uU(32,"Permission Manager"),D.qZA(),D.TgZ(33,"span",13),D._uU(34,"Accumsan in nisl nisi scelerisque"),D.qZA()()()()()()()),2&r&&(D.xp6(11),D.Q6J("routerLink",D.DdM(3,Ee)),D.xp6(8),D.Q6J("routerLink",D.DdM(4,Ee)),D.xp6(8),D.Q6J("routerLink",D.DdM(5,Ee)))},dependencies:[G.rH],encapsulation:2})}return a})();var De=H(2181),$e=H(3859),xe=H(6825),wt=H(8645);let gt=(()=>{class a{constructor(){this.menuSource=new wt.x,this.resetSource=new wt.x,this.menuSource$=this.menuSource.asObservable(),this.resetSource$=this.resetSource.asObservable()}onMenuStateChange(t){this.menuSource.next(t)}reset(){this.resetSource.next(!0)}static#e=this.\u0275fac=function(r){return new(r||a)};static#t=this.\u0275prov=D.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var $t=H(4480);const pn=["app-menuitem",""];function sn(a,e){if(1&a&&(D.TgZ(0,"div",4),D._uU(1),D.qZA()),2&a){const t=D.oxw();D.xp6(1),D.Oqu(t.item.label)}}function Ot(a,e){1&a&&D._UZ(0,"i",9)}function Ve(a,e){if(1&a){const t=D.EpF();D.TgZ(0,"a",5),D.NdJ("click",function(c){D.CHM(t);const h=D.oxw();return D.KtG(h.itemClick(c))}),D._UZ(1,"i",6),D.TgZ(2,"span",7),D._uU(3),D.qZA(),D.YNc(4,Ot,1,0,"i",8),D.qZA()}if(2&a){const t=D.oxw();D.Q6J("ngClass",t.item.class),D.uIk("href",t.item.url,D.LSH)("target",t.item.target),D.xp6(1),D.Q6J("ngClass",t.item.icon),D.xp6(2),D.Oqu(t.item.label),D.xp6(1),D.Q6J("ngIf",t.item.items)}}function Xe(a,e){1&a&&D._UZ(0,"i",9)}const pe=()=>({paths:"exact",queryParams:"ignored",matrixParams:"ignored",fragment:"ignored"});function ke(a,e){if(1&a){const t=D.EpF();D.TgZ(0,"a",10),D.NdJ("click",function(c){D.CHM(t);const h=D.oxw();return D.KtG(h.itemClick(c))}),D._UZ(1,"i",6),D.TgZ(2,"span",7),D._uU(3),D.qZA(),D.YNc(4,Xe,1,0,"i",8),D.qZA()}if(2&a){const t=D.oxw();D.Q6J("ngClass",t.item.class)("routerLink",t.item.routerLink)("routerLinkActiveOptions",t.item.routerLinkActiveOptions||D.DdM(14,pe))("fragment",t.item.fragment)("queryParamsHandling",t.item.queryParamsHandling)("preserveFragment",t.item.preserveFragment)("skipLocationChange",t.item.skipLocationChange)("replaceUrl",t.item.replaceUrl)("state",t.item.state)("queryParams",t.item.queryParams),D.uIk("target",t.item.target),D.xp6(1),D.Q6J("ngClass",t.item.icon),D.xp6(2),D.Oqu(t.item.label),D.xp6(1),D.Q6J("ngIf",t.item.items)}}function We(a,e){if(1&a&&D._UZ(0,"li",12),2&a){const t=e.$implicit,r=e.index,c=D.oxw(2);D.Tol(t.badgeClass),D.Q6J("item",t)("index",r)("parentKey",c.key)}}function Ie(a,e){if(1&a&&(D.TgZ(0,"ul"),D.YNc(1,We,1,5,"ng-template",11),D.qZA()),2&a){const t=D.oxw();D.Q6J("@children",t.submenuAnimation),D.xp6(1),D.Q6J("ngForOf",t.item.items)}}let je=(()=>{class a{constructor(t,r,c,h){this.layoutService=t,this.cd=r,this.router=c,this.menuService=h,this.active=!1,this.key="",this.menuSourceSubscription=this.menuService.menuSource$.subscribe(m=>{Promise.resolve(null).then(()=>{m.routeEvent?this.active=!(m.key!==this.key&&!m.key.startsWith(this.key+"-")):m.key!==this.key&&!m.key.startsWith(this.key+"-")&&(this.active=!1)})}),this.menuResetSubscription=this.menuService.resetSource$.subscribe(()=>{this.active=!1}),this.router.events.pipe((0,De.h)(m=>m instanceof G.m2)).subscribe(m=>{this.item.routerLink&&this.updateActiveStateFromRoute()})}ngOnInit(){this.key=this.parentKey?this.parentKey+"-"+this.index:String(this.index),this.item.routerLink&&this.updateActiveStateFromRoute()}updateActiveStateFromRoute(){this.router.isActive(this.item.routerLink[0],{paths:"exact",queryParams:"ignored",matrixParams:"ignored",fragment:"ignored"})&&this.menuService.onMenuStateChange({key:this.key,routeEvent:!0})}itemClick(t){this.item.disabled?t.preventDefault():(this.item.command&&this.item.command({originalEvent:t,item:this.item}),this.item.items&&(this.active=!this.active),this.menuService.onMenuStateChange({key:this.key}))}get submenuAnimation(){return this.root||this.active?"expanded":"collapsed"}get activeClass(){return this.active&&!this.root}ngOnDestroy(){this.menuSourceSubscription&&this.menuSourceSubscription.unsubscribe(),this.menuResetSubscription&&this.menuResetSubscription.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||a)(D.Y36($e.P),D.Y36(D.sBO),D.Y36(G.F0),D.Y36(gt))};static#t=this.\u0275cmp=D.Xpm({type:a,selectors:[["","app-menuitem",""]],hostVars:4,hostBindings:function(r,c){2&r&&D.ekj("layout-root-menuitem",c.root)("active-menuitem",c.activeClass)},inputs:{item:"item",index:"index",root:"root",parentKey:"parentKey"},attrs:pn,decls:5,vars:4,consts:[["class","layout-menuitem-root-text",4,"ngIf"],["tabindex","0","pRipple","",3,"ngClass","click",4,"ngIf"],["routerLinkActive","active-route","tabindex","0","pRipple","",3,"ngClass","routerLink","routerLinkActiveOptions","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","queryParams","click",4,"ngIf"],[4,"ngIf"],[1,"layout-menuitem-root-text"],["tabindex","0","pRipple","",3,"ngClass","click"],[1,"layout-menuitem-icon",3,"ngClass"],[1,"layout-menuitem-text"],["class","pi pi-fw pi-angle-down layout-submenu-toggler",4,"ngIf"],[1,"pi","pi-fw","pi-angle-down","layout-submenu-toggler"],["routerLinkActive","active-route","tabindex","0","pRipple","",3,"ngClass","routerLink","routerLinkActiveOptions","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","queryParams","click"],["ngFor","",3,"ngForOf"],["app-menuitem","",3,"item","index","parentKey"]],template:function(r,c){1&r&&(D.ynx(0),D.YNc(1,sn,2,1,"div",0)(2,Ve,5,6,"a",1)(3,ke,5,15,"a",2)(4,Ie,2,2,"ul",3),D.BQk()),2&r&&(D.xp6(1),D.Q6J("ngIf",c.root&&!1!==c.item.visible),D.xp6(1),D.Q6J("ngIf",(!c.item.routerLink||c.item.items)&&!1!==c.item.visible),D.xp6(1),D.Q6J("ngIf",c.item.routerLink&&!c.item.items&&!1!==c.item.visible),D.xp6(1),D.Q6J("ngIf",c.item.items&&!1!==c.item.visible))},dependencies:[re.mk,re.sg,re.O5,$t.H,G.rH,G.Od,a],encapsulation:2,data:{animation:[(0,xe.X$)("children",[(0,xe.SB)("collapsed",(0,xe.oB)({height:"0"})),(0,xe.SB)("expanded",(0,xe.oB)({height:"*"})),(0,xe.eR)("collapsed <=> expanded",(0,xe.jt)("400ms cubic-bezier(0.86, 0, 0.07, 1)"))])]}})}return a})();function tt(a,e){if(1&a&&D._UZ(0,"li",4),2&a){const t=D.oxw(),c=t.index;D.Q6J("item",t.$implicit)("index",c)("root",!0)}}function Ge(a,e){1&a&&D._UZ(0,"li",5)}function ln(a,e){if(1&a&&(D.ynx(0),D.YNc(1,tt,1,3,"li",2)(2,Ge,1,0,"li",3),D.BQk()),2&a){const t=e.$implicit;D.xp6(1),D.Q6J("ngIf",!t.separator),D.xp6(1),D.Q6J("ngIf",t.separator)}}let Mt=(()=>{class a{constructor(t){this.layoutService=t,this.model=[]}ngOnInit(){this.model=[{label:"Home",items:[{label:"Dashboard",icon:"pi pi-fw pi-home",routerLink:["/"]}]},{label:"Moduls",items:[{label:"Order",icon:"pi pi-fw pi-check-square",routerLink:["/erp/order"]},{label:"Quotation",icon:"pi pi-fw pi-file",routerLink:["/erp/quotation"]},{label:"Trips",icon:"pi pi-fw pi-send",routerLink:["/uikit/floatlabel"]},{label:"Carrier",icon:"pi pi-fw pi-box",routerLink:["/erp/carrier"]},{label:"Client",icon:"pi pi-fw pi-box",routerLink:["/uikit/button"]},{label:"Record",icon:"pi pi-fw pi-user",routerLink:["/uikit/table"]}]}]}static#e=this.\u0275fac=function(r){return new(r||a)(D.Y36($e.P))};static#t=this.\u0275cmp=D.Xpm({type:a,selectors:[["app-menu"]],decls:3,vars:1,consts:[[1,"layout-menu"],[4,"ngFor","ngForOf"],["app-menuitem","",3,"item","index","root",4,"ngIf"],["class","menu-separator",4,"ngIf"],["app-menuitem","",3,"item","index","root"],[1,"menu-separator"]],template:function(r,c){1&r&&(D.TgZ(0,"ul",0),D.YNc(1,ln,3,2,"ng-container",1),D._UZ(2,"li"),D.qZA()),2&r&&(D.xp6(1),D.Q6J("ngForOf",c.model))},dependencies:[re.sg,re.O5,je],encapsulation:2})}return a})(),yn=(()=>{class a{constructor(t,r){this.layoutService=t,this.el=r}static#e=this.\u0275fac=function(r){return new(r||a)(D.Y36($e.P),D.Y36(D.SBq))};static#t=this.\u0275cmp=D.Xpm({type:a,selectors:[["app-sidebar"]],decls:1,vars:0,template:function(r,c){1&r&&D._UZ(0,"app-menu")},dependencies:[Mt],encapsulation:2})}return a})();var Vn=H(4443);const di=["menubutton"],Ke=["topbarmenubutton"],at=["topbarmenu"],_t=a=>({"layout-topbar-menu-mobile-active":a});let vt=(()=>{class a{constructor(t,r,c,h){this.layoutService=t,this.loadinsrv=r,this.singOutService=c,this.router=h}signOut(){this.loadinsrv.show(),this.singOutService.signOut().subscribe({next:t=>{this.router.navigate(["/auth/login"]),localStorage.clear(),console.log("\u{1f680} ~ AppTopBarComponent ~ signOut ~ resp:",t),this.loadinsrv.hide()},error:t=>{console.log("\u{1f680} ~ AppTopBarComponent ~ signOut ~ err:",t),this.loadinsrv.hide()}})}static#e=this.\u0275fac=function(r){return new(r||a)(D.Y36($e.P),D.Y36(z.b),D.Y36(Vn.C),D.Y36(G.F0))};static#t=this.\u0275cmp=D.Xpm({type:a,selectors:[["app-topbar"]],viewQuery:function(r,c){if(1&r&&(D.Gf(di,5),D.Gf(Ke,5),D.Gf(at,5)),2&r){let h;D.iGM(h=D.CRH())&&(c.menuButton=h.first),D.iGM(h=D.CRH())&&(c.topbarMenuButton=h.first),D.iGM(h=D.CRH())&&(c.menu=h.first)}},decls:21,vars:3,consts:[[1,"layout-topbar"],[1,"p-link","layout-menu-button","layout-topbar-button",3,"click"],["menubutton",""],[1,"pi","pi-bars"],[1,"p-link","layout-topbar-menu-button","layout-topbar-button",3,"click"],["topbarmenubutton",""],[1,"pi","pi-ellipsis-v"],[1,"layout-topbar-menu",3,"ngClass"],["topbarmenu",""],[1,"p-link","layout-topbar-button"],[1,"pi","pi-calendar"],[1,"pi","pi-user"],[1,"p-link","layout-topbar-button",3,"click"],[1,"pi","pi-sign-out"]],template:function(r,c){1&r&&(D.TgZ(0,"div",0)(1,"button",1,2),D.NdJ("click",function(){return c.layoutService.onMenuToggle()}),D._UZ(3,"i",3),D.qZA(),D.TgZ(4,"button",4,5),D.NdJ("click",function(){return c.layoutService.showProfileSidebar()}),D._UZ(6,"i",6),D.qZA(),D.TgZ(7,"div",7,8)(9,"button",9),D._UZ(10,"i",10),D.TgZ(11,"span"),D._uU(12,"Calendar"),D.qZA()(),D.TgZ(13,"button",9),D._UZ(14,"i",11),D.TgZ(15,"span"),D._uU(16,"Profile"),D.qZA()(),D.TgZ(17,"button",12),D.NdJ("click",function(){return c.signOut()}),D._UZ(18,"i",13),D.TgZ(19,"span"),D._uU(20,"Sing out"),D.qZA()()()()),2&r&&(D.xp6(7),D.Q6J("ngClass",D.VKq(1,_t,c.layoutService.state.profileSidebarVisible)))},dependencies:[re.mk],encapsulation:2})}return a})(),kt=(()=>{class a{constructor(t){this.layoutService=t}static#e=this.\u0275fac=function(r){return new(r||a)(D.Y36($e.P))};static#t=this.\u0275cmp=D.Xpm({type:a,selectors:[["app-footer"]],decls:5,vars:1,consts:[[1,"layout-footer"],["alt","Logo","height","20",1,"mr-2",3,"src"],[1,"font-medium","ml-2"]],template:function(r,c){1&r&&(D.TgZ(0,"div",0),D._UZ(1,"img",1),D._uU(2," by "),D.TgZ(3,"span",2),D._uU(4,"PrimeNG"),D.qZA()()),2&r&&(D.xp6(1),D.MGl("src","assets/layout/images/","light"===c.layoutService.config().colorScheme?"logo-dark":"logo-white",".svg",D.LSH))},encapsulation:2})}return a})(),zt=(()=>{class a{constructor(t,r,c){this.layoutService=t,this.renderer=r,this.router=c,this.overlayMenuOpenSubscription=this.layoutService.overlayOpen$.subscribe(()=>{this.menuOutsideClickListener||(this.menuOutsideClickListener=this.renderer.listen("document","click",h=>{!(this.appSidebar.el.nativeElement.isSameNode(h.target)||this.appSidebar.el.nativeElement.contains(h.target)||this.appTopbar.menuButton.nativeElement.isSameNode(h.target)||this.appTopbar.menuButton.nativeElement.contains(h.target))&&this.hideMenu()})),this.profileMenuOutsideClickListener||(this.profileMenuOutsideClickListener=this.renderer.listen("document","click",h=>{!(this.appTopbar.menu.nativeElement.isSameNode(h.target)||this.appTopbar.menu.nativeElement.contains(h.target)||this.appTopbar.topbarMenuButton.nativeElement.isSameNode(h.target)||this.appTopbar.topbarMenuButton.nativeElement.contains(h.target))&&this.hideProfileMenu()})),this.layoutService.state.staticMenuMobileActive&&this.blockBodyScroll()}),this.router.events.pipe((0,De.h)(h=>h instanceof G.m2)).subscribe(()=>{this.hideMenu(),this.hideProfileMenu()})}hideMenu(){this.layoutService.state.overlayMenuActive=!1,this.layoutService.state.staticMenuMobileActive=!1,this.layoutService.state.menuHoverActive=!1,this.menuOutsideClickListener&&(this.menuOutsideClickListener(),this.menuOutsideClickListener=null),this.unblockBodyScroll()}hideProfileMenu(){this.layoutService.state.profileSidebarVisible=!1,this.profileMenuOutsideClickListener&&(this.profileMenuOutsideClickListener(),this.profileMenuOutsideClickListener=null)}blockBodyScroll(){document.body.classList?document.body.classList.add("blocked-scroll"):document.body.className+=" blocked-scroll"}unblockBodyScroll(){document.body.classList?document.body.classList.remove("blocked-scroll"):document.body.className=document.body.className.replace(new RegExp("(^|\\b)"+"blocked-scroll".split(" ").join("|")+"(\\b|$)","gi")," ")}get containerClass(){return{"layout-theme-light":"light"===this.layoutService.config().colorScheme,"layout-theme-dark":"dark"===this.layoutService.config().colorScheme,"layout-overlay":"overlay"===this.layoutService.config().menuMode,"layout-static":"static"===this.layoutService.config().menuMode,"layout-static-inactive":this.layoutService.state.staticMenuDesktopInactive&&"static"===this.layoutService.config().menuMode,"layout-overlay-active":this.layoutService.state.overlayMenuActive,"layout-mobile-active":this.layoutService.state.staticMenuMobileActive,"p-input-filled":"filled"===this.layoutService.config().inputStyle,"p-ripple-disabled":!this.layoutService.config().ripple}}ngOnDestroy(){this.overlayMenuOpenSubscription&&this.overlayMenuOpenSubscription.unsubscribe(),this.menuOutsideClickListener&&this.menuOutsideClickListener()}static#e=this.\u0275fac=function(r){return new(r||a)(D.Y36($e.P),D.Y36(D.Qsj),D.Y36(G.F0))};static#t=this.\u0275cmp=D.Xpm({type:a,selectors:[["app-layout"]],viewQuery:function(r,c){if(1&r&&(D.Gf(yn,5),D.Gf(vt,5)),2&r){let h;D.iGM(h=D.CRH())&&(c.appSidebar=h.first),D.iGM(h=D.CRH())&&(c.appTopbar=h.first)}},decls:9,vars:1,consts:[[1,"layout-wrapper",3,"ngClass"],[1,"layout-sidebar"],[1,"layout-main-container"],[1,"layout-main"],[1,"layout-mask"]],template:function(r,c){1&r&&(D.TgZ(0,"div",0),D._UZ(1,"app-topbar"),D.TgZ(2,"div",1),D._UZ(3,"app-sidebar"),D.qZA(),D.TgZ(4,"div",2)(5,"div",3),D._UZ(6,"router-outlet"),D.qZA(),D._UZ(7,"app-footer"),D.qZA(),D._UZ(8,"div",4),D.qZA()),2&r&&D.Q6J("ngClass",c.containerClass)},dependencies:[re.mk,G.lC,vt,kt,yn],encapsulation:2})}return a})(),Rn=(()=>{class a{static#e=this.\u0275fac=function(r){return new(r||a)};static#t=this.\u0275mod=D.oAB({type:a});static#n=this.\u0275inj=D.cJS({imports:[G.Bz.forRoot([{path:"auth",loadChildren:()=>H.e(2043).then(H.bind(H,2043)).then(t=>t.AuthModule)},{path:"",component:zt,children:[{path:"",loadChildren:()=>Promise.all([H.e(3259),H.e(6645),H.e(5821),H.e(2947),H.e(9552),H.e(9252),H.e(1122),H.e(74),H.e(3519),H.e(8592),H.e(6455)]).then(H.bind(H,6455)).then(t=>t.DashboardModule)},{path:"erp",loadChildren:()=>H.e(5179).then(H.bind(H,5179)).then(t=>t.UIkitModule)},{path:"utilities",loadChildren:()=>H.e(3794).then(H.bind(H,3794)).then(t=>t.UtilitiesModule)},{path:"documentation",loadChildren:()=>H.e(6942).then(H.bind(H,6942)).then(t=>t.DocumentationModule)},{path:"blocks",loadChildren:()=>Promise.all([H.e(3259),H.e(7853),H.e(3844)]).then(H.bind(H,3844)).then(t=>t.PrimeBlocksModule)},{path:"pages",loadChildren:()=>H.e(6426).then(H.bind(H,6426)).then(t=>t.PagesModule)}]},{path:"landing",loadChildren:()=>Promise.all([H.e(9252),H.e(8336),H.e(5373)]).then(H.bind(H,5373)).then(t=>t.LandingModule)},{path:"notfound",component:be},{path:"**",redirectTo:""},{path:"",redirectTo:"",pathMatch:"full"}],{scrollPositionRestoration:"enabled",anchorScrolling:"enabled",onSameUrlNavigation:"reload"}),G.Bz]})}return a})();var Un=H(6223),mn=H(9862);function Ln(a){return new D.vHH(3e3,!1)}function ct(a){switch(a.length){case 0:return new xe.ZN;case 1:return a[0];default:return new xe.ZE(a)}}function et(a,e,t=new Map,r=new Map){const c=[],h=[];let m=-1,b=null;if(e.forEach(I=>{const k=I.get("offset"),W=k==m,ne=W&&b||new Map;I.forEach((ge,Re)=>{let qe=Re,pt=ge;if("offset"!==Re)switch(qe=a.normalizePropertyName(qe,c),pt){case xe.k1:pt=t.get(Re);break;case xe.l3:pt=r.get(Re);break;default:pt=a.normalizeStyleValue(Re,qe,pt,c)}ne.set(qe,pt)}),W||h.push(ne),b=ne,m=k}),c.length)throw function oi(a){return new D.vHH(3502,!1)}();return h}function we(a,e,t,r){switch(e){case"start":a.onStart(()=>r(t&&Me(t,"start",a)));break;case"done":a.onDone(()=>r(t&&Me(t,"done",a)));break;case"destroy":a.onDestroy(()=>r(t&&Me(t,"destroy",a)))}}function Me(a,e,t){const h=Tt(a.element,a.triggerName,a.fromState,a.toState,e||a.phaseName,t.totalTime??a.totalTime,!!t.disabled),m=a._data;return null!=m&&(h._data=m),h}function Tt(a,e,t,r,c="",h=0,m){return{element:a,triggerName:e,fromState:t,toState:r,phaseName:c,totalTime:h,disabled:!!m}}function Wt(a,e,t){let r=a.get(e);return r||a.set(e,r=t),r}function Pn(a){const e=a.indexOf(":");return[a.substring(1,e),a.slice(e+1)]}const Fn=(()=>typeof document>"u"?null:document.documentElement)();function ai(a){const e=a.parentNode||a.host||null;return e===Fn?null:e}let ji=null,cr=!1;function Qo(a,e){for(;e;){if(e===a)return!0;e=ai(e)}return!1}function Li(a,e,t){if(t)return Array.from(a.querySelectorAll(e));const r=a.querySelector(e);return r?[r]:[]}let Js=(()=>{class a{validateStyleProperty(t){return function mo(a){ji||(ji=function _o(){return typeof document<"u"?document.body:null}()||{},cr=!!ji.style&&"WebkitAppearance"in ji.style);let e=!0;return ji.style&&!function lr(a){return"ebkit"==a.substring(1,6)}(a)&&(e=a in ji.style,!e&&cr&&(e="Webkit"+a.charAt(0).toUpperCase()+a.slice(1)in ji.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return Qo(t,r)}getParentElement(t){return ai(t)}query(t,r,c){return Li(t,r,c)}computeStyle(t,r,c){return c||""}animate(t,r,c,h,m,b=[],I){return new xe.ZN(c,h)}static#e=this.\u0275fac=function(r){return new(r||a)};static#t=this.\u0275prov=D.Yz7({token:a,factory:a.\u0275fac})}return a})(),Nr=(()=>{class a{static#e=this.NOOP=new Js}return a})();class Zo{}const vi=1e3,Se="ng-enter",Ae="ng-leave",ot="ng-trigger",St=".ng-trigger",jt="ng-animating",Gt=".ng-animating";function vn(a){if("number"==typeof a)return a;const e=a.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:bn(parseFloat(e[1]),e[2])}function bn(a,e){return"s"===e?a*vi:a}function _i(a,e,t){return a.hasOwnProperty("duration")?a:function cn(a,e,t){let c,h=0,m="";if("string"==typeof a){const b=a.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===b)return e.push(Ln()),{duration:0,delay:0,easing:""};c=bn(parseFloat(b[1]),b[2]);const I=b[3];null!=I&&(h=bn(parseFloat(I),b[4]));const k=b[5];k&&(m=k)}else c=a;if(!t){let b=!1,I=e.length;c<0&&(e.push(function dn(){return new D.vHH(3100,!1)}()),b=!0),h<0&&(e.push(function jn(){return new D.vHH(3101,!1)}()),b=!0),b&&e.splice(I,0,Ln())}return{duration:c,delay:h,easing:m}}(a,e,t)}function mi(a,e={}){return Object.keys(a).forEach(t=>{e[t]=a[t]}),e}function Ei(a){const e=new Map;return Object.keys(a).forEach(t=>{e.set(t,a[t])}),e}function ei(a,e=new Map,t){if(t)for(let[r,c]of t)e.set(r,c);for(let[r,c]of a)e.set(r,c);return e}function Dt(a,e,t){e.forEach((r,c)=>{const h=Jo(c);t&&!t.has(c)&&t.set(c,a.style[h]),a.style[h]=r})}function Ii(a,e){e.forEach((t,r)=>{const c=Jo(r);a.style[c]=""})}function zr(a){return Array.isArray(a)?1==a.length?a[0]:(0,xe.vP)(a):a}const ur=new RegExp("{{\\s*(.+?)\\s*}}","g");function Xo(a){let e=[];if("string"==typeof a){let t;for(;t=ur.exec(a);)e.push(t[1]);ur.lastIndex=0}return e}function Sr(a,e,t){const r=a.toString(),c=r.replace(ur,(h,m)=>{let b=e[m];return null==b&&(t.push(function Ti(a){return new D.vHH(3003,!1)}()),b=""),b.toString()});return c==r?a:c}function hs(a){const e=[];let t=a.next();for(;!t.done;)e.push(t.value),t=a.next();return e}const _a=/-+([a-z0-9])/g;function Jo(a){return a.replace(_a,(...e)=>e[1].toUpperCase())}function dr(a,e,t){switch(e.type){case 7:return a.visitTrigger(e,t);case 0:return a.visitState(e,t);case 1:return a.visitTransition(e,t);case 2:return a.visitSequence(e,t);case 3:return a.visitGroup(e,t);case 4:return a.visitAnimate(e,t);case 5:return a.visitKeyframes(e,t);case 6:return a.visitStyle(e,t);case 8:return a.visitReference(e,t);case 9:return a.visitAnimateChild(e,t);case 10:return a.visitAnimateRef(e,t);case 11:return a.visitQuery(e,t);case 12:return a.visitStagger(e,t);default:throw function ki(a){return new D.vHH(3004,!1)}()}}function ic(a,e){return window.getComputedStyle(a)[e]}const Fa=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class ea extends Zo{normalizePropertyName(e,t){return Jo(e)}normalizeStyleValue(e,t,r,c){let h="";const m=r.toString().trim();if(Fa.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)h="px";else{const b=r.match(/^[+-]?[\d\.]+([a-z]*)$/);b&&0==b[1].length&&c.push(function Or(a,e){return new D.vHH(3005,!1)}())}return m+h}}const vo="*";function vr(a,e){const t=[];return"string"==typeof a?a.split(/\s*,\s*/).forEach(r=>function Eo(a,e,t){if(":"==a[0]){const I=function Dr(a,e){switch(a){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function yr(a){return new D.vHH(3016,!1)}()),"* => *"}}(a,t);if("function"==typeof I)return void e.push(I);a=I}const r=a.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function zi(a){return new D.vHH(3015,!1)}()),e;const c=r[1],h=r[2],m=r[3];e.push(ps(c,m));"<"==h[0]&&!(c==vo&&m==vo)&&e.push(ps(m,c))}(r,t,e)):t.push(a),t}const Bo=new Set(["true","1"]),li=new Set(["false","0"]);function ps(a,e){const t=Bo.has(a)||li.has(a),r=Bo.has(e)||li.has(e);return(c,h)=>{let m=a==vo||a==c,b=e==vo||e==h;return!m&&t&&"boolean"==typeof c&&(m=c?Bo.has(a):li.has(a)),!b&&r&&"boolean"==typeof h&&(b=h?Bo.has(e):li.has(e)),m&&b}}const bo=new RegExp("s*:selfs*,?","g");function Ea(a,e,t,r){return new Ba(a).build(e,t,r)}class Ba{constructor(e){this._driver=e}build(e,t,r){const c=new Bs(t);return this._resetContextStyleTimingState(c),dr(this,zr(e),c)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,c=t.depCount=0;const h=[],m=[];return"@"==e.name.charAt(0)&&t.errors.push(function rr(){return new D.vHH(3006,!1)}()),e.definitions.forEach(b=>{if(this._resetContextStyleTimingState(t),0==b.type){const I=b,k=I.name;k.toString().split(/\s*,\s*/).forEach(W=>{I.name=W,h.push(this.visitState(I,t))}),I.name=k}else if(1==b.type){const I=this.visitTransition(b,t);r+=I.queryCount,c+=I.depCount,m.push(I)}else t.errors.push(function us(){return new D.vHH(3007,!1)}())}),{type:7,name:e.name,states:h,transitions:m,queryCount:r,depCount:c,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),c=e.options&&e.options.params||null;if(r.containsDynamicStyles){const h=new Set,m=c||{};r.styles.forEach(b=>{b instanceof Map&&b.forEach(I=>{Xo(I).forEach(k=>{m.hasOwnProperty(k)||h.add(k)})})}),h.size&&(hs(h.values()),t.errors.push(function ds(a,e){return new D.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:c?{params:c}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=dr(this,zr(e.animation),t);return{type:1,matchers:vr(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Ss(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>dr(this,r,t)),options:Ss(e.options)}}visitGroup(e,t){const r=t.currentTime;let c=0;const h=e.steps.map(m=>{t.currentTime=r;const b=dr(this,m,t);return c=Math.max(c,t.currentTime),b});return t.currentTime=c,{type:3,steps:h,options:Ss(e.options)}}visitAnimate(e,t){const r=function Bn(a,e){if(a.hasOwnProperty("duration"))return a;if("number"==typeof a)return Ua(_i(a,e).duration,0,"");const t=a;if(t.split(/\s+/).some(h=>"{"==h.charAt(0)&&"{"==h.charAt(1))){const h=Ua(0,0,"");return h.dynamic=!0,h.strValue=t,h}const c=_i(t,e);return Ua(c.duration,c.delay,c.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let c,h=e.styles?e.styles:(0,xe.oB)({});if(5==h.type)c=this.visitKeyframes(h,t);else{let m=e.styles,b=!1;if(!m){b=!0;const k={};r.easing&&(k.easing=r.easing),m=(0,xe.oB)(k)}t.currentTime+=r.duration+r.delay;const I=this.visitStyle(m,t);I.isEmptyStep=b,c=I}return t.currentAnimateTimings=null,{type:4,timings:r,style:c,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],c=Array.isArray(e.styles)?e.styles:[e.styles];for(let b of c)"string"==typeof b?b===xe.l3?r.push(b):t.errors.push(new D.vHH(3002,!1)):r.push(Ei(b));let h=!1,m=null;return r.forEach(b=>{if(b instanceof Map&&(b.has("easing")&&(m=b.get("easing"),b.delete("easing")),!h))for(let I of b.values())if(I.toString().indexOf("{{")>=0){h=!0;break}}),{type:6,styles:r,easing:m,offset:e.offset,containsDynamicStyles:h,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let c=t.currentTime,h=t.currentTime;r&&h>0&&(h-=r.duration+r.delay),e.styles.forEach(m=>{"string"!=typeof m&&m.forEach((b,I)=>{const k=t.collectedStyles.get(t.currentQuerySelector),W=k.get(I);let ne=!0;W&&(h!=c&&h>=W.startTime&&c<=W.endTime&&(t.errors.push(function Xs(a,e,t,r,c){return new D.vHH(3010,!1)}()),ne=!1),h=W.startTime),ne&&k.set(I,{startTime:h,endTime:c}),t.options&&function on(a,e,t){const r=e.params||{},c=Xo(a);c.length&&c.forEach(h=>{r.hasOwnProperty(h)||t.push(function gn(a){return new D.vHH(3001,!1)}())})}(b,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function si(){return new D.vHH(3011,!1)}()),r;let h=0;const m=[];let b=!1,I=!1,k=0;const W=e.steps.map(qt=>{const an=this._makeStyleAst(qt,t);let tn=null!=an.offset?an.offset:function Is(a){if("string"==typeof a)return null;let e=null;if(Array.isArray(a))a.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(a instanceof Map&&a.has("offset")){const t=a;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(an.styles),wn=0;return null!=tn&&(h++,wn=an.offset=tn),I=I||wn<0||wn>1,b=b||wn<k,k=wn,m.push(wn),an});I&&t.errors.push(function Jn(){return new D.vHH(3012,!1)}()),b&&t.errors.push(function hi(){return new D.vHH(3200,!1)}());const ne=e.steps.length;let ge=0;h>0&&h<ne?t.errors.push(function ma(){return new D.vHH(3202,!1)}()):0==h&&(ge=1/(ne-1));const Re=ne-1,qe=t.currentTime,pt=t.currentAnimateTimings,bt=pt.duration;return W.forEach((qt,an)=>{const tn=ge>0?an==Re?1:ge*an:m[an],wn=tn*bt;t.currentTime=qe+pt.delay+wn,pt.duration=wn,this._validateStyleAst(qt,t),qt.offset=tn,r.styles.push(qt)}),r}visitReference(e,t){return{type:8,animation:dr(this,zr(e.animation),t),options:Ss(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Ss(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Ss(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,c=e.options||{};t.queryCount++,t.currentQuery=e;const[h,m]=function ss(a){const e=!!a.split(/\s*,\s*/).find(t=>":self"==t);return e&&(a=a.replace(bo,"")),a=a.replace(/@\*/g,St).replace(/@\w+/g,t=>St+"-"+t.slice(1)).replace(/:animating/g,Gt),[a,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+h:h,Wt(t.collectedStyles,t.currentQuerySelector,new Map);const b=dr(this,zr(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:h,limit:c.limit||0,optional:!!c.optional,includeSelf:m,animation:b,originalSelector:e.selector,options:Ss(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function po(){return new D.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:_i(e.timings,t.errors,!0);return{type:12,animation:dr(this,zr(e.animation),t),timings:r,options:null}}}class Bs{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ss(a){return a?(a=mi(a)).params&&(a.params=function eo(a){return a?mi(a):null}(a.params)):a={},a}function Ua(a,e,t){return{duration:a,delay:e,easing:t}}function wo(a,e,t,r,c,h,m=null,b=!1){return{type:1,element:a,keyframes:e,preStyleProps:t,postStyleProps:r,duration:c,delay:h,totalTime:c+h,easing:m,subTimeline:b}}class Ao{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const to=new RegExp(":enter","g"),ba=new RegExp(":leave","g");function al(a,e,t,r,c,h=new Map,m=new Map,b,I,k=[]){return(new Ml).buildKeyframes(a,e,t,r,c,h,m,b,I,k)}class Ml{buildKeyframes(e,t,r,c,h,m,b,I,k,W=[]){k=k||new Ao;const ne=new rc(e,t,k,c,h,W,[]);ne.options=I;const ge=I.delay?vn(I.delay):0;ne.currentTimeline.delayNextStep(ge),ne.currentTimeline.setStyles([m],null,ne.errors,I),dr(this,r,ne);const Re=ne.timelines.filter(qe=>qe.containsAnimation());if(Re.length&&b.size){let qe;for(let pt=Re.length-1;pt>=0;pt--){const bt=Re[pt];if(bt.element===t){qe=bt;break}}qe&&!qe.allowOnlyTimelineStyles()&&qe.setStyles([b],null,ne.errors,I)}return Re.length?Re.map(qe=>qe.buildKeyframes()):[wo(t,[],[],[],0,ge,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const c=t.createSubContext(e.options),h=t.currentTimeline.currentTime,m=this._visitSubInstructions(r,c,c.options);h!=m&&t.transformIntoNewTimeline(m)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const c of e){const h=c?.delay;if(h){const m="number"==typeof h?h:vn(Sr(h,c?.params??{},t.errors));r.delayNextStep(m)}}}_visitSubInstructions(e,t,r){let h=t.currentTimeline.currentTime;const m=null!=r.duration?vn(r.duration):null,b=null!=r.delay?vn(r.delay):null;return 0!==m&&e.forEach(I=>{const k=t.appendInstructionToTimeline(I,m,b);h=Math.max(h,k.duration+k.delay)}),h}visitReference(e,t){t.updateOptions(e.options,!0),dr(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let c=t;const h=e.options;if(h&&(h.params||h.delay)&&(c=t.createSubContext(h),c.transformIntoNewTimeline(),null!=h.delay)){6==c.previousNode.type&&(c.currentTimeline.snapshotCurrentStyles(),c.previousNode=$r);const m=vn(h.delay);c.delayNextStep(m)}e.steps.length&&(e.steps.forEach(m=>dr(this,m,c)),c.currentTimeline.applyStylesToKeyframe(),c.subContextCount>r&&c.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let c=t.currentTimeline.currentTime;const h=e.options&&e.options.delay?vn(e.options.delay):0;e.steps.forEach(m=>{const b=t.createSubContext(e.options);h&&b.delayNextStep(h),dr(this,m,b),c=Math.max(c,b.currentTimeline.currentTime),r.push(b.currentTimeline)}),r.forEach(m=>t.currentTimeline.mergeTimelineCollectedStyles(m)),t.transformIntoNewTimeline(c),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return _i(t.params?Sr(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),c=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),c.snapshotCurrentStyles());const h=e.style;5==h.type?this.visitKeyframes(h,t):(t.incrementTime(r.duration),this.visitStyle(h,t),c.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,c=t.currentAnimateTimings;!c&&r.hasCurrentStyleProperties()&&r.forwardFrame();const h=c&&c.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(h):r.setStyles(e.styles,h,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,c=t.currentTimeline.duration,h=r.duration,b=t.createSubContext().currentTimeline;b.easing=r.easing,e.styles.forEach(I=>{b.forwardTime((I.offset||0)*h),b.setStyles(I.styles,I.easing,t.errors,t.options),b.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(b),t.transformIntoNewTimeline(c+h),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,c=e.options||{},h=c.delay?vn(c.delay):0;h&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=$r);let m=r;const b=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!c.optional,t.errors);t.currentQueryTotal=b.length;let I=null;b.forEach((k,W)=>{t.currentQueryIndex=W;const ne=t.createSubContext(e.options,k);h&&ne.delayNextStep(h),k===t.element&&(I=ne.currentTimeline),dr(this,e.animation,ne),ne.currentTimeline.applyStylesToKeyframe(),m=Math.max(m,ne.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(m),I&&(t.currentTimeline.mergeTimelineCollectedStyles(I),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,c=t.currentTimeline,h=e.timings,m=Math.abs(h.duration),b=m*(t.currentQueryTotal-1);let I=m*t.currentQueryIndex;switch(h.duration<0?"reverse":h.easing){case"reverse":I=b-I;break;case"full":I=r.currentStaggerTime}const W=t.currentTimeline;I&&W.delayNextStep(I);const ne=W.currentTime;dr(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=c.currentTime-ne+(c.startTime-r.currentTimeline.startTime)}}const $r={};class rc{constructor(e,t,r,c,h,m,b,I){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=c,this._leaveClassName=h,this.errors=m,this.timelines=b,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=$r,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=I||new Uo(this._driver,t,0),b.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let c=this.options;null!=r.duration&&(c.duration=vn(r.duration)),null!=r.delay&&(c.delay=vn(r.delay));const h=r.params;if(h){let m=c.params;m||(m=this.options.params={}),Object.keys(h).forEach(b=>{(!t||!m.hasOwnProperty(b))&&(m[b]=Sr(h[b],m,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(c=>{r[c]=t[c]})}}return e}createSubContext(e=null,t,r){const c=t||this.element,h=new rc(this._driver,c,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(c,r||0));return h.previousNode=this.previousNode,h.currentAnimateTimings=this.currentAnimateTimings,h.options=this._copyOptions(),h.updateOptions(e),h.currentQueryIndex=this.currentQueryIndex,h.currentQueryTotal=this.currentQueryTotal,h.parentContext=this,this.subContextCount++,h}transformIntoNewTimeline(e){return this.previousNode=$r,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const c={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},h=new Ha(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,c,e.stretchStartingKeyframe);return this.timelines.push(h),c}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,c,h,m){let b=[];if(c&&b.push(this.element),e.length>0){e=(e=e.replace(to,"."+this._enterClassName)).replace(ba,"."+this._leaveClassName);let k=this._driver.query(this.element,e,1!=r);0!==r&&(k=r<0?k.slice(k.length+r,k.length):k.slice(0,r)),b.push(...k)}return!h&&0==b.length&&m.push(function _n(a){return new D.vHH(3014,!1)}()),b}}class Uo{constructor(e,t,r,c){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=c,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Uo(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||xe.l3),this._currentKeyframe.set(t,xe.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,c){t&&this._previousKeyframe.set("easing",t);const h=c&&c.params||{},m=function xl(a,e){const t=new Map;let r;return a.forEach(c=>{if("*"===c){r=r||e.keys();for(let h of r)t.set(h,xe.l3)}else ei(c,t)}),t}(e,this._globalTimelineStyles);for(let[b,I]of m){const k=Sr(I,h,r);this._pendingStyles.set(b,k),this._localTimelineStyles.has(b)||this._backFill.set(b,this._globalTimelineStyles.get(b)??xe.l3),this._updateStyle(b,k)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const c=this._styleSummary.get(r);(!c||t.time>c.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let c=[];this._keyframes.forEach((b,I)=>{const k=ei(b,new Map,this._backFill);k.forEach((W,ne)=>{W===xe.k1?e.add(ne):W===xe.l3&&t.add(ne)}),r||k.set("offset",I/this.duration),c.push(k)});const h=e.size?hs(e.values()):[],m=t.size?hs(t.values()):[];if(r){const b=c[0],I=new Map(b);b.set("offset",0),I.set("offset",1),c=[b,I]}return wo(this.element,c,h,m,this.duration,this.startTime,this.easing,!1)}}class Ha extends Uo{constructor(e,t,r,c,h,m,b=!1){super(e,t,m.delay),this.keyframes=r,this.preStyleProps=c,this.postStyleProps=h,this._stretchStartingKeyframe=b,this.timings={duration:m.duration,delay:m.delay,easing:m.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:c}=this.timings;if(this._stretchStartingKeyframe&&t){const h=[],m=r+t,b=t/m,I=ei(e[0]);I.set("offset",0),h.push(I);const k=ei(e[0]);k.set("offset",ra(b)),h.push(k);const W=e.length-1;for(let ne=1;ne<=W;ne++){let ge=ei(e[ne]);const Re=ge.get("offset");ge.set("offset",ra((t+Re*r)/m)),h.push(ge)}r=m,t=0,c="",e=h}return wo(this.element,e,this.preStyleProps,this.postStyleProps,r,t,c,!0)}}function ra(a,e=3){const t=Math.pow(10,e-1);return Math.round(a*t)/t}function sr(a,e,t,r,c,h,m,b,I,k,W,ne,ge){return{type:0,element:a,triggerName:e,isRemovalTransition:c,fromState:t,fromStyles:h,toState:r,toStyles:m,timelines:b,queriedElements:I,preStyleProps:k,postStyleProps:W,totalTime:ne,errors:ge}}const kr={};class wa{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,c){return function no(a,e,t,r,c){return a.some(h=>h(e,t,r,c))}(this.ast.matchers,e,t,r,c)}buildStyles(e,t,r){let c=this._stateStyles.get("*");return void 0!==e&&(c=this._stateStyles.get(e?.toString())||c),c?c.buildStyles(t,r):new Map}build(e,t,r,c,h,m,b,I,k,W){const ne=[],ge=this.ast.options&&this.ast.options.params||kr,qe=this.buildStyles(r,b&&b.params||kr,ne),pt=I&&I.params||kr,bt=this.buildStyles(c,pt,ne),qt=new Set,an=new Map,tn=new Map,wn="void"===c,gi={params:Us(pt,ge),delay:this.ast.options?.delay},$n=W?[]:al(e,t,this.ast.animation,h,m,qe,bt,gi,k,ne);let Be=0;if($n.forEach(Oe=>{Be=Math.max(Oe.duration+Oe.delay,Be)}),ne.length)return sr(t,this._triggerName,r,c,wn,qe,bt,[],[],an,tn,Be,ne);$n.forEach(Oe=>{const He=Oe.element,Ye=Wt(an,He,new Set);Oe.preStyleProps.forEach(Ne=>Ye.add(Ne));const it=Wt(tn,He,new Set);Oe.postStyleProps.forEach(Ne=>it.add(Ne)),He!==t&&qt.add(He)});const Ce=hs(qt.values());return sr(t,this._triggerName,r,c,wn,qe,bt,$n,Ce,an,tn,Be)}}function Us(a,e){const t=mi(e);for(const r in a)a.hasOwnProperty(r)&&null!=a[r]&&(t[r]=a[r]);return t}class xu{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,c=mi(this.defaultParams);return Object.keys(e).forEach(h=>{const m=e[h];null!==m&&(c[h]=m)}),this.styles.styles.forEach(h=>{"string"!=typeof h&&h.forEach((m,b)=>{m&&(m=Sr(m,c,t));const I=this.normalizer.normalizePropertyName(b,t);m=this.normalizer.normalizeStyleValue(b,I,m,t),r.set(b,m)})}),r}}class Ru{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(c=>{this.states.set(c.name,new xu(c.style,c.options&&c.options.params||{},r))}),ul(this.states,"true","1"),ul(this.states,"false","0"),t.transitions.forEach(c=>{this.transitionFactories.push(new wa(e,c,this.states))}),this.fallbackTransition=function sc(a,e,t){return new wa(a,{type:1,animation:{type:2,steps:[],options:null},matchers:[(m,b)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,c){return this.transitionFactories.find(m=>m.match(e,t,r,c))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function ul(a,e,t){a.has(e)?a.has(t)||a.set(t,a.get(e)):a.has(t)&&a.set(e,a.get(t))}const dl=new Ao;class Wn{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],h=Ea(this._driver,t,r,[]);if(r.length)throw function Cs(a){return new D.vHH(3503,!1)}();this._animations.set(e,h)}_buildPlayer(e,t,r){const c=e.element,h=et(this._normalizer,e.keyframes,t,r);return this._driver.animate(c,h,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const c=[],h=this._animations.get(e);let m;const b=new Map;if(h?(m=al(this._driver,t,h,Se,Ae,new Map,new Map,r,dl,c),m.forEach(W=>{const ne=Wt(b,W.element,new Map);W.postStyleProps.forEach(ge=>ne.set(ge,null))})):(c.push(function Hr(){return new D.vHH(3300,!1)}()),m=[]),c.length)throw function ns(a){return new D.vHH(3504,!1)}();b.forEach((W,ne)=>{W.forEach((ge,Re)=>{W.set(Re,this._driver.computeStyle(ne,Re,xe.l3))})});const k=ct(m.map(W=>{const ne=b.get(W.element);return this._buildPlayer(W,new Map,ne)}));return this._playersById.set(e,k),k.onDestroy(()=>this.destroy(e)),this.players.push(k),k}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function or(a){return new D.vHH(3301,!1)}();return t}listen(e,t,r,c){const h=Tt(t,"","","");return we(this._getPlayer(e),r,h,c),()=>{}}command(e,t,r,c){if("register"==r)return void this.register(e,c[0]);if("create"==r)return void this.create(e,t,c[0]||{});const h=this._getPlayer(e);switch(r){case"play":h.play();break;case"pause":h.pause();break;case"reset":h.reset();break;case"restart":h.restart();break;case"finish":h.finish();break;case"init":h.init();break;case"setPosition":h.setPosition(parseFloat(c[0]));break;case"destroy":this.destroy(e)}}}const Gi="ng-animate-queued",Gr="ng-animate-disabled",sa=[],K={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ee={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},V="__ng_removed";class J{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function xi(a){return a??null}(r?e.value:e),r){const h=mi(e);delete h.value,this.options=h}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(c=>{null==r[c]&&(r[c]=t[c])})}}}const _e="void",Rt=new J(_e);class kn{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,os(t,this._hostClassName)}listen(e,t,r,c){if(!this._triggers.has(t))throw function ar(a,e){return new D.vHH(3302,!1)}();if(null==r||0==r.length)throw function is(a){return new D.vHH(3303,!1)}();if(!function hl(a){return"start"==a||"done"==a}(r))throw function Vs(a,e){return new D.vHH(3400,!1)}();const h=Wt(this._elementListeners,e,[]),m={name:t,phase:r,callback:c};h.push(m);const b=Wt(this._engine.statesByElement,e,new Map);return b.has(t)||(os(e,ot),os(e,ot+"-"+t),b.set(t,Rt)),()=>{this._engine.afterFlush(()=>{const I=h.indexOf(m);I>=0&&h.splice(I,1),this._triggers.has(t)||b.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Cn(a){return new D.vHH(3401,!1)}();return t}trigger(e,t,r,c=!0){const h=this._getTrigger(t),m=new Wr(this.id,t,e);let b=this._engine.statesByElement.get(e);b||(os(e,ot),os(e,ot+"-"+t),this._engine.statesByElement.set(e,b=new Map));let I=b.get(t);const k=new J(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&I&&k.absorbOptions(I.options),b.set(t,k),I||(I=Rt),k.value!==_e&&I.value===k.value){if(!function pr(a,e){const t=Object.keys(a),r=Object.keys(e);if(t.length!=r.length)return!1;for(let c=0;c<t.length;c++){const h=t[c];if(!e.hasOwnProperty(h)||a[h]!==e[h])return!1}return!0}(I.params,k.params)){const pt=[],bt=h.matchStyles(I.value,I.params,pt),qt=h.matchStyles(k.value,k.params,pt);pt.length?this._engine.reportError(pt):this._engine.afterFlush(()=>{Ii(e,bt),Dt(e,qt)})}return}const ge=Wt(this._engine.playersByElement,e,[]);ge.forEach(pt=>{pt.namespaceId==this.id&&pt.triggerName==t&&pt.queued&&pt.destroy()});let Re=h.matchTransition(I.value,k.value,e,k.params),qe=!1;if(!Re){if(!c)return;Re=h.fallbackTransition,qe=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:Re,fromState:I,toState:k,player:m,isFallbackTransition:qe}),qe||(os(e,Gi),m.onStart(()=>{Ri(e,Gi)})),m.onDone(()=>{let pt=this.players.indexOf(m);pt>=0&&this.players.splice(pt,1);const bt=this._engine.playersByElement.get(e);if(bt){let qt=bt.indexOf(m);qt>=0&&bt.splice(qt,1)}}),this.players.push(m),ge.push(m),m}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(c=>c.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,St,!0);r.forEach(c=>{if(c[V])return;const h=this._engine.fetchNamespacesByElement(c);h.size?h.forEach(m=>m.triggerLeaveAnimation(c,t,!1,!0)):this.clearElementCache(c)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(c=>this.clearElementCache(c)))}triggerLeaveAnimation(e,t,r,c){const h=this._engine.statesByElement.get(e),m=new Map;if(h){const b=[];if(h.forEach((I,k)=>{if(m.set(k,I.value),this._triggers.has(k)){const W=this.trigger(e,k,_e,c);W&&b.push(W)}}),b.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,m),r&&ct(b).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const c=new Set;t.forEach(h=>{const m=h.name;if(c.has(m))return;c.add(m);const I=this._triggers.get(m).fallbackTransition,k=r.get(m)||Rt,W=new J(_e),ne=new Wr(this.id,m,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:m,transition:I,fromState:k,toState:W,player:ne,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let c=!1;if(r.totalAnimations){const h=r.players.length?r.playersByQueriedElement.get(e):[];if(h&&h.length)c=!0;else{let m=e;for(;m=m.parentNode;)if(r.statesByElement.get(m)){c=!0;break}}}if(this.prepareLeaveAnimationListeners(e),c)r.markElementAsRemoved(this.id,e,!1,t);else{const h=e[V];(!h||h===K)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){os(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const c=r.player;if(c.destroyed)return;const h=r.element,m=this._elementListeners.get(h);m&&m.forEach(b=>{if(b.name==r.triggerName){const I=Tt(h,r.triggerName,r.fromState.value,r.toState.value);I._data=e,we(r.player,b.phase,I,b.callback)}}),c.markedForDestroy?this._engine.afterFlush(()=>{c.destroy()}):t.push(r)}),this._queue=[],t.sort((r,c)=>{const h=r.transition.ast.depCount,m=c.transition.ast.depCount;return 0==h||0==m?h-m:this._engine.driver.containsElement(r.element,c.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class Yi{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(c,h)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new kn(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,c=this.namespacesByHostElement;if(r.length-1>=0){let m=!1,b=this.driver.getParentElement(t);for(;b;){const I=c.get(b);if(I){const k=r.indexOf(I);r.splice(k+1,0,e),m=!0;break}b=this.driver.getParentElement(b)}m||r.unshift(e)}else r.push(e);return c.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let c=this._namespaceLookup[e];c&&c.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);const c=this._namespaceList.indexOf(r);c>=0&&this._namespaceList.splice(c,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let c of r.values())if(c.namespaceId){const h=this._fetchNamespace(c.namespaceId);h&&t.add(h)}return t}trigger(e,t,r,c){if(fr(t)){const h=this._fetchNamespace(e);if(h)return h.trigger(t,r,c),!0}return!1}insertNode(e,t,r,c){if(!fr(t))return;const h=t[V];if(h&&h.setForRemoval){h.setForRemoval=!1,h.setForMove=!0;const m=this.collectedLeaveElements.indexOf(t);m>=0&&this.collectedLeaveElements.splice(m,1)}if(e){const m=this._fetchNamespace(e);m&&m.insertNode(t,r)}c&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),os(e,Gr)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ri(e,Gr))}removeNode(e,t,r){if(fr(t)){const c=e?this._fetchNamespace(e):null;c?c.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);const h=this.namespacesByHostElement.get(t);h&&h.id!==e&&h.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,c,h){this.collectedLeaveElements.push(t),t[V]={namespaceId:e,setForRemoval:c,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:h}}listen(e,t,r,c,h){return fr(t)?this._fetchNamespace(e).listen(t,r,c,h):()=>{}}_buildInstruction(e,t,r,c,h){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,c,e.fromState.options,e.toState.options,t,h)}destroyInnerAnimations(e){let t=this.driver.query(e,St,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Gt,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ct(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[V];if(t&&t.setForRemoval){if(e[V]=K,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Gr)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,c)=>this._balanceNamespaceList(r,c)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)os(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let c=0;c<r.length;c++)r[c]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?ct(t).onDone(()=>{r.forEach(c=>c())}):r.forEach(c=>c())}}reportError(e){throw function Tn(a){return new D.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new Ao,c=[],h=new Map,m=[],b=new Map,I=new Map,k=new Map,W=new Set;this.disabledNodes.forEach(Sn=>{W.add(Sn);const Nn=this.driver.query(Sn,".ng-animate-queued",!0);for(let Gn=0;Gn<Nn.length;Gn++)W.add(Nn[Gn])});const ne=this.bodyNode,ge=Array.from(this.statesByElement.keys()),Re=Ou(ge,this.collectedEnterElements),qe=new Map;let pt=0;Re.forEach((Sn,Nn)=>{const Gn=Se+pt++;qe.set(Nn,Gn),Sn.forEach(Ni=>os(Ni,Gn))});const bt=[],qt=new Set,an=new Set;for(let Sn=0;Sn<this.collectedLeaveElements.length;Sn++){const Nn=this.collectedLeaveElements[Sn],Gn=Nn[V];Gn&&Gn.setForRemoval&&(bt.push(Nn),qt.add(Nn),Gn.hasAnimation?this.driver.query(Nn,".ng-star-inserted",!0).forEach(Ni=>qt.add(Ni)):an.add(Nn))}const tn=new Map,wn=Ou(ge,Array.from(qt));wn.forEach((Sn,Nn)=>{const Gn=Ae+pt++;tn.set(Nn,Gn),Sn.forEach(Ni=>os(Ni,Gn))}),e.push(()=>{Re.forEach((Sn,Nn)=>{const Gn=qe.get(Nn);Sn.forEach(Ni=>Ri(Ni,Gn))}),wn.forEach((Sn,Nn)=>{const Gn=tn.get(Nn);Sn.forEach(Ni=>Ri(Ni,Gn))}),bt.forEach(Sn=>{this.processLeaveNode(Sn)})});const gi=[],$n=[];for(let Sn=this._namespaceList.length-1;Sn>=0;Sn--)this._namespaceList[Sn].drainQueuedTransitions(t).forEach(Gn=>{const Ni=Gn.player,Zs=Gn.element;if(gi.push(Ni),this.collectedEnterElements.length){const Ls=Zs[V];if(Ls&&Ls.setForMove){if(Ls.previousTriggersValues&&Ls.previousTriggersValues.has(Gn.triggerName)){const df=Ls.previousTriggersValues.get(Gn.triggerName),Dl=this.statesByElement.get(Gn.element);if(Dl&&Dl.has(Gn.triggerName)){const hf=Dl.get(Gn.triggerName);hf.value=df,Dl.set(Gn.triggerName,hf)}}return void Ni.destroy()}}const Mc=!ne||!this.driver.containsElement(ne,Zs),ks=tn.get(Zs),Jr=qe.get(Zs),es=this._buildInstruction(Gn,r,Jr,ks,Mc);if(es.errors&&es.errors.length)return void $n.push(es);if(Mc)return Ni.onStart(()=>Ii(Zs,es.fromStyles)),Ni.onDestroy(()=>Dt(Zs,es.toStyles)),void c.push(Ni);if(Gn.isFallbackTransition)return Ni.onStart(()=>Ii(Zs,es.fromStyles)),Ni.onDestroy(()=>Dt(Zs,es.toStyles)),void c.push(Ni);const og=[];es.timelines.forEach(Ls=>{Ls.stretchStartingKeyframe=!0,this.disabledNodes.has(Ls.element)||og.push(Ls)}),es.timelines=og,r.append(Zs,es.timelines),m.push({instruction:es,player:Ni,element:Zs}),es.queriedElements.forEach(Ls=>Wt(b,Ls,[]).push(Ni)),es.preStyleProps.forEach((Ls,df)=>{if(Ls.size){let Dl=I.get(df);Dl||I.set(df,Dl=new Set),Ls.forEach((hf,ag)=>Dl.add(ag))}}),es.postStyleProps.forEach((Ls,df)=>{let Dl=k.get(df);Dl||k.set(df,Dl=new Set),Ls.forEach((hf,ag)=>Dl.add(ag))})});if($n.length){const Sn=[];$n.forEach(Nn=>{Sn.push(function go(a,e){return new D.vHH(3505,!1)}())}),gi.forEach(Nn=>Nn.destroy()),this.reportError(Sn)}const Be=new Map,Ce=new Map;m.forEach(Sn=>{const Nn=Sn.element;r.has(Nn)&&(Ce.set(Nn,Nn),this._beforeAnimationBuild(Sn.player.namespaceId,Sn.instruction,Be))}),c.forEach(Sn=>{const Nn=Sn.element;this._getPreviousPlayers(Nn,!1,Sn.namespaceId,Sn.triggerName,null).forEach(Ni=>{Wt(Be,Nn,[]).push(Ni),Ni.destroy()})});const Oe=bt.filter(Sn=>fl(Sn,I,k)),He=new Map;Rl(He,this.driver,an,k,xe.l3).forEach(Sn=>{fl(Sn,I,k)&&Oe.push(Sn)});const it=new Map;Re.forEach((Sn,Nn)=>{Rl(it,this.driver,new Set(Sn),I,xe.k1)}),Oe.forEach(Sn=>{const Nn=He.get(Sn),Gn=it.get(Sn);He.set(Sn,new Map([...Nn?.entries()??[],...Gn?.entries()??[]]))});const Ne=[],Pc=[],sg={};m.forEach(Sn=>{const{element:Nn,player:Gn,instruction:Ni}=Sn;if(r.has(Nn)){if(W.has(Nn))return Gn.onDestroy(()=>Dt(Nn,Ni.toStyles)),Gn.disabled=!0,Gn.overrideTotalTime(Ni.totalTime),void c.push(Gn);let Zs=sg;if(Ce.size>1){let ks=Nn;const Jr=[];for(;ks=ks.parentNode;){const es=Ce.get(ks);if(es){Zs=es;break}Jr.push(ks)}Jr.forEach(es=>Ce.set(es,Zs))}const Mc=this._buildAnimation(Gn.namespaceId,Ni,Be,h,it,He);if(Gn.setRealPlayer(Mc),Zs===sg)Ne.push(Gn);else{const ks=this.playersByElement.get(Zs);ks&&ks.length&&(Gn.parentPlayer=ct(ks)),c.push(Gn)}}else Ii(Nn,Ni.fromStyles),Gn.onDestroy(()=>Dt(Nn,Ni.toStyles)),Pc.push(Gn),W.has(Nn)&&c.push(Gn)}),Pc.forEach(Sn=>{const Nn=h.get(Sn.element);if(Nn&&Nn.length){const Gn=ct(Nn);Sn.setRealPlayer(Gn)}}),c.forEach(Sn=>{Sn.parentPlayer?Sn.syncPlayerEvents(Sn.parentPlayer):Sn.destroy()});for(let Sn=0;Sn<bt.length;Sn++){const Nn=bt[Sn],Gn=Nn[V];if(Ri(Nn,Ae),Gn&&Gn.hasAnimation)continue;let Ni=[];if(b.size){let Mc=b.get(Nn);Mc&&Mc.length&&Ni.push(...Mc);let ks=this.driver.query(Nn,Gt,!0);for(let Jr=0;Jr<ks.length;Jr++){let es=b.get(ks[Jr]);es&&es.length&&Ni.push(...es)}}const Zs=Ni.filter(Mc=>!Mc.destroyed);Zs.length?Ol(this,Nn,Zs):this.processLeaveNode(Nn)}return bt.length=0,Ne.forEach(Sn=>{this.players.push(Sn),Sn.onDone(()=>{Sn.destroy();const Nn=this.players.indexOf(Sn);this.players.splice(Nn,1)}),Sn.play()}),Ne}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,c,h){let m=[];if(t){const b=this.playersByQueriedElement.get(e);b&&(m=b)}else{const b=this.playersByElement.get(e);if(b){const I=!h||h==_e;b.forEach(k=>{k.queued||!I&&k.triggerName!=c||m.push(k)})}}return(r||c)&&(m=m.filter(b=>!(r&&r!=b.namespaceId||c&&c!=b.triggerName))),m}_beforeAnimationBuild(e,t,r){const h=t.element,m=t.isRemovalTransition?void 0:e,b=t.isRemovalTransition?void 0:t.triggerName;for(const I of t.timelines){const k=I.element,W=k!==h,ne=Wt(r,k,[]);this._getPreviousPlayers(k,W,m,b,t.toState).forEach(Re=>{const qe=Re.getRealPlayer();qe.beforeDestroy&&qe.beforeDestroy(),Re.destroy(),ne.push(Re)})}Ii(h,t.fromStyles)}_buildAnimation(e,t,r,c,h,m){const b=t.triggerName,I=t.element,k=[],W=new Set,ne=new Set,ge=t.timelines.map(qe=>{const pt=qe.element;W.add(pt);const bt=pt[V];if(bt&&bt.removedBeforeQueried)return new xe.ZN(qe.duration,qe.delay);const qt=pt!==I,an=function Mr(a){const e=[];return js(a,e),e}((r.get(pt)||sa).map(Be=>Be.getRealPlayer())).filter(Be=>!!Be.element&&Be.element===pt),tn=h.get(pt),wn=m.get(pt),gi=et(this._normalizer,qe.keyframes,tn,wn),$n=this._buildPlayer(qe,gi,an);if(qe.subTimeline&&c&&ne.add(pt),qt){const Be=new Wr(e,b,pt);Be.setRealPlayer($n),k.push(Be)}return $n});k.forEach(qe=>{Wt(this.playersByQueriedElement,qe.element,[]).push(qe),qe.onDone(()=>function jo(a,e,t){let r=a.get(e);if(r){if(r.length){const c=r.indexOf(t);r.splice(c,1)}0==r.length&&a.delete(e)}return r}(this.playersByQueriedElement,qe.element,qe))}),W.forEach(qe=>os(qe,jt));const Re=ct(ge);return Re.onDestroy(()=>{W.forEach(qe=>Ri(qe,jt)),Dt(I,t.toStyles)}),ne.forEach(qe=>{Wt(c,qe,[]).push(Re)}),Re}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new xe.ZN(e.duration,e.delay)}}class Wr{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new xe.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(c=>we(e,r,void 0,c))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Wt(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function fr(a){return a&&1===a.nodeType}function Hn(a,e){const t=a.style.display;return a.style.display=e??"none",t}function Rl(a,e,t,r,c){const h=[];t.forEach(I=>h.push(Hn(I)));const m=[];r.forEach((I,k)=>{const W=new Map;I.forEach(ne=>{const ge=e.computeStyle(k,ne,c);W.set(ne,ge),(!ge||0==ge.length)&&(k[V]=ee,m.push(k))}),a.set(k,W)});let b=0;return t.forEach(I=>Hn(I,h[b++])),m}function Ou(a,e){const t=new Map;if(a.forEach(b=>t.set(b,[])),0==e.length)return t;const c=new Set(e),h=new Map;function m(b){if(!b)return 1;let I=h.get(b);if(I)return I;const k=b.parentNode;return I=t.has(k)?k:c.has(k)?1:m(k),h.set(b,I),I}return e.forEach(b=>{const I=m(b);1!==I&&t.get(I).push(b)}),t}function os(a,e){a.classList?.add(e)}function Ri(a,e){a.classList?.remove(e)}function Ol(a,e,t){ct(t).onDone(()=>a.processLeaveNode(e))}function js(a,e){for(let t=0;t<a.length;t++){const r=a[t];r instanceof xe.ZE?js(r.players,e):e.push(r)}}function fl(a,e,t){const r=t.get(a);if(!r)return!1;let c=e.get(a);return c?r.forEach(h=>c.add(h)):e.set(a,r),t.delete(a),!0}class Hs{constructor(e,t,r){this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(c,h)=>{},this._transitionEngine=new Yi(e.body,t,r),this._timelineEngine=new Wn(e.body,t,r),this._transitionEngine.onRemovalComplete=(c,h)=>this.onRemovalComplete(c,h)}registerTrigger(e,t,r,c,h){const m=e+"-"+c;let b=this._triggerCache[m];if(!b){const I=[],W=Ea(this._driver,h,I,[]);if(I.length)throw function Jt(a,e){return new D.vHH(3404,!1)}();b=function cl(a,e,t){return new Ru(a,e,t)}(c,W,this._normalizer),this._triggerCache[m]=b}this._transitionEngine.registerTrigger(t,c,b)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,c){this._transitionEngine.insertNode(e,t,r,c)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,c){if("@"==r.charAt(0)){const[h,m]=Pn(r);this._timelineEngine.command(h,t,m,c)}else this._transitionEngine.trigger(e,t,r,c)}listen(e,t,r,c,h){if("@"==r.charAt(0)){const[m,b]=Pn(r);return this._timelineEngine.listen(m,t,b,h)}return this._transitionEngine.listen(e,t,r,c,h)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let zs=(()=>{class a{static#e=this.initialStylesByElement=new WeakMap;constructor(t,r,c){this._element=t,this._startStyles=r,this._endStyles=c,this._state=0;let h=a.initialStylesByElement.get(t);h||a.initialStylesByElement.set(t,h=new Map),this._initialStyles=h}start(){this._state<1&&(this._startStyles&&Dt(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Dt(this._element,this._initialStyles),this._endStyles&&(Dt(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(a.initialStylesByElement.delete(this._element),this._startStyles&&(Ii(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ii(this._element,this._endStyles),this._endStyles=null),Dt(this._element,this._initialStyles),this._state=3)}}return a})();function qn(a){let e=null;return a.forEach((t,r)=>{(function Nu(a){return"display"===a||"position"===a})(r)&&(e=e||new Map,e.set(r,t))}),e}class pl{constructor(e,t,r,c){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=c,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,c)=>{"offset"!==c&&e.set(c,this._finished?r:ic(this.element,c))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Ho{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return Qo(e,t)}getParentElement(e){return ai(e)}query(e,t,r){return Li(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,c,h,m=[]){const I={duration:r,delay:c,fill:0==c?"both":"forwards"};h&&(I.easing=h);const k=new Map,W=m.filter(Re=>Re instanceof pl);(function fs(a,e){return 0===a||0===e})(r,c)&&W.forEach(Re=>{Re.currentSnapshot.forEach((qe,pt)=>k.set(pt,qe))});let ne=function Mi(a){return a.length?a[0]instanceof Map?a:a.map(e=>Ei(e)):[]}(t).map(Re=>ei(Re));ne=function nc(a,e,t){if(t.size&&e.length){let r=e[0],c=[];if(t.forEach((h,m)=>{r.has(m)||c.push(m),r.set(m,h)}),c.length)for(let h=1;h<e.length;h++){let m=e[h];c.forEach(b=>m.set(b,ic(a,b)))}}return e}(e,ne,k);const ge=function za(a,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=qn(e[0]),e.length>1&&(r=qn(e[e.length-1]))):e instanceof Map&&(t=qn(e)),t||r?new zs(a,t,r):null}(e,ne);return new pl(e,ne,I,ge)}}const $a="@.disabled";class Tr{constructor(e,t,r,c){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=c,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,c=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,c)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,c){this.delegate.setAttribute(e,t,r,c)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,c){this.delegate.setStyle(e,t,r,c)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==$a?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Lr extends Tr{constructor(e,t,r,c,h){super(t,r,c,h),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==$a?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const c=function xc(a){switch(a){case"body":return document.body;case"document":return document;case"window":return window;default:return a}}(e);let h=t.slice(1),m="";return"@"!=h.charAt(0)&&([h,m]=function gl(a){const e=a.indexOf(".");return[a.substring(0,e),a.slice(e+1)]}(h)),this.engine.listen(this.namespaceId,c,h,m,b=>{this.factory.scheduleListenerCallback(b._data||-1,r,b)})}return this.delegate.listen(e,t,r)}}class uc{constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(c,h)=>{const m=h?.parentNode(c);m&&h.removeChild(m,c)}}createRenderer(e,t){const c=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){const k=this._rendererCache;let W=k.get(c);return W||(W=new Tr("",c,this.engine,()=>k.delete(c)),k.set(c,W)),W}const h=t.id,m=t.id+"-"+this._currentId;this._currentId++,this.engine.register(m,e);const b=k=>{Array.isArray(k)?k.forEach(b):this.engine.registerTrigger(h,m,e,k.name,k)};return t.data.animation.forEach(b),new Lr(this,m,c,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){if(e>=0&&e<this._microtaskId)return void this._zone.run(()=>t(r));const c=this._animationCallbacksBuffer;0==c.length&&queueMicrotask(()=>{this._zone.run(()=>{c.forEach(h=>{const[m,b]=h;m(b)}),this._animationCallbacksBuffer=[]})}),c.push([t,r])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}const Lu=[{provide:Zo,useFactory:function ku(){return new ea}},{provide:Hs,useClass:(()=>{class a extends Hs{constructor(t,r,c,h){super(t,r,c)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(r){return new(r||a)(D.LFG(re.K0),D.LFG(Nr),D.LFG(Zo),D.LFG(D.z2F))};static#t=this.\u0275prov=D.Yz7({token:a,factory:a.\u0275fac})}return a})()},{provide:D.FYo,useFactory:function Rc(a,e,t){return new uc(a,e,t)},deps:[v.se,Hs,D.R0b]}],dc=[{provide:Nr,useFactory:()=>new Ho},{provide:D.QbO,useValue:"BrowserAnimations"},...Lu],Ga=[{provide:Nr,useClass:Js},{provide:D.QbO,useValue:"NoopAnimations"},...Lu];let Od=(()=>{class a{static withConfig(t){return{ngModule:a,providers:t.disableAnimations?Ga:dc}}static#e=this.\u0275fac=function(r){return new(r||a)};static#t=this.\u0275mod=D.oAB({type:a});static#n=this.\u0275inj=D.cJS({providers:dc,imports:[v.b2]})}return a})();var hg=H(3714),Nl=H(9246),Nc=H(8608),O=H(1865),ie=H(5609),j=H(707);let X=(()=>{class a{static#e=this.\u0275fac=function(r){return new(r||a)};static#t=this.\u0275mod=D.oAB({type:a});static#n=this.\u0275inj=D.cJS({imports:[re.ez,Un.u5,Nl.l,O.cc,j.hJ,ie.Iu]})}return a})(),ye=(()=>{class a{static#e=this.\u0275fac=function(r){return new(r||a)};static#t=this.\u0275mod=D.oAB({type:a});static#n=this.\u0275inj=D.cJS({imports:[v.b2,Un.u5,mn.JF,Od,hg.j,Nl.l,Nc.TX,O.cc,ie.Iu,$t.T,G.Bz,X]})}return a})();var lt=H(981),xt=H(7744),en=H(8140);let $i=(()=>{class a{constructor(t){this.http=t}getEvents(){return this.http.get("assets/demo/data/scheduleevents.json").toPromise().then(t=>t.data).then(t=>t)}static#e=this.\u0275fac=function(r){return new(r||a)(D.LFG(mn.eN))};static#t=this.\u0275prov=D.Yz7({token:a,factory:a.\u0275fac})}return a})();var wi=H(4528),Ai=H(1609),ti=H(7533),Er=H(6208),fi=H(8275),ut=H(5861);const zo=function(a){const e=[];let t=0;for(let r=0;r<a.length;r++){let c=a.charCodeAt(r);c<128?e[t++]=c:c<2048?(e[t++]=c>>6|192,e[t++]=63&c|128):55296==(64512&c)&&r+1<a.length&&56320==(64512&a.charCodeAt(r+1))?(c=65536+((1023&c)<<10)+(1023&a.charCodeAt(++r)),e[t++]=c>>18|240,e[t++]=c>>12&63|128,e[t++]=c>>6&63|128,e[t++]=63&c|128):(e[t++]=c>>12|224,e[t++]=c>>6&63|128,e[t++]=63&c|128)}return e},Co={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let c=0;c<a.length;c+=3){const h=a[c],m=c+1<a.length,b=m?a[c+1]:0,I=c+2<a.length,k=I?a[c+2]:0;let ge=(15&b)<<2|k>>6,Re=63&k;I||(Re=64,m||(ge=64)),r.push(t[h>>2],t[(3&h)<<4|b>>4],t[ge],t[Re])}return r.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(zo(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):function(a){const e=[];let t=0,r=0;for(;t<a.length;){const c=a[t++];if(c<128)e[r++]=String.fromCharCode(c);else if(c>191&&c<224){const h=a[t++];e[r++]=String.fromCharCode((31&c)<<6|63&h)}else if(c>239&&c<365){const I=((7&c)<<18|(63&a[t++])<<12|(63&a[t++])<<6|63&a[t++])-65536;e[r++]=String.fromCharCode(55296+(I>>10)),e[r++]=String.fromCharCode(56320+(1023&I))}else{const h=a[t++],m=a[t++];e[r++]=String.fromCharCode((15&c)<<12|(63&h)<<6|63&m)}}return e.join("")}(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let c=0;c<a.length;){const h=t[a.charAt(c++)],b=c<a.length?t[a.charAt(c)]:0;++c;const k=c<a.length?t[a.charAt(c)]:64;++c;const ne=c<a.length?t[a.charAt(c)]:64;if(++c,null==h||null==b||null==k||null==ne)throw new oa;r.push(h<<2|b>>4),64!==k&&(r.push(b<<4&240|k>>2),64!==ne&&r.push(k<<6&192|ne))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class oa extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kc=function(a){return function(a){const e=zo(a);return Co.encodeByteArray(e,!0)}(a).replace(/\./g,"")},To=function(a){try{return Co.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Zi=()=>{try{return function ml(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const a=process.env.__FIREBASE_DEFAULTS__;return a?JSON.parse(a):void 0})()||(()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&To(a[1]);return e&&JSON.parse(e)})()}catch(a){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`)}},qr=a=>{var e,t;return null===(t=null===(e=Zi())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[a]},gf=()=>{var a;return null===(a=Zi())||void 0===a?void 0:a.config},Io=a=>{var e;return null===(e=Zi())||void 0===e?void 0:e[`_${a}`]};class Lc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function ui(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class qa extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,qa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ju.prototype.create)}}class ju{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},c=`${this.service}/${e}`,h=this.errors[e],m=h?function Fd(a,e){return a.replace(mg,(t,r)=>{const c=e[r];return null!=c?String(c):`<${r}?>`})}(h,r):"Error";return new qa(c,`${this.serviceName}: ${m} (${c}).`,r)}}const mg=/\{\$([^}]+)}/g;function Bd(a,e){if(a===e)return!0;const t=Object.keys(a),r=Object.keys(e);for(const c of t){if(!r.includes(c))return!1;const h=a[c],m=e[c];if(Ud(h)&&Ud(m)){if(!Bd(h,m))return!1}else if(h!==m)return!1}for(const c of r)if(!t.includes(c))return!1;return!0}function Ud(a){return null!==a&&"object"==typeof a}function So(a){const e=[];for(const[t,r]of Object.entries(a))Array.isArray(r)?r.forEach(c=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(c))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class Eg{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let c;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");c=function E_(a,e){if("object"!=typeof a||null===a)return!1;for(const t of e)if(t in a&&"function"==typeof a[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===c.next&&(c.next=P),void 0===c.error&&(c.error=P),void 0===c.complete&&(c.complete=P);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?c.error(this.finalError):c.complete()}catch{}}),this.observers.push(c),h}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function P(){}function Ca(a){return a&&a._delegate?a._delegate:a}class so{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Vc="[DEFAULT]";class OE{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Lc;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const c=this.getOrInitializeService({instanceIdentifier:t});c&&r.resolve(c)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),c=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(c)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(h){if(c)return null;throw h}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function b_(a){return"EAGER"===a.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Vc})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(t);try{const h=this.getOrInitializeService({instanceIdentifier:c});r.resolve(h)}catch{}}}}clearInstance(e=Vc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return(0,ut.Z)(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Vc){return this.instances.has(e)}getOptions(e=Vc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const c=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[h,m]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(h)&&m.resolve(c);return c}onInit(e,t){var r;const c=this.normalizeInstanceIdentifier(t),h=null!==(r=this.onInitCallbacks.get(c))&&void 0!==r?r:new Set;h.add(e),this.onInitCallbacks.set(c,h);const m=this.instances.get(c);return m&&e(m,c),()=>{h.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const c of r)try{c(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(a=e,a===Vc?void 0:a),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var a;return r||null}normalizeInstanceIdentifier(e=Vc){return this.component?this.component.multipleInstances?e:Vc:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class jd{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new OE(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Ya=[];var zn=function(a){return a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT",a}(zn||{});const yl={debug:zn.DEBUG,verbose:zn.VERBOSE,info:zn.INFO,warn:zn.WARN,error:zn.ERROR,silent:zn.SILENT},Vl=zn.INFO,aa={[zn.DEBUG]:"log",[zn.VERBOSE]:"log",[zn.INFO]:"info",[zn.WARN]:"warn",[zn.ERROR]:"error"},yi=(a,e,...t)=>{if(e<a.logLevel)return;const r=(new Date).toISOString(),c=aa[e];if(!c)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[c](`[${r}]  ${a.name}:`,...t)};class gs{constructor(e){this.name=e,this._logLevel=Vl,this._logHandler=yi,this._userLogHandler=null,Ya.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in zn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?yl[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,zn.DEBUG,...e),this._logHandler(this,zn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,zn.VERBOSE,...e),this._logHandler(this,zn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,zn.INFO,...e),this._logHandler(this,zn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,zn.WARN,...e),this._logHandler(this,zn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,zn.ERROR,...e),this._logHandler(this,zn.ERROR,...e)}}const zu=(a,e)=>e.some(t=>a instanceof t);let Bc,w_;const Hd=new WeakMap,Uc=new WeakMap,C_=new WeakMap,zd=new WeakMap,bf=new WeakMap;let jc={get(a,e,t){if(a instanceof IDBTransaction){if("done"===e)return Uc.get(a);if("objectStoreNames"===e)return a.objectStoreNames||C_.get(a);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Bl(a[e])},set:(a,e,t)=>(a[e]=t,!0),has:(a,e)=>a instanceof IDBTransaction&&("done"===e||"store"===e)||e in a};function rC(a){return"function"==typeof a?function Gd(a){return a!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function A_(){return w_||(w_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(a)?function(...e){return a.apply(Wd(this),e),Bl(Hd.get(this))}:function(...e){return Bl(a.apply(Wd(this),e))}:function(e,...t){const r=a.call(Wd(this),e,...t);return C_.set(r,e.sort?e.sort():[e]),Bl(r)}}(a):(a instanceof IDBTransaction&&function NE(a){if(Uc.has(a))return;const e=new Promise((t,r)=>{const c=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",m),a.removeEventListener("abort",m)},h=()=>{t(),c()},m=()=>{r(a.error||new DOMException("AbortError","AbortError")),c()};a.addEventListener("complete",h),a.addEventListener("error",m),a.addEventListener("abort",m)});Uc.set(a,e)}(a),zu(a,function $u(){return Bc||(Bc=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(a,jc):a)}function Bl(a){if(a instanceof IDBRequest)return function $d(a){const e=new Promise((t,r)=>{const c=()=>{a.removeEventListener("success",h),a.removeEventListener("error",m)},h=()=>{t(Bl(a.result)),c()},m=()=>{r(a.error),c()};a.addEventListener("success",h),a.addEventListener("error",m)});return e.then(t=>{t instanceof IDBCursor&&Hd.set(t,a)}).catch(()=>{}),bf.set(e,a),e}(a);if(zd.has(a))return zd.get(a);const e=rC(a);return e!==a&&(zd.set(a,e),bf.set(e,a)),e}const Wd=a=>bf.get(a),kE=["get","getKey","getAll","getAllKeys","count"],wf=["put","add","delete","clear"],Af=new Map;function bg(a,e){if(!(a instanceof IDBDatabase)||e in a||"string"!=typeof e)return;if(Af.get(e))return Af.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,c=wf.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!c&&!kE.includes(t))return;const h=function(){var m=(0,ut.Z)(function*(b,...I){const k=this.transaction(b,c?"readwrite":"readonly");let W=k.store;return r&&(W=W.index(I.shift())),(yield Promise.all([W[t](...I),c&&k.done]))[0]});return function(I){return m.apply(this,arguments)}}();return Af.set(e,h),h}!function T_(a){jc=a(jc)}(a=>({...a,get:(e,t,r)=>bg(e,t)||a.get(e,t,r),has:(e,t)=>!!bg(e,t)||a.has(e,t)}));class wg{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function I_(a){const e=a.getComponent();return"VERSION"===e?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const Ag="@firebase/app",$o="0.10.11",vl=new gs("@firebase/app"),If="[DEFAULT]",N_={[Ag]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},fc=new Map,Ku=new Map,Sf=new Map;function Gc(a,e){try{a.container.addComponent(e)}catch(t){vl.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,t)}}function Ta(a){const e=a.name;if(Sf.has(e))return vl.debug(`There were multiple attempts to register component ${e}.`),!1;Sf.set(e,a);for(const t of fc.values())Gc(t,a);for(const t of Ku.values())Gc(t,a);return!0}function wr(a,e){const t=a.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),a.container.getProvider(e)}function pc(a){return void 0!==a.settings}const la=new ju("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Df{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new so("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw la.create("app-deleted",{appName:this._name})}}const Wc="10.13.2";function cC(a,e={}){let t=a;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:If,automaticDataCollectionEnabled:!1},e),c=r.name;if("string"!=typeof c||!c)throw la.create("bad-app-name",{appName:String(c)});if(t||(t=gf()),!t)throw la.create("no-options");const h=fc.get(c);if(h){if(Bd(t,h.options)&&Bd(r,h.config))return h;throw la.create("duplicate-app",{appName:c})}const m=new jd(c);for(const I of Sf.values())m.addComponent(I);const b=new Df(t,r,m);return fc.set(c,b),b}function L_(a=If){const e=fc.get(a);if(!e&&a===If&&gf())return cC();if(!e)throw la.create("no-app",{appName:a});return e}function ua(){return Array.from(fc.values())}function Go(a,e,t){var r;let c=null!==(r=N_[a])&&void 0!==r?r:a;t&&(c+=`-${t}`);const h=c.match(/\s|\//),m=e.match(/\s|\//);if(h||m){const b=[`Unable to register library "${c}" with version "${e}":`];return h&&b.push(`library name "${c}" contains illegal characters (whitespace or "/")`),h&&m&&b.push("and"),m&&b.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void vl.warn(b.join(" "))}Ta(new so(`${c}-version`,()=>({library:c,version:e}),"VERSION"))}const UE="firebase-heartbeat-database",hC=1,Pf="firebase-heartbeat-store";let F_=null;function jE(){return F_||(F_=function sC(a,e,{blocked:t,upgrade:r,blocking:c,terminated:h}={}){const m=indexedDB.open(a,e),b=Bl(m);return r&&m.addEventListener("upgradeneeded",I=>{r(Bl(m.result),I.oldVersion,I.newVersion,Bl(m.transaction),I)}),t&&m.addEventListener("blocked",I=>t(I.oldVersion,I.newVersion,I)),b.then(I=>{h&&I.addEventListener("close",()=>h()),c&&I.addEventListener("versionchange",k=>c(k.oldVersion,k.newVersion,k))}).catch(()=>{}),b}(UE,hC,{upgrade:(a,e)=>{if(0===e)try{a.createObjectStore(Pf)}catch(t){console.warn(t)}}}).catch(a=>{throw la.create("idb-open",{originalErrorMessage:a.message})})),F_}function Yu(){return(Yu=(0,ut.Z)(function*(a){try{const t=(yield jE()).transaction(Pf),r=yield t.objectStore(Pf).get(B_(a));return yield t.done,r}catch(e){if(e instanceof qa)vl.warn(e.message);else{const t=la.create("idb-get",{originalErrorMessage:e?.message});vl.warn(t.message)}}})).apply(this,arguments)}function HE(a,e){return Kd.apply(this,arguments)}function Kd(){return(Kd=(0,ut.Z)(function*(a,e){try{const r=(yield jE()).transaction(Pf,"readwrite");yield r.objectStore(Pf).put(e,B_(a)),yield r.done}catch(t){if(t instanceof qa)vl.warn(t.message);else{const r=la.create("idb-set",{originalErrorMessage:t?.message});vl.warn(r.message)}}})).apply(this,arguments)}function B_(a){return`${a.name}!${a.options.appId}`}class zE{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Yd(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return(0,ut.Z)(function*(){var t,r;try{const h=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),m=Dg();return null==(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)&&(e._heartbeatsCache=yield e._heartbeatsCachePromise,null==(null===(r=e._heartbeatsCache)||void 0===r?void 0:r.heartbeats))||e._heartbeatsCache.lastSentHeartbeatDate===m||e._heartbeatsCache.heartbeats.some(b=>b.date===m)?void 0:(e._heartbeatsCache.heartbeats.push({date:m,agent:h}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(b=>{const I=new Date(b.date).valueOf();return Date.now()-I<=2592e6}),e._storage.overwrite(e._heartbeatsCache))}catch(c){vl.warn(c)}})()}getHeartbeatsHeader(){var e=this;return(0,ut.Z)(function*(){var t;try{if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const r=Dg(),{heartbeatsToSend:c,unsentEntries:h}=function Pg(a,e=1024){const t=[];let r=a.slice();for(const c of a){const h=t.find(m=>m.agent===c.agent);if(h){if(h.dates.push(c.date),El(t)>e){h.dates.pop();break}}else if(t.push({agent:c.agent,dates:[c.date]}),El(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),m=kc(JSON.stringify({version:2,heartbeats:c}));return e._heartbeatsCache.lastSentHeartbeatDate=r,h.length>0?(e._heartbeatsCache.heartbeats=h,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),m}catch(r){return vl.warn(r),""}})()}}function Dg(){return(new Date).toISOString().substring(0,10)}class Yd{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,ut.Z)(function*(){return!!function yf(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function Ld(){return new Promise((a,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",c=self.indexedDB.open(r);c.onsuccess=()=>{c.result.close(),t||self.indexedDB.deleteDatabase(r),a(!0)},c.onupgradeneeded=()=>{t=!1},c.onerror=()=>{var h;e((null===(h=c.error)||void 0===h?void 0:h.message)||"")}}catch(t){e(t)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return(0,ut.Z)(function*(){if(yield e._canUseIndexedDBPromise){const r=yield function V_(a){return Yu.apply(this,arguments)}(e.app);return r?.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(e){var t=this;return(0,ut.Z)(function*(){var r;if(yield t._canUseIndexedDBPromise){const h=yield t.read();return HE(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:h.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return(0,ut.Z)(function*(){var r;if(yield t._canUseIndexedDBPromise){const h=yield t.read();return HE(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:h.lastSentHeartbeatDate,heartbeats:[...h.heartbeats,...e.heartbeats]})}})()}}function El(a){return kc(JSON.stringify({version:2,heartbeats:a})).length}!function Mg(a){Ta(new so("platform-logger",e=>new wg(e),"PRIVATE")),Ta(new so("heartbeat",e=>new zE(e),"PRIVATE")),Go(Ag,$o,a),Go(Ag,$o,"esm2017"),Go("fire-js","")}(""),Go("firebase","10.13.2","app");var $E=H(1954),GE=H(9931);const WE=new class pC extends GE.v{}(class SD extends $E.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}});var j_=H(6321),xg=H(5592),Zu=H(9397),Mf=H(5137),xf=H(3093);const zl=new D.GfV("ANGULARFIRE2_VERSION");function qE(a,e,t){if(e){if(1===e.length)return e[0];const h=e.filter(m=>m.app===t);if(1===h.length)return h[0]}return t.container.getProvider(a).getImmediate({optional:!0})}const Kc=(a,e)=>{const t=e?[e]:ua(),r=[];return t.forEach(c=>{c.container.getProvider(a).instances.forEach(m=>{r.includes(m)||r.push(m)})}),r};class Fr{constructor(){return Kc(Sa)}}const Sa="app-check";function $l(){}class Qd{zone;delegate;constructor(e,t=WE){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const c=this.zone;return this.delegate.schedule(function(m){c.runGuarded(()=>{e.apply(this,[m])})},t,r)}}class KE{zone;task=null;constructor(e){this.zone=e}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$l,{},$l,$l)),t.pipe((0,Zu.b)({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Zd=(()=>{class a{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Qd(Zone.current)),this.insideAngular=t.run(()=>new Qd(Zone.current,j_.z)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||a)(D.LFG(D.R0b))};static \u0275prov=D.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();function Yc(){const a=globalThis.\u0275AngularFireScheduler;if(!a)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return a}function Do(a){return Yc().ngZone.run(()=>a())}function Of(a){return function YE(a){return function(t){return(t=t.lift(new KE(a.ngZone))).pipe((0,Mf.R)(a.outsideAngular),(0,xf.Q)(a.insideAngular))}}(Yc())(a)}const Ng=(a,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Do(()=>a.apply(void 0,r))},Xu=(a,e)=>function(){let t;const r=arguments;for(let h=0;h<arguments.length;h++)"function"==typeof r[h]&&(e&&(t||=Do(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$l,{},$l,$l))),r[h]=Ng(r[h],t));const c=function Og(a){return Yc().ngZone.runOutsideAngular(()=>a())}(()=>a.apply(this,r));if(!e){if(c instanceof xg.y){const h=Yc();return c.pipe((0,Mf.R)(h.outsideAngular),(0,xf.Q)(h.insideAngular))}return Do(()=>c)}return c instanceof xg.y?c.pipe(Of):c instanceof Promise?Do(()=>new Promise((h,m)=>c.then(b=>Do(()=>h(b)),b=>Do(()=>m(b))))):"function"==typeof c&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),c.apply(this,arguments)}:Do(()=>c)};class Po{constructor(e){return e}}class da{constructor(){return ua()}}const kf=new D.OlP("angularfire2._apps"),$_={provide:Po,useFactory:function Nf(a){return a&&1===a.length?a[0]:new Po(L_())},deps:[[new D.FiY,kf]]},Qc={provide:da,deps:[[new D.FiY,kf]]};function QE(a){return(e,t)=>{const r=t.get(D.Lbi);Go("angularfire",zl.full,"core"),Go("angularfire",zl.full,"app"),Go("angular",D.q4F.full,r.toString());const c=e.runOutsideAngular(()=>a(t));return new Po(c)}}function XE(a,...e){return(0,D.MR2)([$_,Qc,{provide:kf,useFactory:QE(a),multi:!0,deps:[D.R0b,D.zs3,Zd,...e]}])}const q_=Xu(cC,!0);var Ju=H(7582);const Xd=function Lf(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Lg=new ju("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Vf=new gs("@firebase/auth");function ed(a,...e){Vf.logLevel<=zn.ERROR&&Vf.error(`Auth (${Wc}): ${a}`,...e)}function Wo(a,...e){throw Jd(a,...e)}function ms(a,...e){return Jd(a,...e)}function Bf(a,e,t){const r=Object.assign(Object.assign({},Xd()),{[e]:t});return new ju("auth","Firebase",r).create(e,{appName:a.name})}function _s(a){return Bf(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Jd(a,...e){if("string"!=typeof a){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=a.name),a._errorFactory.create(t,...r)}return Lg.create(a,...e)}function Yt(a,e,...t){if(!a)throw Jd(e,...t)}function bl(a){const e="INTERNAL ASSERTION FAILED: "+a;throw ed(e),new Error(e)}function mc(a,e){a||bl(e)}function eh(){var a;return typeof self<"u"&&(null===(a=self.location)||void 0===a?void 0:a.href)||""}function Z_(){var a;return typeof self<"u"&&(null===(a=self.location)||void 0===a?void 0:a.protocol)||null}function X_(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Uf(){return"http:"===Z_()||"https:"===Z_()}()||function mf(){const a="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof a&&void 0!==a.id}()||"connection"in navigator))||navigator.onLine}class wl{constructor(e,t){this.shortDelay=e,this.longDelay=t,mc(t>e,"Short delay should be less than long delay!"),this.isMobile=function Ps(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ui())}()||function Uu(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return X_()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function oo(a,e){mc(a.emulator,"Emulator should always be set here");const{url:t}=a.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class Al{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void bl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void bl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void bl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Hf={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},nb=new wl(3e4,6e4);function Fi(a,e){return a.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:a.tenantId}):e}function Ki(a,e,t,r){return J_.apply(this,arguments)}function J_(){return(J_=(0,ut.Z)(function*(a,e,t,r,c={}){return th(a,c,(0,ut.Z)(function*(){let h={},m={};r&&("GET"===e?m=r:h={body:JSON.stringify(r)});const b=So(Object.assign({key:a.config.apiKey},m)).slice(1),I=yield a._getAdditionalHeaders();I["Content-Type"]="application/json",a.languageCode&&(I["X-Firebase-Locale"]=a.languageCode);const k=Object.assign({method:e,headers:I},h);return function Bu(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}()||(k.referrerPolicy="no-referrer"),Al.fetch()(ib(a,a.config.apiHost,t,b),k)}))})).apply(this,arguments)}function th(a,e,t){return zf.apply(this,arguments)}function zf(){return(zf=(0,ut.Z)(function*(a,e,t){a._canInitEmulator=!1;const r=Object.assign(Object.assign({},Hf),e);try{const c=new Fg(a),h=yield Promise.race([t(),c.promise]);c.clearNetworkTimeout();const m=yield h.json();if("needConfirmation"in m)throw $f(a,"account-exists-with-different-credential",m);if(h.ok&&!("errorMessage"in m))return m;{const b=h.ok?m.errorMessage:m.error.message,[I,k]=b.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===I)throw $f(a,"credential-already-in-use",m);if("EMAIL_EXISTS"===I)throw $f(a,"email-already-in-use",m);if("USER_DISABLED"===I)throw $f(a,"user-disabled",m);const W=r[I]||I.toLowerCase().replace(/[_\s]+/g,"-");if(k)throw Bf(a,W,k);Wo(a,W)}}catch(c){if(c instanceof qa)throw c;Wo(a,"network-request-failed",{message:String(c)})}})).apply(this,arguments)}function _c(){return(_c=(0,ut.Z)(function*(a,e,t,r,c={}){const h=yield Ki(a,e,t,r,c);return"mfaPendingCredential"in h&&Wo(a,"multi-factor-auth-required",{_serverResponse:h}),h})).apply(this,arguments)}function ib(a,e,t,r){const c=`${e}${t}?${r}`;return a.config.emulator?oo(a.config,c):`${a.config.apiScheme}://${c}`}class Fg{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ms(this.auth,"network-request-failed")),nb.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $f(a,e,t){const r={appName:a.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const c=ms(a,e,r);return c.customData._tokenResponse=t,c}function iy(){return(iy=(0,ut.Z)(function*(a,e){return Ki(a,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function Pt(a,e){return yc.apply(this,arguments)}function yc(){return(yc=(0,ut.Z)(function*(a,e){return Ki(a,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function ao(a){if(a)try{const e=new Date(Number(a));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function vc(){return(vc=(0,ut.Z)(function*(a,e=!1){const t=Ca(a),r=yield t.getIdToken(e),c=nd(r);Yt(c&&c.exp&&c.auth_time&&c.iat,t.auth,"internal-error");const h="object"==typeof c.firebase?c.firebase:void 0,m=h?.sign_in_provider;return{claims:c,token:r,authTime:ao(Ug(c.auth_time)),issuedAtTime:ao(Ug(c.iat)),expirationTime:ao(Ug(c.exp)),signInProvider:m||null,signInSecondFactor:h?.sign_in_second_factor||null}})).apply(this,arguments)}function Ug(a){return 1e3*Number(a)}function nd(a){const[e,t,r]=a.split(".");if(void 0===e||void 0===t||void 0===r)return ed("JWT malformed, contained fewer than 3 sections"),null;try{const c=To(t);return c?JSON.parse(c):(ed("Failed to decode base64 JWT payload"),null)}catch(c){return ed("Caught error parsing JWT payload as JSON",c?.toString()),null}}function Jc(a){const e=nd(a);return Yt(e,"internal-error"),Yt(typeof e.exp<"u","internal-error"),Yt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Pa(a,e){return Za.apply(this,arguments)}function Za(){return(Za=(0,ut.Z)(function*(a,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof qa&&function ih({code:a}){return"auth/user-disabled"===a||"auth/user-token-expired"===a}(r)&&a.auth.currentUser===a&&(yield a.auth.signOut()),r}})).apply(this,arguments)}class ob{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const c=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,c)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout((0,ut.Z)(function*(){yield t.iteration()}),r)}iteration(){var e=this;return(0,ut.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class jg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ao(this.lastLoginAt),this.creationTime=ao(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function id(a){return Gf.apply(this,arguments)}function Gf(){return(Gf=(0,ut.Z)(function*(a){var e;const t=a.auth,r=yield a.getIdToken(),c=yield Pa(a,Pt(t,{idToken:r}));Yt(c?.users.length,t,"internal-error");const h=c.users[0];a._notifyReloadListener(h);const m=null!==(e=h.providerUserInfo)&&void 0!==e&&e.length?sy(h.providerUserInfo):[],b=function ab(a,e){return[...a.filter(r=>!e.some(c=>c.providerId===r.providerId)),...e]}(a.providerData,m),W=!!a.isAnonymous&&!(a.email&&h.passwordHash||b?.length),ne={uid:h.localId,displayName:h.displayName||null,photoURL:h.photoUrl||null,email:h.email||null,emailVerified:h.emailVerified||!1,phoneNumber:h.phoneNumber||null,tenantId:h.tenantId||null,providerData:b,metadata:new jg(h.createdAt,h.lastLoginAt),isAnonymous:W};Object.assign(a,ne)})).apply(this,arguments)}function Hg(){return(Hg=(0,ut.Z)(function*(a){const e=Ca(a);yield id(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function sy(a){return a.map(e=>{var{providerId:t}=e,r=(0,Ju._T)(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function zg(){return(zg=(0,ut.Z)(function*(a,e){const t=yield th(a,{},(0,ut.Z)(function*(){const r=So({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:c,apiKey:h}=a.config,m=ib(a,c,"/v1/token",`key=${h}`),b=yield a._getAdditionalHeaders();return b["Content-Type"]="application/x-www-form-urlencoded",Al.fetch()(m,{method:"POST",headers:b,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}function ys(){return(ys=(0,ut.Z)(function*(a,e){return Ki(a,"POST","/v2/accounts:revokeToken",Fi(a,e))})).apply(this,arguments)}class Gl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Yt(e.idToken,"internal-error"),Yt(typeof e.idToken<"u","internal-error"),Yt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Jc(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Yt(0!==e.length,"internal-error");const t=Jc(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){var r=this;return(0,ut.Z)(function*(){return t||!r.accessToken||r.isExpired?(Yt(r.refreshToken,e,"user-token-expired"),r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null):r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return(0,ut.Z)(function*(){const{accessToken:c,refreshToken:h,expiresIn:m}=yield function oy(a,e){return zg.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(c,h,Number(m))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:c,expirationTime:h}=t,m=new Gl;return r&&(Yt("string"==typeof r,"internal-error",{appName:e}),m.refreshToken=r),c&&(Yt("string"==typeof c,"internal-error",{appName:e}),m.accessToken=c),h&&(Yt("number"==typeof h,"internal-error",{appName:e}),m.expirationTime=h),m}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Gl,this.toJSON())}_performRefresh(){return bl("not implemented")}}function Wl(a,e){Yt("string"==typeof a||typeof a>"u","internal-error",{appName:e})}class Ma{constructor(e){var{uid:t,auth:r,stsTokenManager:c}=e,h=(0,Ju._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ob(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=c,this.accessToken=c.accessToken,this.displayName=h.displayName||null,this.email=h.email||null,this.emailVerified=h.emailVerified||!1,this.phoneNumber=h.phoneNumber||null,this.photoURL=h.photoURL||null,this.isAnonymous=h.isAnonymous||!1,this.tenantId=h.tenantId||null,this.providerData=h.providerData?[...h.providerData]:[],this.metadata=new jg(h.createdAt||void 0,h.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,ut.Z)(function*(){const r=yield Pa(t,t.stsTokenManager.getToken(t.auth,e));return Yt(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function ry(a){return vc.apply(this,arguments)}(this,e)}reload(){return function rh(a){return Hg.apply(this,arguments)}(this)}_assign(e){this!==e&&(Yt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ma(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Yt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return(0,ut.Z)(function*(){let c=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),c=!0),t&&(yield id(r)),yield r.auth._persistUserIfCurrent(r),c&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return(0,ut.Z)(function*(){if(pc(e.auth.app))return Promise.reject(_s(e.auth));const t=yield e.getIdToken();return yield Pa(e,function vC(a,e){return iy.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,c,h,m,b,I,k,W;const ne=null!==(r=t.displayName)&&void 0!==r?r:void 0,ge=null!==(c=t.email)&&void 0!==c?c:void 0,Re=null!==(h=t.phoneNumber)&&void 0!==h?h:void 0,qe=null!==(m=t.photoURL)&&void 0!==m?m:void 0,pt=null!==(b=t.tenantId)&&void 0!==b?b:void 0,bt=null!==(I=t._redirectEventId)&&void 0!==I?I:void 0,qt=null!==(k=t.createdAt)&&void 0!==k?k:void 0,an=null!==(W=t.lastLoginAt)&&void 0!==W?W:void 0,{uid:tn,emailVerified:wn,isAnonymous:gi,providerData:$n,stsTokenManager:Be}=t;Yt(tn&&Be,e,"internal-error");const Ce=Gl.fromJSON(this.name,Be);Yt("string"==typeof tn,e,"internal-error"),Wl(ne,e.name),Wl(ge,e.name),Yt("boolean"==typeof wn,e,"internal-error"),Yt("boolean"==typeof gi,e,"internal-error"),Wl(Re,e.name),Wl(qe,e.name),Wl(pt,e.name),Wl(bt,e.name),Wl(qt,e.name),Wl(an,e.name);const Oe=new Ma({uid:tn,auth:e,email:ge,emailVerified:wn,displayName:ne,isAnonymous:gi,photoURL:qe,phoneNumber:Re,tenantId:pt,stsTokenManager:Ce,createdAt:qt,lastLoginAt:an});return $n&&Array.isArray($n)&&(Oe.providerData=$n.map(He=>Object.assign({},He))),bt&&(Oe._redirectEventId=bt),Oe}static _fromIdTokenResponse(e,t,r=!1){return(0,ut.Z)(function*(){const c=new Gl;c.updateFromServerResponse(t);const h=new Ma({uid:t.localId,auth:e,stsTokenManager:c,isAnonymous:r});return yield id(h),h})()}static _fromGetAccountInfoResponse(e,t,r){return(0,ut.Z)(function*(){const c=t.users[0];Yt(void 0!==c.localId,"internal-error");const h=void 0!==c.providerUserInfo?sy(c.providerUserInfo):[],m=!(c.email&&c.passwordHash||h?.length),b=new Gl;b.updateFromIdToken(r);const I=new Ma({uid:c.localId,auth:e,stsTokenManager:b,isAnonymous:m}),k={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:h,metadata:new jg(c.createdAt,c.lastLoginAt),isAnonymous:!(c.email&&c.passwordHash||h?.length)};return Object.assign(I,k),I})()}}const Ws=new Map;function xa(a){mc(a instanceof Function,"Expected a class definition");let e=Ws.get(a);return e?(mc(e instanceof a,"Instance stored in cache mismatched with class"),e):(e=new a,Ws.set(a,e),e)}const $g=(()=>{class a{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,ut.Z)(function*(){return!0})()}_set(t,r){var c=this;return(0,ut.Z)(function*(){c.storage[t]=r})()}_get(t){var r=this;return(0,ut.Z)(function*(){const c=r.storage[t];return void 0===c?null:c})()}_remove(t){var r=this;return(0,ut.Z)(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return a.type="NONE",a})();function Wf(a,e,t){return`firebase:${a}:${e}:${t}`}class eu{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:c,name:h}=this.auth;this.fullUserKey=Wf(this.userKey,c.apiKey,h),this.fullPersistenceKey=Wf("persistence",c.apiKey,h),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,ut.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Ma._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,ut.Z)(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return(0,ut.Z)(function*(){if(!t.length)return new eu(xa($g),e,r);const c=(yield Promise.all(t.map(function(){var k=(0,ut.Z)(function*(W){if(yield W._isAvailable())return W});return function(W){return k.apply(this,arguments)}}()))).filter(k=>k);let h=c[0]||xa($g);const m=Wf(r,e.config.apiKey,e.name);let b=null;for(const k of t)try{const W=yield k._get(m);if(W){const ne=Ma._fromJSON(e,W);k!==h&&(b=ne),h=k;break}}catch{}const I=c.filter(k=>k._shouldAllowMigration);return h._shouldAllowMigration&&I.length?(h=I[0],b&&(yield h._set(m,b.toJSON())),yield Promise.all(t.map(function(){var k=(0,ut.Z)(function*(W){if(W!==h)try{yield W._remove(m)}catch{}});return function(W){return k.apply(this,arguments)}}())),new eu(h,e,r)):new eu(h,e,r)})()}}function ly(a){const e=a.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cy(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(qf(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Yf(e))return"Blackberry";if(Qf(e))return"Webos";if(tu(e))return"Safari";if((e.includes("chrome/")||Kf(e))&&!e.includes("edge/"))return"Chrome";if(Gg(e))return"Android";{const r=a.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function qf(a=ui()){return/firefox\//i.test(a)}function tu(a=ui()){const e=a.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Kf(a=ui()){return/crios\//i.test(a)}function cy(a=ui()){return/iemobile/i.test(a)}function Gg(a=ui()){return/android/i.test(a)}function Yf(a=ui()){return/blackberry/i.test(a)}function Qf(a=ui()){return/webos/i.test(a)}function Zf(a=ui()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function Wg(a=ui()){return Zf(a)||Gg(a)||Qf(a)||Yf(a)||/windows phone/i.test(a)||cy(a)}function qg(a,e=[]){let t;switch(a){case"Browser":t=ly(ui());break;case"Worker":t=`${ly(ui())}-${a}`;break;default:t=a}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Wc}/${r}`}class uy{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=h=>new Promise((m,b)=>{try{m(e(h))}catch(I){b(I)}});r.onAbort=t,this.queue.push(r);const c=this.queue.length-1;return()=>{this.queue[c]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return(0,ut.Z)(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const c of t.queue)yield c(e),c.onAbort&&r.push(c.onAbort)}catch(c){r.reverse();for(const h of r)try{h()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:c?.message})}})()}}function sd(){return(sd=(0,ut.Z)(function*(a,e={}){return Ki(a,"GET","/v2/passwordPolicy",Fi(a,e))})).apply(this,arguments)}class Kg{constructor(e){var t,r,c,h;const m=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=m.minPasswordLength)&&void 0!==t?t:6,m.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=m.maxPasswordLength),void 0!==m.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=m.containsLowercaseCharacter),void 0!==m.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=m.containsUppercaseCharacter),void 0!==m.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=m.containsNumericCharacter),void 0!==m.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=m.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(c=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==c?c:"",this.forceUpgradeOnSignin=null!==(h=e.forceUpgradeOnSignin)&&void 0!==h&&h,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,c,h,m,b;const I={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,I),this.validatePasswordCharacterOptions(e,I),I.isValid&&(I.isValid=null===(t=I.meetsMinPasswordLength)||void 0===t||t),I.isValid&&(I.isValid=null===(r=I.meetsMaxPasswordLength)||void 0===r||r),I.isValid&&(I.isValid=null===(c=I.containsLowercaseLetter)||void 0===c||c),I.isValid&&(I.isValid=null===(h=I.containsUppercaseLetter)||void 0===h||h),I.isValid&&(I.isValid=null===(m=I.containsNumericCharacter)||void 0===m||m),I.isValid&&(I.isValid=null===(b=I.containsNonAlphanumericCharacter)||void 0===b||b),I}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,c=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),c&&(t.meetsMaxPasswordLength=e.length<=c)}validatePasswordCharacterOptions(e,t){let r;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let c=0;c<e.length;c++)r=e.charAt(c),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,c,h){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=c)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=h))}}class Xf{constructor(e,t,r,c){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=c,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hy(this),this.idTokenSubscription=new hy(this),this.beforeStateQueue=new uy(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Lg,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=c.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=xa(t)),this._initializationPromise=this.queue((0,ut.Z)(function*(){var c,h;if(!r._deleted&&(r.persistenceManager=yield eu.create(r,e),!r._deleted)){if(null!==(c=r._popupRedirectResolver)&&void 0!==c&&c._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(h=r.currentUser)||void 0===h?void 0:h.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,ut.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUserFromIdToken(e){var t=this;return(0,ut.Z)(function*(){try{const r=yield Pt(t,{idToken:e}),c=yield Ma._fromGetAccountInfoResponse(t,r,e);yield t.directlySetCurrentUser(c)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),yield t.directlySetCurrentUser(null)}})()}initializeCurrentUser(e){var t=this;return(0,ut.Z)(function*(){var r;if(pc(t.app)){const b=t.app.settings.authIdToken;return b?new Promise(I=>{setTimeout(()=>t.initializeCurrentUserFromIdToken(b).then(I,I))}):t.directlySetCurrentUser(null)}const c=yield t.assertedPersistence.getCurrentUser();let h=c,m=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const b=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,I=h?._redirectEventId,k=yield t.tryRedirectSignIn(e);(!b||b===I)&&k?.user&&(h=k.user,m=!0)}if(!h)return t.directlySetCurrentUser(null);if(!h._redirectEventId){if(m)try{yield t.beforeStateQueue.runMiddleware(h)}catch(b){h=c,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(b))}return h?t.reloadAndSetCurrentUserOrClear(h):t.directlySetCurrentUser(null)}return Yt(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===h._redirectEventId?t.directlySetCurrentUser(h):t.reloadAndSetCurrentUserOrClear(h)})()}tryRedirectSignIn(e){var t=this;return(0,ut.Z)(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,ut.Z)(function*(){try{yield id(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function jf(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}()}_delete(){var e=this;return(0,ut.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,ut.Z)(function*(){if(pc(t.app))return Promise.reject(_s(t));const r=e?Ca(e):null;return r&&Yt(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return(0,ut.Z)(function*(){if(!r._deleted)return e&&Yt(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue((0,ut.Z)(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,ut.Z)(function*(){return pc(e.app)?Promise.reject(_s(e)):(yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0))})()}setPersistence(e){var t=this;return pc(this.app)?Promise.reject(_s(this)):this.queue((0,ut.Z)(function*(){yield t.assertedPersistence.setPersistence(xa(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var t=this;return(0,ut.Z)(function*(){t._getPasswordPolicyInternal()||(yield t._updatePasswordPolicy());const r=t._getPasswordPolicyInternal();return r.schemaVersion!==t.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(t._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return(0,ut.Z)(function*(){const t=yield function rd(a){return sd.apply(this,arguments)}(e),r=new Kg(t);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ju("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){var t=this;return(0,ut.Z)(function*(){if(t.currentUser){const r=yield t.currentUser.getIdToken(),c={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};null!=t.tenantId&&(c.tenantId=t.tenantId),yield function ay(a,e){return ys.apply(this,arguments)}(t,c)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return(0,ut.Z)(function*(){const c=yield r.getOrInitRedirectPersistenceManager(t);return null===e?c.removeCurrentUser():c.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,ut.Z)(function*(){if(!t.redirectPersistenceManager){const r=e&&xa(e)||t._popupRedirectResolver;Yt(r,t,"argument-error"),t.redirectPersistenceManager=yield eu.create(t,[xa(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,ut.Z)(function*(){var r,c;return t._isInitialized&&(yield t.queue((0,ut.Z)(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(c=t.redirectUser)||void 0===c?void 0:c._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,ut.Z)(function*(){if(e===t.currentUser)return t.queue((0,ut.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,c){if(this._deleted)return()=>{};const h="function"==typeof t?t:t.next.bind(t);let m=!1;const b=this._isInitialized?Promise.resolve():this._initializationPromise;if(Yt(b,this,"internal-error"),b.then(()=>{m||h(this.currentUser)}),"function"==typeof t){const I=e.addObserver(t,r,c);return()=>{m=!0,I()}}{const I=e.addObserver(t);return()=>{m=!0,I()}}}directlySetCurrentUser(e){var t=this;return(0,ut.Z)(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Yt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qg(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,ut.Z)(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const c=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();c&&(r["X-Firebase-Client"]=c);const h=yield e._getAppCheckToken();return h&&(r["X-Firebase-AppCheck"]=h),r})()}_getAppCheckToken(){var e=this;return(0,ut.Z)(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function tb(a,...e){Vf.logLevel<=zn.WARN&&Vf.warn(`Auth (${Wc}): ${a}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Qr(a){return Ca(a)}class hy{constructor(e){this.auth=e,this.observer=null,this.addObserver=function vg(a,e){const t=new Eg(a,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return Yt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let nu={loadJS:()=>(0,ut.Z)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function i(a){return`__${a}${Math.floor(1e6*Math.random())}`}function le(a){const e=a.indexOf(":");return e<0?"":a.substr(0,e+1)}function Fe(a){if(!a)return null;const e=Number(a);return isNaN(e)?null:e}class nt{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return bl("not implemented")}_getIdTokenResponse(e){return bl("not implemented")}_linkToIdToken(e,t){return bl("not implemented")}_getReauthenticationResolver(e){return bl("not implemented")}}function xs(a,e){return lh.apply(this,arguments)}function lh(){return(lh=(0,ut.Z)(function*(a,e){return function Mo(a,e,t,r){return _c.apply(this,arguments)}(a,"POST","/v1/accounts:signInWithIdp",Fi(a,e))})).apply(this,arguments)}class cd{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ND extends cd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ql{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,c=!1){return(0,ut.Z)(function*(){const h=yield Ma._fromIdTokenResponse(e,r,c),m=LD(r);return new ql({user:h,providerId:m,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return(0,ut.Z)(function*(){yield e._updateTokensIfNecessary(r,!0);const c=LD(r);return new ql({user:e,providerId:c,_tokenResponse:r,operationType:t})})()}}function LD(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}class my extends qa{constructor(e,t,r,c){var h;super(t.code,t.message),this.operationType=r,this.user=c,Object.setPrototypeOf(this,my.prototype),this.customData={appName:e.name,tenantId:null!==(h=e.tenantId)&&void 0!==h?h:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,c){return new my(e,t,r,c)}}function TC(a,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(a):t._getIdTokenResponse(a)).catch(h=>{throw"auth/multi-factor-auth-required"===h.code?my._fromErrorAndOperation(a,h,e,r):h})}function Jg(){return(Jg=(0,ut.Z)(function*(a,e,t=!1){const r=yield Pa(a,e._linkToIdToken(a.auth,yield a.getIdToken()),t);return ql._forOperation(a,"link",r)})).apply(this,arguments)}function mb(){return(mb=(0,ut.Z)(function*(a,e,t=!1){const{auth:r}=a;if(pc(r.app))return Promise.reject(_s(r));const c="reauthenticate";try{const h=yield Pa(a,TC(r,c,e,a),t);Yt(h.idToken,r,"internal-error");const m=nd(h.idToken);Yt(m,r,"internal-error");const{sub:b}=m;return Yt(a.uid===b,r,"user-mismatch"),ql._forOperation(a,c,h)}catch(h){throw"auth/user-not-found"===h?.code&&Wo(r,"user-mismatch"),h}})).apply(this,arguments)}function Ey(){return(Ey=(0,ut.Z)(function*(a,e,t=!1){if(pc(a.app))return Promise.reject(_s(a));const r="signIn",c=yield TC(a,r,e),h=yield ql._fromIdTokenResponse(a,r,c);return t||(yield a._updateCurrentUser(h.user)),h})).apply(this,arguments)}const Mb="__sak";class xb{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Mb,"1"),this.storage.removeItem(Mb),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const jC=(()=>{class a extends xb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Wg(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const c=this.storage.getItem(r),h=this.localCache[r];c!==h&&t(r,h,c)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((b,I,k)=>{this.notifyListeners(b,k)});const c=t.key;r?this.detachListener():this.stopPolling();const h=()=>{const b=this.storage.getItem(c);!r&&this.localCache[c]===b||this.notifyListeners(c,b)},m=this.storage.getItem(c);!function cb(){return function _f(){const a=ui();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}()&&10===document.documentMode}()||m===t.newValue||t.newValue===t.oldValue?h():setTimeout(h,10)}notifyListeners(t,r){this.localCache[t]=r;const c=this.listeners[t];if(c)for(const h of Array.from(c))h(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,c)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:c}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var c=()=>super._set,h=this;return(0,ut.Z)(function*(){yield c().call(h,t,r),h.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,c=this;return(0,ut.Z)(function*(){const h=yield r().call(c,t);return c.localCache[t]=JSON.stringify(h),h})()}_remove(t){var r=()=>super._remove,c=this;return(0,ut.Z)(function*(){yield r().call(c,t),delete c.localCache[t]})()}}return a.type="LOCAL",a})(),HC=(()=>{class a extends xb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return a.type="SESSION",a})();let tP=(()=>{class a{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(h=>h.isListeningto(t));if(r)return r;const c=new a(t);return this.receivers.push(c),c}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return(0,ut.Z)(function*(){const c=t,{eventId:h,eventType:m,data:b}=c.data,I=r.handlersMap[m];if(!I?.size)return;c.ports[0].postMessage({status:"ack",eventId:h,eventType:m});const k=Array.from(I).map(function(){var ne=(0,ut.Z)(function*(ge){return ge(c.origin,b)});return function(ge){return ne.apply(this,arguments)}}()),W=yield function eP(a){return Promise.all(a.map(function(){var e=(0,ut.Z)(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(k);c.ports[0].postMessage({status:"done",eventId:h,eventType:m,response:W})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return a.receivers=[],a})();function Ob(a="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return a+t}class zC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var c=this;return(0,ut.Z)(function*(){const h=typeof MessageChannel<"u"?new MessageChannel:null;if(!h)throw new Error("connection_unavailable");let m,b;return new Promise((I,k)=>{const W=Ob("",20);h.port1.start();const ne=setTimeout(()=>{k(new Error("unsupported_event"))},r);b={messageChannel:h,onMessage(ge){const Re=ge;if(Re.data.eventId===W)switch(Re.data.status){case"ack":clearTimeout(ne),m=setTimeout(()=>{k(new Error("timeout"))},3e3);break;case"done":clearTimeout(m),I(Re.data.response);break;default:clearTimeout(ne),clearTimeout(m),k(new Error("invalid_response"))}}},c.handlers.add(b),h.port1.addEventListener("message",b.onMessage),c.target.postMessage({eventType:e,eventId:W,data:t},[h.port2])}).finally(()=>{b&&c.removeMessageHandler(b)})})()}}function Ks(){return window}function Ec(){return typeof Ks().WorkerGlobalScope<"u"&&"function"==typeof Ks().importScripts}function op(){return(op=(0,ut.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const qC="firebaseLocalStorageDb",Py="firebaseLocalStorage",KC="fbase_key";class ap{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function kb(a,e){return a.transaction([Py],e?"readwrite":"readonly").objectStore(Py)}function YC(){const a=indexedDB.open(qC,1);return new Promise((e,t)=>{a.addEventListener("error",()=>{t(a.error)}),a.addEventListener("upgradeneeded",()=>{const r=a.result;try{r.createObjectStore(Py,{keyPath:KC})}catch(c){t(c)}}),a.addEventListener("success",(0,ut.Z)(function*(){const r=a.result;r.objectStoreNames.contains(Py)?e(r):(r.close(),yield function iP(){const a=indexedDB.deleteDatabase(qC);return new ap(a).toPromise()}(),e(yield YC()))}))})}function rP(a,e,t){return My.apply(this,arguments)}function My(){return(My=(0,ut.Z)(function*(a,e,t){const r=kb(a,!0).put({[KC]:e,value:t});return new ap(r).toPromise()})).apply(this,arguments)}function ZC(){return(ZC=(0,ut.Z)(function*(a,e){const t=kb(a,!1).get(e),r=yield new ap(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function ri(a,e){const t=kb(a,!0).delete(e);return new ap(t).toPromise()}const eT=(()=>{class a{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return(0,ut.Z)(function*(){return t.db||(t.db=yield YC()),t.db})()}_withRetries(t){var r=this;return(0,ut.Z)(function*(){let c=0;for(;;)try{const h=yield r._openDb();return yield t(h)}catch(h){if(c++>3)throw h;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return(0,ut.Z)(function*(){return Ec()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return(0,ut.Z)(function*(){t.receiver=tP._getInstance(function WC(){return Ec()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=(0,ut.Z)(function*(c,h){return{keyProcessed:(yield t._poll()).includes(h.key)}});return function(c,h){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=(0,ut.Z)(function*(c,h){return["keyChanged"]});return function(c,h){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return(0,ut.Z)(function*(){var r,c;if(t.activeServiceWorker=yield function $C(){return op.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new zC(t.activeServiceWorker);const h=yield t.sender._send("ping",{},800);h&&null!==(r=h[0])&&void 0!==r&&r.fulfilled&&null!==(c=h[0])&&void 0!==c&&c.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return(0,ut.Z)(function*(){if(r.sender&&r.activeServiceWorker&&function GC(){var a;return(null===(a=navigator?.serviceWorker)||void 0===a?void 0:a.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,ut.Z)(function*(){try{if(!indexedDB)return!1;const t=yield YC();return yield rP(t,Mb,"1"),yield ri(t,Mb),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return(0,ut.Z)(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var c=this;return(0,ut.Z)(function*(){return c._withPendingWrite((0,ut.Z)(function*(){return yield c._withRetries(h=>rP(h,t,r)),c.localCache[t]=r,c.notifyServiceWorker(t)}))})()}_get(t){var r=this;return(0,ut.Z)(function*(){const c=yield r._withRetries(h=>function QC(a,e){return ZC.apply(this,arguments)}(h,t));return r.localCache[t]=c,c})()}_remove(t){var r=this;return(0,ut.Z)(function*(){return r._withPendingWrite((0,ut.Z)(function*(){return yield r._withRetries(c=>ri(c,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return(0,ut.Z)(function*(){const r=yield t._withRetries(m=>{const b=kb(m,!1).getAll();return new ap(b).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const c=[],h=new Set;if(0!==r.length)for(const{fbase_key:m,value:b}of r)h.add(m),JSON.stringify(t.localCache[m])!==JSON.stringify(b)&&(t.notifyListeners(m,b),c.push(m));for(const m of Object.keys(t.localCache))t.localCache[m]&&!h.has(m)&&(t.notifyListeners(m,null),c.push(m));return c})()}notifyListeners(t,r){this.localCache[t]=r;const c=this.listeners[t];if(c)for(const h of Array.from(c))h(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval((0,ut.Z)(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return a.type="LOCAL",a})();i("rcb"),new wl(3e4,6e4);class Wb extends nt{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xs(e,this._buildIdpRequest())}_linkToIdToken(e,t){return xs(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return xs(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function iT(a){return function vy(a,e){return Ey.apply(this,arguments)}(a.auth,new Wb(a),a.bypassAuthState)}function hP(a){const{auth:e,user:t}=a;return Yt(t,e,"internal-error"),function gb(a,e){return mb.apply(this,arguments)}(t,new Wb(a),a.bypassAuthState)}function fP(a){return cm.apply(this,arguments)}function cm(){return(cm=(0,ut.Z)(function*(a){const{auth:e,user:t}=a;return Yt(t,e,"internal-error"),function _y(a,e){return Jg.apply(this,arguments)}(t,new Wb(a),a.bypassAuthState)})).apply(this,arguments)}class pP{constructor(e,t,r,c,h=!1){this.auth=e,this.resolver=r,this.user=c,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=(0,ut.Z)(function*(r,c){e.pendingPromise={resolve:r,reject:c};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(h){e.reject(h)}});return function(r,c){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return(0,ut.Z)(function*(){const{urlResponse:r,sessionId:c,postBody:h,tenantId:m,error:b,type:I}=e;if(b)return void t.reject(b);const k={auth:t.auth,requestUri:r,sessionId:c,tenantId:m||void 0,postBody:h||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(I)(k))}catch(W){t.reject(W)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return iT;case"linkViaPopup":case"linkViaRedirect":return fP;case"reauthViaPopup":case"reauthViaRedirect":return hP;default:Wo(this.auth,"internal-error")}}resolve(e){mc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){mc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new wl(2e3,1e4);const gP="pendingRedirect",cp=new Map;class sT extends pP{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return(0,ut.Z)(function*(){let r=cp.get(t.auth._key());if(!r){try{const h=(yield function Ly(a,e){return um.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(h)}catch(c){r=()=>Promise.reject(c)}cp.set(t.auth._key(),r)}return t.bypassAuthState||cp.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return(0,ut.Z)(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const c=yield r.auth._redirectUserForId(e.eventId);if(c)return r.user=c,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return(0,ut.Z)(function*(){})()}cleanUp(){}}function um(){return(um=(0,ut.Z)(function*(a,e){const t=function Vy(a){return Wf(gP,a.config.apiKey,a.name)}(e),r=function dm(a){return xa(a._redirectPersistence)}(a);if(!(yield r._isAvailable()))return!1;const c="true"===(yield r._get(t));return yield r._remove(t),c})).apply(this,arguments)}function aT(a,e){cp.set(a._key(),e)}function Uy(a,e){return jy.apply(this,arguments)}function jy(){return(jy=(0,ut.Z)(function*(a,e,t=!1){if(pc(a.app))return Promise.reject(_s(a));const r=Qr(a),c=function mh(a,e){return e?xa(e):(Yt(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}(r,e),m=yield new sT(r,c,t).execute();return m&&!t&&(delete m.user._redirectEventId,yield r._persistUserIfCurrent(m.user),yield r._setRedirectUser(null,e)),m})).apply(this,arguments)}class yP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function vP(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dT(a);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!dT(e)){const c=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(ms(this.auth,c))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(uT(e))}saveEventToCache(e){this.cachedEventUids.add(uT(e)),this.lastProcessedEventTime=Date.now()}}function uT(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(e=>e).join("-")}function dT({type:a,error:e}){return"unknown"===a&&"auth/no-auth-event"===e?.code}function hT(){return(hT=(0,ut.Z)(function*(a,e={}){return Ki(a,"GET","/v1/projects",e)})).apply(this,arguments)}const Hy=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,EP=/^https?/;function fT(){return fT=(0,ut.Z)(function*(a){if(a.config.emulator)return;const{authorizedDomains:e}=yield function a1(a){return hT.apply(this,arguments)}(a);for(const t of e)try{if(wP(t))return}catch{}Wo(a,"unauthorized-domain")}),fT.apply(this,arguments)}function wP(a){const e=eh(),{protocol:t,hostname:r}=new URL(e);if(a.startsWith("chrome-extension://")){const m=new URL(a);return""===m.hostname&&""===r?"chrome-extension:"===t&&a.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&m.hostname===r}if(!EP.test(t))return!1;if(Hy.test(a))return r===a;const c=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+c+"|"+c+")$","i").test(r)}const AP=new wl(3e4,6e4);function pT(){const a=Ks().___jsl;if(a?.H)for(const e of Object.keys(a.H))if(a.H[e].r=a.H[e].r||[],a.H[e].L=a.H[e].L||[],a.H[e].r=[...a.H[e].L],a.CP)for(let t=0;t<a.CP.length;t++)a.CP[t]=null}function CP(a){return new Promise((e,t)=>{var r,c,h;function m(){pT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{pT(),t(ms(a,"network-request-failed"))},timeout:AP.get()})}if(null!==(c=null===(r=Ks().gapi)||void 0===r?void 0:r.iframes)&&void 0!==c&&c.Iframe)e(gapi.iframes.getContext());else{if(null===(h=Ks().gapi)||void 0===h||!h.load){const b=i("iframefcb");return Ks()[b]=()=>{gapi.load?m():t(ms(a,"network-request-failed"))},function ah(a){return nu.loadJS(a)}(`${function C(){return nu.gapiScript}()}?onload=${b}`).catch(I=>t(I))}m()}}).catch(e=>{throw zy=null,e})}let zy=null;const mT=new wl(5e3,15e3),yh="__/auth/iframe",TP="emulator/auth/iframe",Zb={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _T(a){const e=a.config;Yt(e.authDomain,a,"auth-domain-config-required");const t=e.emulator?oo(e,TP):`https://${a.config.authDomain}/${yh}`,r={apiKey:e.apiKey,appName:a.name,v:Wc},c=bc.get(a.config.apiHost);c&&(r.eid=c);const h=a._getFrameworks();return h.length&&(r.fw=h.join(",")),`${t}?${So(r).slice(1)}`}function yT(){return yT=(0,ut.Z)(function*(a){const e=yield function gT(a){return zy=zy||CP(a),zy}(a),t=Ks().gapi;return Yt(t,a,"internal-error"),e.open({where:document.body,url:_T(a),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Zb,dontclear:!0},r=>new Promise(function(){var c=(0,ut.Z)(function*(h,m){yield r.restyle({setHideOnLeave:!1});const b=ms(a,"network-request-failed"),I=Ks().setTimeout(()=>{m(b)},mT.get());function k(){Ks().clearTimeout(I),h(r)}r.ping(k).then(k,()=>{m(b)})});return function(h,m){return c.apply(this,arguments)}}()))}),yT.apply(this,arguments)}const Rs={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class $y{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const MP="__/auth/handler",bT="emulator/auth/handler",wT=encodeURIComponent("fac");function AT(a,e,t,r,c,h){return Jb.apply(this,arguments)}function Jb(){return(Jb=(0,ut.Z)(function*(a,e,t,r,c,h){Yt(a.config.authDomain,a,"auth-domain-config-required"),Yt(a.config.apiKey,a,"invalid-api-key");const m={apiKey:a.config.apiKey,appName:a.name,authType:t,redirectUrl:r,v:Wc,eventId:c};if(e instanceof cd){e.setDefaultLanguage(a.languageCode),m.providerId=e.providerId||"",function Vd(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}(e.getCustomParameters())||(m.customParameters=JSON.stringify(e.getCustomParameters()));for(const[W,ne]of Object.entries(h||{}))m[W]=ne}if(e instanceof ND){const W=e.getScopes().filter(ne=>""!==ne);W.length>0&&(m.scopes=W.join(","))}a.tenantId&&(m.tid=a.tenantId);const b=m;for(const W of Object.keys(b))void 0===b[W]&&delete b[W];const I=yield a._getAppCheckToken(),k=I?`#${wT}=${encodeURIComponent(I)}`:"";return`${function vh({config:a}){return a.emulator?oo(a,bT):`https://${a.authDomain}/${MP}`}(a)}?${So(b).slice(1)}${k}`})).apply(this,arguments)}const Gy="webStorageSupport",xP=class CT{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=HC,this._completeRedirectFn=Uy,this._overrideRedirectResult=aT}_openPopup(e,t,r,c){var h=this;return(0,ut.Z)(function*(){var m;mc(null===(m=h.eventManagers[e._key()])||void 0===m?void 0:m.manager,"_initialize() not called before _openPopup()");const b=yield AT(e,t,r,eh(),c);return function vT(a,e,t,r=500,c=600){const h=Math.max((window.screen.availHeight-c)/2,0).toString(),m=Math.max((window.screen.availWidth-r)/2,0).toString();let b="";const I=Object.assign(Object.assign({},Rs),{width:r.toString(),height:c.toString(),top:h,left:m}),k=ui().toLowerCase();t&&(b=Kf(k)?"_blank":t),qf(k)&&(e=e||"http://localhost",I.scrollbars="yes");const W=Object.entries(I).reduce((ge,[Re,qe])=>`${ge}${Re}=${qe},`,"");if(function lb(a=ui()){var e;return Zf(a)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(k)&&"_self"!==b)return function ET(a,e){const t=document.createElement("a");t.href=a,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",b),new $y(null);const ne=window.open(e||"",b,W);Yt(ne,a,"popup-blocked");try{ne.focus()}catch{}return new $y(ne)}(e,b,Ob())})()}_openRedirect(e,t,r,c){var h=this;return(0,ut.Z)(function*(){return yield h._originValidation(e),function Nb(a){Ks().location.href=a}(yield AT(e,t,r,eh(),c)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:c,promise:h}=this.eventManagers[t];return c?Promise.resolve(c):(mc(h,"If manager is not set, promise should be"),h)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return(0,ut.Z)(function*(){const r=yield function IP(a){return yT.apply(this,arguments)}(e),c=new yP(e);return r.register("authEvent",h=>(Yt(h?.authEvent,e,"invalid-auth-event"),{status:c.onEvent(h.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:c},t.iframes[e._key()]=r,c})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Gy,{type:Gy},c=>{var h;const m=null===(h=c?.[0])||void 0===h?void 0:h[Gy];void 0!==m&&t(!!m),Wo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function bP(a){return fT.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Wg()||tu()||Zf()}};var IT="@firebase/auth";class ST{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,ut.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Yt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const pm=Io("authIdTokenMaxAge")||300;let PT=null;const LP=a=>function(){var e=(0,ut.Z)(function*(t){const r=t&&(yield t.getIdTokenResult()),c=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(c&&c>pm)return;const h=r?.token;PT!==h&&(PT=h,yield fetch(a,{method:h?"POST":"DELETE",headers:h?{Authorization:`Bearer ${h}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function FP(a=L_()){const e=wr(a,"auth");if(e.isInitialized())return e.getImmediate();const t=function B(a,e){const t=wr(a,"auth");if(t.isInitialized()){const c=t.getImmediate();if(Bd(t.getOptions(),e??{}))return c;Wo(c,"already-initialized")}return t.initialize({options:e})}(a,{popupRedirectResolver:xP,persistence:[eT,jC,HC]}),r=Io("authTokenSyncURL");if(r&&"boolean"==typeof isSecureContext&&isSecureContext){const h=new URL(r,location.origin);if(location.origin===h.origin){const m=LP(h.toString());(function KD(a,e,t){Ca(a).beforeAuthStateChanged(e,t)})(t,m,()=>m(t.currentUser)),function qD(a,e,t,r){Ca(a).onIdTokenChanged(e,t,r)}(t,b=>m(b))}}const c=qr("auth");return c&&function se(a,e,t){const r=Qr(a);Yt(r._canInitEmulator,r,"emulator-config-failed"),Yt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const c=!!t?.disableWarnings,h=le(e),{host:m,port:b}=function me(a){const e=le(a),t=/(\/\/)?([^?#/]+)/.exec(a.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",c=/^(\[[^\]]+\])(:|$)/.exec(r);if(c){const h=c[1];return{host:h,port:Fe(r.substr(h.length+1))}}{const[h,m]=r.split(":");return{host:h,port:Fe(m)}}}(e);r.config.emulator={url:`${h}//${m}${null===b?"":`:${b}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:m,port:b,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:c})}),c||function Te(){function a(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",a):a())}()}(t,`http://${c}`),t}(function oh(a){nu=a})({loadJS:a=>new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",a),r.onload=e,r.onerror=c=>{const h=ms("internal-error");h.customData=c,t(h)},r.type="text/javascript",r.charset="UTF-8",function VP(){var a,e;return null!==(e=null===(a=document.getElementsByTagName("head"))||void 0===a?void 0:a[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function NP(a){Ta(new so("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),c=e.getProvider("heartbeat"),h=e.getProvider("app-check-internal"),{apiKey:m,authDomain:b}=r.options;Yt(m&&!m.includes(":"),"invalid-api-key",{appName:r.name});const I={apiKey:m,authDomain:b,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qg(a)},k=new Xf(r,c,h,I);return function Y(a,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(xa);e?.errorMap&&a._updateErrorMap(e.errorMap),a._initializeWithPersistence(r,e?.popupRedirectResolver)}(k,t),k},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ta(new so("auth-internal",e=>{const t=Qr(e.getProvider("auth").getImmediate());return new ST(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Go(IT,"1.7.9",function DT(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(a)),Go(IT,"1.7.9","esm2017")}("Browser");class r0{constructor(e){return e}}class xT{constructor(){return Kc("auth")}}const Wy=new D.OlP("angularfire2.auth-instances");function BP(a){return(e,t)=>{const r=e.runOutsideAngular(()=>a(t));return new r0(r)}}const qy={provide:xT,deps:[[new D.FiY,Wy]]},UP={provide:r0,useFactory:function s0(a,e){const t=qE("auth",a,e);return t&&new r0(t)},deps:[[new D.FiY,Wy],Po]};function jP(a,...e){return Go("angularfire",zl.full,"auth"),(0,D.MR2)([UP,qy,{provide:Wy,useFactory:BP(a),multi:!0,deps:[D.R0b,D.zs3,Zd,da,[new D.FiY,Fr],...e]}])}const Os=Xu(FP,!0);var LT,l0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},bh={};(function(){var a;function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function c(Be,Ce,Oe){Oe||(Oe=0);var He=Array(16);if("string"==typeof Ce)for(var Ye=0;16>Ye;++Ye)He[Ye]=Ce.charCodeAt(Oe++)|Ce.charCodeAt(Oe++)<<8|Ce.charCodeAt(Oe++)<<16|Ce.charCodeAt(Oe++)<<24;else for(Ye=0;16>Ye;++Ye)He[Ye]=Ce[Oe++]|Ce[Oe++]<<8|Ce[Oe++]<<16|Ce[Oe++]<<24;var it=Be.g[3],Ne=(Ce=Be.g[0])+(it^(Oe=Be.g[1])&((Ye=Be.g[2])^it))+He[0]+3614090360&4294967295;Ne=(Oe=(Ye=(it=(Ce=(Oe=(Ye=(it=(Ce=(Oe=(Ye=(it=(Ce=(Oe=(Ye=(it=(Ce=(Oe=(Ye=(it=(Ce=(Oe=(Ye=(it=(Ce=(Oe=(Ye=(it=(Ce=(Oe=(Ye=(it=(Ce=(Oe=(Ye=(it=(Ce=(Oe=(Ye=(it=(Ce=(Oe=(Ye=(it=(Ce=(Oe=(Ye=(it=(Ce=(Oe=(Ye=(it=(Ce=(Oe=(Ye=(it=(Ce=(Oe=(Ye=(it=(Ce=Oe+(Ne<<7&4294967295|Ne>>>25))+((Ne=it+(Ye^Ce&(Oe^Ye))+He[1]+3905402710&4294967295)<<12&4294967295|Ne>>>20))+((Ne=Ye+(Oe^it&(Ce^Oe))+He[2]+606105819&4294967295)<<17&4294967295|Ne>>>15))+((Ne=Oe+(Ce^Ye&(it^Ce))+He[3]+3250441966&4294967295)<<22&4294967295|Ne>>>10))+((Ne=Ce+(it^Oe&(Ye^it))+He[4]+4118548399&4294967295)<<7&4294967295|Ne>>>25))+((Ne=it+(Ye^Ce&(Oe^Ye))+He[5]+1200080426&4294967295)<<12&4294967295|Ne>>>20))+((Ne=Ye+(Oe^it&(Ce^Oe))+He[6]+2821735955&4294967295)<<17&4294967295|Ne>>>15))+((Ne=Oe+(Ce^Ye&(it^Ce))+He[7]+4249261313&4294967295)<<22&4294967295|Ne>>>10))+((Ne=Ce+(it^Oe&(Ye^it))+He[8]+1770035416&4294967295)<<7&4294967295|Ne>>>25))+((Ne=it+(Ye^Ce&(Oe^Ye))+He[9]+2336552879&4294967295)<<12&4294967295|Ne>>>20))+((Ne=Ye+(Oe^it&(Ce^Oe))+He[10]+4294925233&4294967295)<<17&4294967295|Ne>>>15))+((Ne=Oe+(Ce^Ye&(it^Ce))+He[11]+2304563134&4294967295)<<22&4294967295|Ne>>>10))+((Ne=Ce+(it^Oe&(Ye^it))+He[12]+1804603682&4294967295)<<7&4294967295|Ne>>>25))+((Ne=it+(Ye^Ce&(Oe^Ye))+He[13]+4254626195&4294967295)<<12&4294967295|Ne>>>20))+((Ne=Ye+(Oe^it&(Ce^Oe))+He[14]+2792965006&4294967295)<<17&4294967295|Ne>>>15))+((Ne=Oe+(Ce^Ye&(it^Ce))+He[15]+1236535329&4294967295)<<22&4294967295|Ne>>>10))+((Ne=Ce+(Ye^it&(Oe^Ye))+He[1]+4129170786&4294967295)<<5&4294967295|Ne>>>27))+((Ne=it+(Oe^Ye&(Ce^Oe))+He[6]+3225465664&4294967295)<<9&4294967295|Ne>>>23))+((Ne=Ye+(Ce^Oe&(it^Ce))+He[11]+643717713&4294967295)<<14&4294967295|Ne>>>18))+((Ne=Oe+(it^Ce&(Ye^it))+He[0]+3921069994&4294967295)<<20&4294967295|Ne>>>12))+((Ne=Ce+(Ye^it&(Oe^Ye))+He[5]+3593408605&4294967295)<<5&4294967295|Ne>>>27))+((Ne=it+(Oe^Ye&(Ce^Oe))+He[10]+38016083&4294967295)<<9&4294967295|Ne>>>23))+((Ne=Ye+(Ce^Oe&(it^Ce))+He[15]+3634488961&4294967295)<<14&4294967295|Ne>>>18))+((Ne=Oe+(it^Ce&(Ye^it))+He[4]+3889429448&4294967295)<<20&4294967295|Ne>>>12))+((Ne=Ce+(Ye^it&(Oe^Ye))+He[9]+568446438&4294967295)<<5&4294967295|Ne>>>27))+((Ne=it+(Oe^Ye&(Ce^Oe))+He[14]+3275163606&4294967295)<<9&4294967295|Ne>>>23))+((Ne=Ye+(Ce^Oe&(it^Ce))+He[3]+4107603335&4294967295)<<14&4294967295|Ne>>>18))+((Ne=Oe+(it^Ce&(Ye^it))+He[8]+1163531501&4294967295)<<20&4294967295|Ne>>>12))+((Ne=Ce+(Ye^it&(Oe^Ye))+He[13]+2850285829&4294967295)<<5&4294967295|Ne>>>27))+((Ne=it+(Oe^Ye&(Ce^Oe))+He[2]+4243563512&4294967295)<<9&4294967295|Ne>>>23))+((Ne=Ye+(Ce^Oe&(it^Ce))+He[7]+1735328473&4294967295)<<14&4294967295|Ne>>>18))+((Ne=Oe+(it^Ce&(Ye^it))+He[12]+2368359562&4294967295)<<20&4294967295|Ne>>>12))+((Ne=Ce+(Oe^Ye^it)+He[5]+4294588738&4294967295)<<4&4294967295|Ne>>>28))+((Ne=it+(Ce^Oe^Ye)+He[8]+2272392833&4294967295)<<11&4294967295|Ne>>>21))+((Ne=Ye+(it^Ce^Oe)+He[11]+1839030562&4294967295)<<16&4294967295|Ne>>>16))+((Ne=Oe+(Ye^it^Ce)+He[14]+4259657740&4294967295)<<23&4294967295|Ne>>>9))+((Ne=Ce+(Oe^Ye^it)+He[1]+2763975236&4294967295)<<4&4294967295|Ne>>>28))+((Ne=it+(Ce^Oe^Ye)+He[4]+1272893353&4294967295)<<11&4294967295|Ne>>>21))+((Ne=Ye+(it^Ce^Oe)+He[7]+4139469664&4294967295)<<16&4294967295|Ne>>>16))+((Ne=Oe+(Ye^it^Ce)+He[10]+3200236656&4294967295)<<23&4294967295|Ne>>>9))+((Ne=Ce+(Oe^Ye^it)+He[13]+681279174&4294967295)<<4&4294967295|Ne>>>28))+((Ne=it+(Ce^Oe^Ye)+He[0]+3936430074&4294967295)<<11&4294967295|Ne>>>21))+((Ne=Ye+(it^Ce^Oe)+He[3]+3572445317&4294967295)<<16&4294967295|Ne>>>16))+((Ne=Oe+(Ye^it^Ce)+He[6]+76029189&4294967295)<<23&4294967295|Ne>>>9))+((Ne=Ce+(Oe^Ye^it)+He[9]+3654602809&4294967295)<<4&4294967295|Ne>>>28))+((Ne=it+(Ce^Oe^Ye)+He[12]+3873151461&4294967295)<<11&4294967295|Ne>>>21))+((Ne=Ye+(it^Ce^Oe)+He[15]+530742520&4294967295)<<16&4294967295|Ne>>>16))+((Ne=Oe+(Ye^it^Ce)+He[2]+3299628645&4294967295)<<23&4294967295|Ne>>>9))+((Ne=Ce+(Ye^(Oe|~it))+He[0]+4096336452&4294967295)<<6&4294967295|Ne>>>26))+((Ne=it+(Oe^(Ce|~Ye))+He[7]+1126891415&4294967295)<<10&4294967295|Ne>>>22))+((Ne=Ye+(Ce^(it|~Oe))+He[14]+2878612391&4294967295)<<15&4294967295|Ne>>>17))+((Ne=Oe+(it^(Ye|~Ce))+He[5]+4237533241&4294967295)<<21&4294967295|Ne>>>11))+((Ne=Ce+(Ye^(Oe|~it))+He[12]+1700485571&4294967295)<<6&4294967295|Ne>>>26))+((Ne=it+(Oe^(Ce|~Ye))+He[3]+2399980690&4294967295)<<10&4294967295|Ne>>>22))+((Ne=Ye+(Ce^(it|~Oe))+He[10]+4293915773&4294967295)<<15&4294967295|Ne>>>17))+((Ne=Oe+(it^(Ye|~Ce))+He[1]+2240044497&4294967295)<<21&4294967295|Ne>>>11))+((Ne=Ce+(Ye^(Oe|~it))+He[8]+1873313359&4294967295)<<6&4294967295|Ne>>>26))+((Ne=it+(Oe^(Ce|~Ye))+He[15]+4264355552&4294967295)<<10&4294967295|Ne>>>22))+((Ne=Ye+(Ce^(it|~Oe))+He[6]+2734768916&4294967295)<<15&4294967295|Ne>>>17))+((Ne=Oe+(it^(Ye|~Ce))+He[13]+1309151649&4294967295)<<21&4294967295|Ne>>>11))+((it=(Ce=Oe+((Ne=Ce+(Ye^(Oe|~it))+He[4]+4149444226&4294967295)<<6&4294967295|Ne>>>26))+((Ne=it+(Oe^(Ce|~Ye))+He[11]+3174756917&4294967295)<<10&4294967295|Ne>>>22))^((Ye=it+((Ne=Ye+(Ce^(it|~Oe))+He[2]+718787259&4294967295)<<15&4294967295|Ne>>>17))|~Ce))+He[9]+3951481745&4294967295,Be.g[0]=Be.g[0]+Ce&4294967295,Be.g[1]=Be.g[1]+(Ye+(Ne<<21&4294967295|Ne>>>11))&4294967295,Be.g[2]=Be.g[2]+Ye&4294967295,Be.g[3]=Be.g[3]+it&4294967295}function m(Be,Ce){this.h=Ce;for(var Oe=[],He=!0,Ye=Be.length-1;0<=Ye;Ye--){var it=0|Be[Ye];He&&it==Ce||(Oe[Ye]=it,He=!1)}this.g=Oe}(function e(Be,Ce){function Oe(){}Oe.prototype=Ce.prototype,Be.D=Ce.prototype,Be.prototype=new Oe,Be.prototype.constructor=Be,Be.C=function(He,Ye,it){for(var Ne=Array(arguments.length-2),Pc=2;Pc<arguments.length;Pc++)Ne[Pc-2]=arguments[Pc];return Ce.prototype[Ye].apply(He,Ne)}})(r,function t(){this.blockSize=-1}),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},r.prototype.u=function(Be,Ce){void 0===Ce&&(Ce=Be.length);for(var Oe=Ce-this.blockSize,He=this.B,Ye=this.h,it=0;it<Ce;){if(0==Ye)for(;it<=Oe;)c(this,Be,it),it+=this.blockSize;if("string"==typeof Be){for(;it<Ce;)if(He[Ye++]=Be.charCodeAt(it++),Ye==this.blockSize){c(this,He),Ye=0;break}}else for(;it<Ce;)if(He[Ye++]=Be[it++],Ye==this.blockSize){c(this,He),Ye=0;break}}this.h=Ye,this.o+=Ce},r.prototype.v=function(){var Be=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Be[0]=128;for(var Ce=1;Ce<Be.length-8;++Ce)Be[Ce]=0;var Oe=8*this.o;for(Ce=Be.length-8;Ce<Be.length;++Ce)Be[Ce]=255&Oe,Oe/=256;for(this.u(Be),Be=Array(16),Ce=Oe=0;4>Ce;++Ce)for(var He=0;32>He;He+=8)Be[Oe++]=this.g[Ce]>>>He&255;return Be};var b={};function I(Be){return-128<=Be&&128>Be?function h(Be,Ce){var Oe=b;return Object.prototype.hasOwnProperty.call(Oe,Be)?Oe[Be]:Oe[Be]=Ce(Be)}(Be,function(Ce){return new m([0|Ce],0>Ce?-1:0)}):new m([0|Be],0>Be?-1:0)}function k(Be){if(isNaN(Be)||!isFinite(Be))return ne;if(0>Be)return bt(k(-Be));for(var Ce=[],Oe=1,He=0;Be>=Oe;He++)Ce[He]=Be/Oe|0,Oe*=4294967296;return new m(Ce,0)}var ne=I(0),ge=I(1),Re=I(16777216);function qe(Be){if(0!=Be.h)return!1;for(var Ce=0;Ce<Be.g.length;Ce++)if(0!=Be.g[Ce])return!1;return!0}function pt(Be){return-1==Be.h}function bt(Be){for(var Ce=Be.g.length,Oe=[],He=0;He<Ce;He++)Oe[He]=~Be.g[He];return new m(Oe,~Be.h).add(ge)}function qt(Be,Ce){return Be.add(bt(Ce))}function an(Be,Ce){for(;(65535&Be[Ce])!=Be[Ce];)Be[Ce+1]+=Be[Ce]>>>16,Be[Ce]&=65535,Ce++}function tn(Be,Ce){this.g=Be,this.h=Ce}function wn(Be,Ce){if(qe(Ce))throw Error("division by zero");if(qe(Be))return new tn(ne,ne);if(pt(Be))return Ce=wn(bt(Be),Ce),new tn(bt(Ce.g),bt(Ce.h));if(pt(Ce))return Ce=wn(Be,bt(Ce)),new tn(bt(Ce.g),Ce.h);if(30<Be.g.length){if(pt(Be)||pt(Ce))throw Error("slowDivide_ only works with positive integers.");for(var Oe=ge,He=Ce;0>=He.l(Be);)Oe=gi(Oe),He=gi(He);var Ye=$n(Oe,1),it=$n(He,1);for(He=$n(He,2),Oe=$n(Oe,2);!qe(He);){var Ne=it.add(He);0>=Ne.l(Be)&&(Ye=Ye.add(Oe),it=Ne),He=$n(He,1),Oe=$n(Oe,1)}return Ce=qt(Be,Ye.j(Ce)),new tn(Ye,Ce)}for(Ye=ne;0<=Be.l(Ce);){for(Oe=Math.max(1,Math.floor(Be.m()/Ce.m())),He=48>=(He=Math.ceil(Math.log(Oe)/Math.LN2))?1:Math.pow(2,He-48),Ne=(it=k(Oe)).j(Ce);pt(Ne)||0<Ne.l(Be);)Ne=(it=k(Oe-=He)).j(Ce);qe(it)&&(it=ge),Ye=Ye.add(it),Be=qt(Be,Ne)}return new tn(Ye,Be)}function gi(Be){for(var Ce=Be.g.length+1,Oe=[],He=0;He<Ce;He++)Oe[He]=Be.i(He)<<1|Be.i(He-1)>>>31;return new m(Oe,Be.h)}function $n(Be,Ce){var Oe=Ce>>5;Ce%=32;for(var He=Be.g.length-Oe,Ye=[],it=0;it<He;it++)Ye[it]=0<Ce?Be.i(it+Oe)>>>Ce|Be.i(it+Oe+1)<<32-Ce:Be.i(it+Oe);return new m(Ye,Be.h)}(a=m.prototype).m=function(){if(pt(this))return-bt(this).m();for(var Be=0,Ce=1,Oe=0;Oe<this.g.length;Oe++){var He=this.i(Oe);Be+=(0<=He?He:4294967296+He)*Ce,Ce*=4294967296}return Be},a.toString=function(Be){if(2>(Be=Be||10)||36<Be)throw Error("radix out of range: "+Be);if(qe(this))return"0";if(pt(this))return"-"+bt(this).toString(Be);for(var Ce=k(Math.pow(Be,6)),Oe=this,He="";;){var Ye=wn(Oe,Ce).g,it=((0<(Oe=qt(Oe,Ye.j(Ce))).g.length?Oe.g[0]:Oe.h)>>>0).toString(Be);if(qe(Oe=Ye))return it+He;for(;6>it.length;)it="0"+it;He=it+He}},a.i=function(Be){return 0>Be?0:Be<this.g.length?this.g[Be]:this.h},a.l=function(Be){return pt(Be=qt(this,Be))?-1:qe(Be)?0:1},a.abs=function(){return pt(this)?bt(this):this},a.add=function(Be){for(var Ce=Math.max(this.g.length,Be.g.length),Oe=[],He=0,Ye=0;Ye<=Ce;Ye++){var it=He+(65535&this.i(Ye))+(65535&Be.i(Ye)),Ne=(it>>>16)+(this.i(Ye)>>>16)+(Be.i(Ye)>>>16);He=Ne>>>16,Oe[Ye]=(Ne&=65535)<<16|(it&=65535)}return new m(Oe,-2147483648&Oe[Oe.length-1]?-1:0)},a.j=function(Be){if(qe(this)||qe(Be))return ne;if(pt(this))return pt(Be)?bt(this).j(bt(Be)):bt(bt(this).j(Be));if(pt(Be))return bt(this.j(bt(Be)));if(0>this.l(Re)&&0>Be.l(Re))return k(this.m()*Be.m());for(var Ce=this.g.length+Be.g.length,Oe=[],He=0;He<2*Ce;He++)Oe[He]=0;for(He=0;He<this.g.length;He++)for(var Ye=0;Ye<Be.g.length;Ye++){var it=this.i(He)>>>16,Ne=65535&this.i(He),Pc=Be.i(Ye)>>>16,sg=65535&Be.i(Ye);Oe[2*He+2*Ye]+=Ne*sg,an(Oe,2*He+2*Ye),Oe[2*He+2*Ye+1]+=it*sg,an(Oe,2*He+2*Ye+1),Oe[2*He+2*Ye+1]+=Ne*Pc,an(Oe,2*He+2*Ye+1),Oe[2*He+2*Ye+2]+=it*Pc,an(Oe,2*He+2*Ye+2)}for(He=0;He<Ce;He++)Oe[He]=Oe[2*He+1]<<16|Oe[2*He];for(He=Ce;He<2*Ce;He++)Oe[He]=0;return new m(Oe,0)},a.A=function(Be){return wn(this,Be).h},a.and=function(Be){for(var Ce=Math.max(this.g.length,Be.g.length),Oe=[],He=0;He<Ce;He++)Oe[He]=this.i(He)&Be.i(He);return new m(Oe,this.h&Be.h)},a.or=function(Be){for(var Ce=Math.max(this.g.length,Be.g.length),Oe=[],He=0;He<Ce;He++)Oe[He]=this.i(He)|Be.i(He);return new m(Oe,this.h|Be.h)},a.xor=function(Be){for(var Ce=Math.max(this.g.length,Be.g.length),Oe=[],He=0;He<Ce;He++)Oe[He]=this.i(He)^Be.i(He);return new m(Oe,this.h^Be.h)},r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,bh.Md5=r,m.prototype.add=m.prototype.add,m.prototype.multiply=m.prototype.j,m.prototype.modulo=m.prototype.A,m.prototype.compare=m.prototype.l,m.prototype.toNumber=m.prototype.m,m.prototype.toString=m.prototype.toString,m.prototype.getBits=m.prototype.i,m.fromNumber=k,m.fromString=function W(Be,Ce){if(0==Be.length)throw Error("number format error: empty string");if(2>(Ce=Ce||10)||36<Ce)throw Error("radix out of range: "+Ce);if("-"==Be.charAt(0))return bt(W(Be.substring(1),Ce));if(0<=Be.indexOf("-"))throw Error('number format error: interior "-" character');for(var Oe=k(Math.pow(Ce,8)),He=ne,Ye=0;Ye<Be.length;Ye+=8){var it=Math.min(8,Be.length-Ye),Ne=parseInt(Be.substring(Ye,Ye+it),Ce);8>it?(it=k(Math.pow(Ce,it)),He=He.j(it).add(k(Ne))):He=(He=He.j(Oe)).add(k(Ne))}return He},LT=bh.Integer=m}).apply(typeof l0<"u"?l0:typeof self<"u"?self:typeof window<"u"?window:{});var Cm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ou={};(function(){var a,e="function"==typeof Object.defineProperties?Object.defineProperty:function(A,U,Q){return A==Array.prototype||A==Object.prototype||(A[U]=Q.value),A},r=function t(A){A=["object"==typeof globalThis&&globalThis,A,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Cm&&Cm];for(var U=0;U<A.length;++U){var Q=A[U];if(Q&&Q.Math==Math)return Q}throw Error("Cannot find global object")}(this);!function c(A,U){if(U)e:{var Q=r;A=A.split(".");for(var he=0;he<A.length-1;he++){var Je=A[he];if(!(Je in Q))break e;Q=Q[Je]}(U=U(he=Q[A=A[A.length-1]]))!=he&&null!=U&&e(Q,A,{configurable:!0,writable:!0,value:U})}}("Array.prototype.values",function(A){return A||function(){return function h(A,U){A instanceof String&&(A+="");var Q=0,he=!1,Je={next:function(){if(!he&&Q<A.length){var yt=Q++;return{value:U(yt,A[yt]),done:!1}}return he=!0,{done:!0,value:void 0}}};return Je[Symbol.iterator]=function(){return Je},Je}(this,function(U,Q){return Q})}});var m=m||{},b=this||self;function I(A){var U=typeof A;return"array"==(U="object"!=U?U:A?Array.isArray(A)?"array":U:"null")||"object"==U&&"number"==typeof A.length}function k(A){var U=typeof A;return"object"==U&&null!=A||"function"==U}function W(A,U,Q){return A.call.apply(A.bind,arguments)}function ne(A,U,Q){if(!A)throw Error();if(2<arguments.length){var he=Array.prototype.slice.call(arguments,2);return function(){var Je=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Je,he),A.apply(U,Je)}}return function(){return A.apply(U,arguments)}}function ge(A,U,Q){return(ge=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?W:ne).apply(null,arguments)}function Re(A,U){var Q=Array.prototype.slice.call(arguments,1);return function(){var he=Q.slice();return he.push.apply(he,arguments),A.apply(this,he)}}function qe(A,U){function Q(){}Q.prototype=U.prototype,A.aa=U.prototype,A.prototype=new Q,A.prototype.constructor=A,A.Qb=function(he,Je,yt){for(var nn=Array(arguments.length-2),Rr=2;Rr<arguments.length;Rr++)nn[Rr-2]=arguments[Rr];return U.prototype[Je].apply(he,nn)}}function pt(A){const U=A.length;if(0<U){const Q=Array(U);for(let he=0;he<U;he++)Q[he]=A[he];return Q}return[]}function bt(A,U){for(let Q=1;Q<arguments.length;Q++){const he=arguments[Q];if(I(he)){const Je=A.length||0,yt=he.length||0;A.length=Je+yt;for(let nn=0;nn<yt;nn++)A[Je+nn]=he[nn]}else A.push(he)}}function an(A){return/^[\s\xa0]*$/.test(A)}function tn(){var A=b.navigator;return A&&(A=A.userAgent)?A:""}function wn(A){return wn[" "](A),A}wn[" "]=function(){};var gi=!(-1==tn().indexOf("Gecko")||-1!=tn().toLowerCase().indexOf("webkit")&&-1==tn().indexOf("Edge")||-1!=tn().indexOf("Trident")||-1!=tn().indexOf("MSIE")||-1!=tn().indexOf("Edge"));function $n(A,U,Q){for(const he in A)U.call(Q,A[he],he,A)}function Ce(A){const U={};for(const Q in A)U[Q]=A[Q];return U}const Oe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function He(A,U){let Q,he;for(let Je=1;Je<arguments.length;Je++){for(Q in he=arguments[Je],he)A[Q]=he[Q];for(let yt=0;yt<Oe.length;yt++)Q=Oe[yt],Object.prototype.hasOwnProperty.call(he,Q)&&(A[Q]=he[Q])}}function Ye(A){var U=1;A=A.split(":");const Q=[];for(;0<U&&A.length;)Q.push(A.shift()),U--;return A.length&&Q.push(A.join(":")),Q}function it(A){b.setTimeout(()=>{throw A},0)}function Ne(){var A=Ni;let U=null;return A.g&&(U=A.g,A.g=A.g.next,A.g||(A.h=null),U.next=null),U}var sg=new class qt{constructor(U,Q){this.i=U,this.j=Q,this.h=0,this.g=null}get(){let U;return 0<this.h?(this.h--,U=this.g,this.g=U.next,U.next=null):U=this.i(),U}}(()=>new Sn,A=>A.reset());class Sn{constructor(){this.next=this.g=this.h=null}set(U,Q){this.h=U,this.g=Q,this.next=null}reset(){this.next=this.g=this.h=null}}let Nn,Gn=!1,Ni=new class Pc{constructor(){this.h=this.g=null}add(U,Q){const he=sg.get();he.set(U,Q),this.h?this.h.next=he:this.g=he,this.h=he}},Zs=()=>{const A=b.Promise.resolve(void 0);Nn=()=>{A.then(Mc)}};var Mc=()=>{for(var A;A=Ne();){try{A.h.call(A.g)}catch(Q){it(Q)}var U=sg;U.j(A),100>U.h&&(U.h++,A.next=U.g,U.g=A)}Gn=!1};function ks(){this.s=this.s,this.C=this.C}function Jr(A,U){this.type=A,this.g=this.target=U,this.defaultPrevented=!1}ks.prototype.s=!1,ks.prototype.ma=function(){this.s||(this.s=!0,this.N())},ks.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Jr.prototype.h=function(){this.defaultPrevented=!0};var es=function(){if(!b.addEventListener||!Object.defineProperty)return!1;var A=!1,U=Object.defineProperty({},"passive",{get:function(){A=!0}});try{const Q=()=>{};b.addEventListener("test",Q,U),b.removeEventListener("test",Q,U)}catch{}return A}();function og(A,U){if(Jr.call(this,A?A.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,A){var Q=this.type=A.type,he=A.changedTouches&&A.changedTouches.length?A.changedTouches[0]:null;if(this.target=A.target||A.srcElement,this.g=U,U=A.relatedTarget){if(gi){e:{try{wn(U.nodeName);var Je=!0;break e}catch{}Je=!1}Je||(U=null)}}else"mouseover"==Q?U=A.fromElement:"mouseout"==Q&&(U=A.toElement);this.relatedTarget=U,he?(this.clientX=void 0!==he.clientX?he.clientX:he.pageX,this.clientY=void 0!==he.clientY?he.clientY:he.pageY,this.screenX=he.screenX||0,this.screenY=he.screenY||0):(this.clientX=void 0!==A.clientX?A.clientX:A.pageX,this.clientY=void 0!==A.clientY?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0),this.button=A.button,this.key=A.key||"",this.ctrlKey=A.ctrlKey,this.altKey=A.altKey,this.shiftKey=A.shiftKey,this.metaKey=A.metaKey,this.pointerId=A.pointerId||0,this.pointerType="string"==typeof A.pointerType?A.pointerType:uR[A.pointerType]||"",this.state=A.state,this.i=A,A.defaultPrevented&&og.aa.h.call(this)}}qe(og,Jr);var uR={2:"touch",3:"pen",4:"mouse"};og.prototype.h=function(){og.aa.h.call(this);var A=this.i;A.preventDefault?A.preventDefault():A.returnValue=!1};var Ls="closure_listenable_"+(1e6*Math.random()|0),df=0;function Dl(A,U,Q,he,Je){this.listener=A,this.proxy=null,this.src=U,this.type=Q,this.capture=!!he,this.ha=Je,this.key=++df,this.da=this.fa=!1}function hf(A){A.da=!0,A.listener=null,A.proxy=null,A.src=null,A.ha=null}function ag(A){this.src=A,this.g={},this.h=0}function dR(A,U){var Q=U.type;if(Q in A.g){var yt,he=A.g[Q],Je=Array.prototype.indexOf.call(he,U,void 0);(yt=0<=Je)&&Array.prototype.splice.call(he,Je,1),yt&&(hf(U),0==A.g[Q].length&&(delete A.g[Q],A.h--))}}function hR(A,U,Q,he){for(var Je=0;Je<A.length;++Je){var yt=A[Je];if(!yt.da&&yt.listener==U&&yt.capture==!!Q&&yt.ha==he)return Je}return-1}ag.prototype.add=function(A,U,Q,he,Je){var yt=A.toString();(A=this.g[yt])||(A=this.g[yt]=[],this.h++);var nn=hR(A,U,he,Je);return-1<nn?(U=A[nn],Q||(U.fa=!1)):((U=new Dl(U,this.src,yt,!!he,Je)).fa=Q,A.push(U)),U};var fR="closure_lm_"+(1e6*Math.random()|0),pR={};function hO(A,U,Q,he,Je){if(he&&he.once)return pO(A,U,Q,he,Je);if(Array.isArray(U)){for(var yt=0;yt<U.length;yt++)hO(A,U[yt],Q,he,Je);return null}return Q=yR(Q),A&&A[Ls]?A.K(U,Q,k(he)?!!he.capture:!!he,Je):fO(A,U,Q,!1,he,Je)}function fO(A,U,Q,he,Je,yt){if(!U)throw Error("Invalid event type");var nn=k(Je)?!!Je.capture:!!Je,Rr=mR(A);if(Rr||(A[fR]=Rr=new ag(A)),(Q=Rr.add(U,Q,he,nn,yt)).proxy)return Q;if(he=function KN(){const U=YN;return function A(Q){return U.call(A.src,A.listener,Q)}}(),Q.proxy=he,he.src=A,he.listener=Q,A.addEventListener)es||(Je=nn),void 0===Je&&(Je=!1),A.addEventListener(U.toString(),he,Je);else if(A.attachEvent)A.attachEvent(mO(U.toString()),he);else{if(!A.addListener||!A.removeListener)throw Error("addEventListener and attachEvent are unavailable.");A.addListener(he)}return Q}function pO(A,U,Q,he,Je){if(Array.isArray(U)){for(var yt=0;yt<U.length;yt++)pO(A,U[yt],Q,he,Je);return null}return Q=yR(Q),A&&A[Ls]?A.L(U,Q,k(he)?!!he.capture:!!he,Je):fO(A,U,Q,!0,he,Je)}function gO(A,U,Q,he,Je){if(Array.isArray(U))for(var yt=0;yt<U.length;yt++)gO(A,U[yt],Q,he,Je);else he=k(he)?!!he.capture:!!he,Q=yR(Q),A&&A[Ls]?(A=A.i,(U=String(U).toString())in A.g&&-1<(Q=hR(yt=A.g[U],Q,he,Je))&&(hf(yt[Q]),Array.prototype.splice.call(yt,Q,1),0==yt.length&&(delete A.g[U],A.h--))):A&&(A=mR(A))&&(U=A.g[U.toString()],A=-1,U&&(A=hR(U,Q,he,Je)),(Q=-1<A?U[A]:null)&&gR(Q))}function gR(A){if("number"!=typeof A&&A&&!A.da){var U=A.src;if(U&&U[Ls])dR(U.i,A);else{var Q=A.type,he=A.proxy;U.removeEventListener?U.removeEventListener(Q,he,A.capture):U.detachEvent?U.detachEvent(mO(Q),he):U.addListener&&U.removeListener&&U.removeListener(he),(Q=mR(U))?(dR(Q,A),0==Q.h&&(Q.src=null,U[fR]=null)):hf(A)}}}function mO(A){return A in pR?pR[A]:pR[A]="on"+A}function YN(A,U){if(A.da)A=!0;else{U=new og(U,this);var Q=A.listener,he=A.ha||A.src;A.fa&&gR(A),A=Q.call(he,U)}return A}function mR(A){return(A=A[fR])instanceof ag?A:null}var _R="__closure_events_fn_"+(1e9*Math.random()>>>0);function yR(A){return"function"==typeof A?A:(A[_R]||(A[_R]=function(U){return A.handleEvent(U)}),A[_R])}function Na(){ks.call(this),this.i=new ag(this),this.M=this,this.F=null}function il(A,U){var Q,he=A.F;if(he)for(Q=[];he;he=he.F)Q.push(he);if(A=A.M,he=U.type||U,"string"==typeof U)U=new Jr(U,A);else if(U instanceof Jr)U.target=U.target||A;else{var Je=U;He(U=new Jr(he,A),Je)}if(Je=!0,Q)for(var yt=Q.length-1;0<=yt;yt--){var nn=U.g=Q[yt];Je=uD(nn,he,!0,U)&&Je}if(Je=uD(nn=U.g=A,he,!0,U)&&Je,Je=uD(nn,he,!1,U)&&Je,Q)for(yt=0;yt<Q.length;yt++)Je=uD(nn=U.g=Q[yt],he,!1,U)&&Je}function uD(A,U,Q,he){if(!(U=A.i.g[String(U)]))return!0;U=U.concat();for(var Je=!0,yt=0;yt<U.length;++yt){var nn=U[yt];if(nn&&!nn.da&&nn.capture==Q){var Rr=nn.listener,ga=nn.ha||nn.src;nn.fa&&dR(A.i,nn),Je=!1!==Rr.call(ga,he)&&Je}}return Je&&!he.defaultPrevented}function _O(A,U,Q){if("function"==typeof A)Q&&(A=ge(A,Q));else{if(!A||"function"!=typeof A.handleEvent)throw Error("Invalid listener argument");A=ge(A.handleEvent,A)}return 2147483647<Number(U)?-1:b.setTimeout(A,U||0)}function yO(A){A.g=_O(()=>{A.g=null,A.i&&(A.i=!1,yO(A))},A.l);const U=A.h;A.h=null,A.m.apply(null,U)}qe(Na,ks),Na.prototype[Ls]=!0,Na.prototype.removeEventListener=function(A,U,Q,he){gO(this,A,U,Q,he)},Na.prototype.N=function(){if(Na.aa.N.call(this),this.i){var U,A=this.i;for(U in A.g){for(var Q=A.g[U],he=0;he<Q.length;he++)hf(Q[he]);delete A.g[U],A.h--}}this.F=null},Na.prototype.K=function(A,U,Q,he){return this.i.add(String(A),U,!1,Q,he)},Na.prototype.L=function(A,U,Q,he){return this.i.add(String(A),U,!0,Q,he)};class QN extends ks{constructor(U,Q){super(),this.m=U,this.l=Q,this.h=null,this.i=!1,this.g=null}j(U){this.h=arguments,this.g?this.i=!0:yO(this)}N(){super.N(),this.g&&(b.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zA(A){ks.call(this),this.h=A,this.g={}}qe(zA,ks);var vO=[];function EO(A){$n(A.g,function(U,Q){this.g.hasOwnProperty(Q)&&gR(U)},A),A.g={}}zA.prototype.N=function(){zA.aa.N.call(this),EO(this)},zA.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vR=b.JSON.stringify,ZN=b.JSON.parse,XN=class{stringify(A){return b.JSON.stringify(A,void 0)}parse(A){return b.JSON.parse(A,void 0)}};function ER(){}function wO(){}ER.prototype.h=null;var $A={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function bR(){Jr.call(this,"d")}function wR(){Jr.call(this,"c")}qe(bR,Jr),qe(wR,Jr);var p_={},AO=null;function dD(){return AO=AO||new Na}function CO(A){Jr.call(this,p_.La,A)}function GA(A){const U=dD();il(U,new CO(U))}function TO(A,U){Jr.call(this,p_.STAT_EVENT,A),this.stat=U}function rl(A){const U=dD();il(U,new TO(U,A))}function IO(A,U){Jr.call(this,p_.Ma,A),this.size=U}function WA(A,U){if("function"!=typeof A)throw Error("Fn must not be null and must be a function");return b.setTimeout(function(){A()},U)}function qA(){this.g=!0}function TE(A,U,Q,he){A.info(function(){return"XMLHTTP TEXT ("+U+"): "+function nk(A,U){if(!A.g)return U;if(!U)return null;try{var Q=JSON.parse(U);if(Q)for(A=0;A<Q.length;A++)if(Array.isArray(Q[A])){var he=Q[A];if(!(2>he.length)){var Je=he[1];if(Array.isArray(Je)&&!(1>Je.length)){var yt=Je[0];if("noop"!=yt&&"stop"!=yt&&"close"!=yt)for(var nn=1;nn<Je.length;nn++)Je[nn]=""}}}return vR(Q)}catch{return U}}(A,Q)+(he?" "+he:"")})}p_.La="serverreachability",qe(CO,Jr),p_.STAT_EVENT="statevent",qe(TO,Jr),p_.Ma="timingevent",qe(IO,Jr),qA.prototype.xa=function(){this.g=!1},qA.prototype.info=function(){};var AR,hD={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},SO={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function fD(){}function lg(A,U,Q,he){this.j=A,this.i=U,this.l=Q,this.R=he||1,this.U=new zA(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new DO}function DO(){this.i=null,this.g="",this.h=!1}qe(fD,ER),fD.prototype.g=function(){return new XMLHttpRequest},fD.prototype.i=function(){return{}},AR=new fD;var PO={},CR={};function TR(A,U,Q){A.L=1,A.v=_D(ff(U)),A.m=Q,A.P=!0,MO(A,null)}function MO(A,U){A.F=Date.now(),pD(A),A.A=ff(A.v);var Q=A.A,he=A.R;Array.isArray(he)||(he=[String(he)]),$O(Q.i,"t",he),A.C=0,Q=A.j.J,A.h=new DO,A.g=lN(A.j,Q?U:null,!A.m),0<A.O&&(A.M=new QN(ge(A.Y,A,A.g),A.O)),U=A.U,Q=A.g,he=A.ca;var Je="readystatechange";Array.isArray(Je)||(Je&&(vO[0]=Je.toString()),Je=vO);for(var yt=0;yt<Je.length;yt++){var nn=hO(Q,Je[yt],he||U.handleEvent,!1,U.h||U);if(!nn)break;U.g[nn.key]=nn}U=A.H?Ce(A.H):{},A.m?(A.u||(A.u="POST"),U["Content-Type"]="application/x-www-form-urlencoded",A.g.ea(A.A,A.u,A.m,U)):(A.u="GET",A.g.ea(A.A,A.u,null,U)),GA(),function JN(A,U,Q,he,Je,yt){A.info(function(){if(A.g)if(yt)for(var nn="",Rr=yt.split("&"),ga=0;ga<Rr.length;ga++){var ir=Rr[ga].split("=");if(1<ir.length){var ka=ir[0];ir=ir[1];var La=ka.split("_");nn=2<=La.length&&"type"==La[1]?nn+(ka+"=")+ir+"&":nn+(ka+"=redacted&")}}else nn=null;else nn=yt;return"XMLHTTP REQ ("+he+") [attempt "+Je+"]: "+U+"\n"+Q+"\n"+nn})}(A.i,A.u,A.A,A.l,A.R,A.m)}function xO(A){return!!A.g&&"GET"==A.u&&2!=A.L&&A.j.Ca}function ik(A,U){var Q=A.C,he=U.indexOf("\n",Q);return-1==he?CR:(Q=Number(U.substring(Q,he)),isNaN(Q)?PO:(he+=1)+Q>U.length?CR:(U=U.slice(he,he+Q),A.C=he+Q,U))}function pD(A){A.S=Date.now()+A.I,RO(A,A.I)}function RO(A,U){if(null!=A.B)throw Error("WatchDog timer not null");A.B=WA(ge(A.ba,A),U)}function IR(A){A.B&&(b.clearTimeout(A.B),A.B=null)}function KA(A){0==A.j.G||A.J||rN(A.j,A)}function g_(A){IR(A);var U=A.M;U&&"function"==typeof U.ma&&U.ma(),A.M=null,EO(A.U),A.g&&(U=A.g,A.g=null,U.abort(),U.ma())}function SR(A,U){try{var Q=A.j;if(0!=Q.G&&(Q.g==A||DR(Q.h,A)))if(!A.K&&DR(Q.h,A)&&3==Q.G){try{var he=Q.Da.g.parse(U)}catch{he=null}if(Array.isArray(he)&&3==he.length){var Je=he;if(0==Je[0]){e:if(!Q.u){if(Q.g){if(!(Q.g.F+3e3<A.F))break e;wD(Q),ED(Q)}RR(Q),rl(18)}}else Q.za=Je[1],0<Q.za-Q.T&&37500>Je[2]&&Q.F&&0==Q.v&&!Q.C&&(Q.C=WA(ge(Q.Za,Q),6e3));if(1>=kO(Q.h)&&Q.ca){try{Q.ca()}catch{}Q.ca=void 0}}else __(Q,11)}else if((A.K||Q.g==A)&&wD(Q),!an(U))for(Je=Q.Da.g.parse(U),U=0;U<Je.length;U++){let ir=Je[U];if(Q.T=ir[0],ir=ir[1],2==Q.G)if("c"==ir[0]){Q.K=ir[1],Q.ia=ir[2];const ka=ir[3];null!=ka&&(Q.la=ka,Q.j.info("VER="+Q.la));const La=ir[4];null!=La&&(Q.Aa=La,Q.j.info("SVER="+Q.Aa));const DE=ir[5];null!=DE&&"number"==typeof DE&&0<DE&&(Q.L=he=1.5*DE,Q.j.info("backChannelRequestTimeoutMs_="+he)),he=Q;const Du=A.g;if(Du){const CD=Du.g?Du.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(CD){var yt=he.h;yt.g||-1==CD.indexOf("spdy")&&-1==CD.indexOf("quic")&&-1==CD.indexOf("h2")||(yt.j=yt.l,yt.g=new Set,yt.h&&(PR(yt,yt.h),yt.h=null))}if(he.D){const NR=Du.g?Du.g.getResponseHeader("X-HTTP-Session-Id"):null;NR&&(he.ya=NR,ts(he.I,he.D,NR))}}Q.G=3,Q.l&&Q.l.ua(),Q.ba&&(Q.R=Date.now()-A.F,Q.j.info("Handshake RTT: "+Q.R+"ms"));var nn=A;if((he=Q).qa=aN(he,he.J?he.ia:null,he.W),nn.K){LO(he.h,nn);var Rr=nn,ga=he.L;ga&&(Rr.I=ga),Rr.B&&(IR(Rr),pD(Rr)),he.g=nn}else nN(he);0<Q.i.length&&bD(Q)}else"stop"!=ir[0]&&"close"!=ir[0]||__(Q,7);else 3==Q.G&&("stop"==ir[0]||"close"==ir[0]?"stop"==ir[0]?__(Q,7):xR(Q):"noop"!=ir[0]&&Q.l&&Q.l.ta(ir),Q.v=0)}GA()}catch{}}lg.prototype.ca=function(A){A=A.target;const U=this.M;U&&3==pf(A)?U.j():this.Y(A)},lg.prototype.Y=function(A){try{if(A==this.g)e:{const La=pf(this.g);var U=this.g.Ba();if(this.g.Z(),!(3>La)&&(3!=La||this.g&&(this.h.h||this.g.oa()||ZO(this.g)))){this.J||4!=La||7==U||GA(),IR(this);var Q=this.g.Z();this.X=Q;t:if(xO(this)){var he=ZO(this.g);A="";var Je=he.length,yt=4==pf(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){g_(this),KA(this);var nn="";break t}this.h.i=new b.TextDecoder}for(U=0;U<Je;U++)this.h.h=!0,A+=this.h.i.decode(he[U],{stream:!(yt&&U==Je-1)});he.length=0,this.h.g+=A,this.C=0,nn=this.h.g}else nn=this.g.oa();if(this.o=200==Q,function ek(A,U,Q,he,Je,yt,nn){A.info(function(){return"XMLHTTP RESP ("+he+") [ attempt "+Je+"]: "+U+"\n"+Q+"\n"+yt+" "+nn})}(this.i,this.u,this.A,this.l,this.R,La,Q),this.o){if(this.T&&!this.K){t:{if(this.g){var Rr,ga=this.g;if((Rr=ga.g?ga.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!an(Rr)){var ir=Rr;break t}}ir=null}if(!(Q=ir)){this.o=!1,this.s=3,rl(12),g_(this),KA(this);break e}TE(this.i,this.l,Q,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,SR(this,Q)}if(this.P){let Du;for(Q=!0;!this.J&&this.C<nn.length;){if(Du=ik(this,nn),Du==CR){4==La&&(this.s=4,rl(14),Q=!1),TE(this.i,this.l,null,"[Incomplete Response]");break}if(Du==PO){this.s=4,rl(15),TE(this.i,this.l,nn,"[Invalid Chunk]"),Q=!1;break}TE(this.i,this.l,Du,null),SR(this,Du)}if(xO(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=La||0!=nn.length||this.h.h||(this.s=1,rl(16),Q=!1),this.o=this.o&&Q,Q){if(0<nn.length&&!this.W){this.W=!0;var ka=this.j;ka.g==this&&ka.ba&&!ka.M&&(ka.j.info("Great, no buffering proxy detected. Bytes received: "+nn.length),OR(ka),ka.M=!0,rl(11))}}else TE(this.i,this.l,nn,"[Invalid Chunked Response]"),g_(this),KA(this)}else TE(this.i,this.l,nn,null),SR(this,nn);4==La&&g_(this),this.o&&!this.J&&(4==La?rN(this.j,this):(this.o=!1,pD(this)))}else(function Ek(A){const U={};A=(A.g&&2<=pf(A)&&A.g.getAllResponseHeaders()||"").split("\r\n");for(let he=0;he<A.length;he++){if(an(A[he]))continue;var Q=Ye(A[he]);const Je=Q[0];if("string"!=typeof(Q=Q[1]))continue;Q=Q.trim();const yt=U[Je]||[];U[Je]=yt,yt.push(Q)}!function Be(A,U){for(const Q in A)U.call(void 0,A[Q],Q,A)}(U,function(he){return he.join(", ")})})(this.g),400==Q&&0<nn.indexOf("Unknown SID")?(this.s=3,rl(12)):(this.s=0,rl(13)),g_(this),KA(this)}}}catch{}},lg.prototype.cancel=function(){this.J=!0,g_(this)},lg.prototype.ba=function(){this.B=null;const A=Date.now();0<=A-this.S?(function tk(A,U){A.info(function(){return"TIMEOUT: "+U})}(this.i,this.A),2!=this.L&&(GA(),rl(17)),g_(this),this.s=2,KA(this)):RO(this,this.S-A)};var rk=class{constructor(A,U){this.g=A,this.map=U}};function OO(A){this.l=A||10,A=b.PerformanceNavigationTiming?0<(A=b.performance.getEntriesByType("navigation")).length&&("hq"==A[0].nextHopProtocol||"h2"==A[0].nextHopProtocol):!!(b.chrome&&b.chrome.loadTimes&&b.chrome.loadTimes()&&b.chrome.loadTimes().wasFetchedViaSpdy),this.j=A?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function NO(A){return!!A.h||!!A.g&&A.g.size>=A.j}function kO(A){return A.h?1:A.g?A.g.size:0}function DR(A,U){return A.h?A.h==U:!!A.g&&A.g.has(U)}function PR(A,U){A.g?A.g.add(U):A.h=U}function LO(A,U){A.h&&A.h==U?A.h=null:A.g&&A.g.has(U)&&A.g.delete(U)}function FO(A){if(null!=A.h)return A.i.concat(A.h.D);if(null!=A.g&&0!==A.g.size){let U=A.i;for(const Q of A.g.values())U=U.concat(Q.D);return U}return pt(A.i)}function VO(A,U){if(A.forEach&&"function"==typeof A.forEach)A.forEach(U,void 0);else if(I(A)||"string"==typeof A)Array.prototype.forEach.call(A,U,void 0);else for(var Q=function ok(A){if(A.na&&"function"==typeof A.na)return A.na();if(!A.V||"function"!=typeof A.V){if(typeof Map<"u"&&A instanceof Map)return Array.from(A.keys());if(!(typeof Set<"u"&&A instanceof Set)){if(I(A)||"string"==typeof A){var U=[];A=A.length;for(var Q=0;Q<A;Q++)U.push(Q);return U}U=[],Q=0;for(const he in A)U[Q++]=he;return U}}}(A),he=function sk(A){if(A.V&&"function"==typeof A.V)return A.V();if(typeof Map<"u"&&A instanceof Map||typeof Set<"u"&&A instanceof Set)return Array.from(A.values());if("string"==typeof A)return A.split("");if(I(A)){for(var U=[],Q=A.length,he=0;he<Q;he++)U.push(A[he]);return U}for(he in U=[],Q=0,A)U[Q++]=A[he];return U}(A),Je=he.length,yt=0;yt<Je;yt++)U.call(void 0,he[yt],Q&&Q[yt],A)}OO.prototype.cancel=function(){if(this.i=FO(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const A of this.g.values())A.cancel();this.g.clear()}};var BO=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function m_(A){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,A instanceof m_){this.h=A.h,gD(this,A.j),this.o=A.o,this.g=A.g,mD(this,A.s),this.l=A.l;var U=A.i,Q=new ZA;Q.i=U.i,U.g&&(Q.g=new Map(U.g),Q.h=U.h),UO(this,Q),this.m=A.m}else A&&(U=String(A).match(BO))?(this.h=!1,gD(this,U[1]||"",!0),this.o=YA(U[2]||""),this.g=YA(U[3]||"",!0),mD(this,U[4]),this.l=YA(U[5]||"",!0),UO(this,U[6]||"",!0),this.m=YA(U[7]||"")):(this.h=!1,this.i=new ZA(null,this.h))}function ff(A){return new m_(A)}function gD(A,U,Q){A.j=Q?YA(U,!0):U,A.j&&(A.j=A.j.replace(/:$/,""))}function mD(A,U){if(U){if(U=Number(U),isNaN(U)||0>U)throw Error("Bad port number "+U);A.s=U}else A.s=null}function UO(A,U,Q){U instanceof ZA?(A.i=U,function fk(A,U){U&&!A.j&&(cg(A),A.i=null,A.g.forEach(function(Q,he){var Je=he.toLowerCase();he!=Je&&(HO(this,he),$O(this,Je,Q))},A)),A.j=U}(A.i,A.h)):(Q||(U=QA(U,dk)),A.i=new ZA(U,A.h))}function ts(A,U,Q){A.i.set(U,Q)}function _D(A){return ts(A,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),A}function YA(A,U){return A?U?decodeURI(A.replace(/%25/g,"%2525")):decodeURIComponent(A):""}function QA(A,U,Q){return"string"==typeof A?(A=encodeURI(A).replace(U,lk),Q&&(A=A.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A):null}function lk(A){return"%"+((A=A.charCodeAt(0))>>4&15).toString(16)+(15&A).toString(16)}m_.prototype.toString=function(){var A=[],U=this.j;U&&A.push(QA(U,jO,!0),":");var Q=this.g;return(Q||"file"==U)&&(A.push("//"),(U=this.o)&&A.push(QA(U,jO,!0),"@"),A.push(encodeURIComponent(String(Q)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(Q=this.s)&&A.push(":",String(Q))),(Q=this.l)&&(this.g&&"/"!=Q.charAt(0)&&A.push("/"),A.push(QA(Q,"/"==Q.charAt(0)?uk:ck,!0))),(Q=this.i.toString())&&A.push("?",Q),(Q=this.m)&&A.push("#",QA(Q,hk)),A.join("")};var A,jO=/[#\/\?@]/g,ck=/[#\?:]/g,uk=/[#\?]/g,dk=/[#\?@]/g,hk=/#/g;function ZA(A,U){this.h=this.g=null,this.i=A||null,this.j=!!U}function cg(A){A.g||(A.g=new Map,A.h=0,A.i&&function ak(A,U){if(A){A=A.split("&");for(var Q=0;Q<A.length;Q++){var he=A[Q].indexOf("="),Je=null;if(0<=he){var yt=A[Q].substring(0,he);Je=A[Q].substring(he+1)}else yt=A[Q];U(yt,Je?decodeURIComponent(Je.replace(/\+/g," ")):"")}}}(A.i,function(U,Q){A.add(decodeURIComponent(U.replace(/\+/g," ")),Q)}))}function HO(A,U){cg(A),U=IE(A,U),A.g.has(U)&&(A.i=null,A.h-=A.g.get(U).length,A.g.delete(U))}function zO(A,U){return cg(A),U=IE(A,U),A.g.has(U)}function $O(A,U,Q){HO(A,U),0<Q.length&&(A.i=null,A.g.set(IE(A,U),pt(Q)),A.h+=Q.length)}function IE(A,U){return U=String(U),A.j&&(U=U.toLowerCase()),U}function ug(A,U,Q,he,Je){try{Je&&(Je.onload=null,Je.onerror=null,Je.onabort=null,Je.ontimeout=null),he(Q)}catch{}}function mk(){this.g=new XN}function _k(A,U,Q){const he=Q||"";try{VO(A,function(Je,yt){let nn=Je;k(Je)&&(nn=vR(Je)),U.push(he+yt+"="+encodeURIComponent(nn))})}catch(Je){throw U.push(he+"type="+encodeURIComponent("_badmap")),Je}}function XA(A){this.l=A.Ub||null,this.j=A.eb||!1}function yD(A,U){Na.call(this),this.D=A,this.o=U,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function GO(A){A.j.read().then(A.Pa.bind(A)).catch(A.ga.bind(A))}function JA(A){A.readyState=4,A.l=null,A.j=null,A.v=null,eC(A)}function eC(A){A.onreadystatechange&&A.onreadystatechange.call(A)}function WO(A){let U="";return $n(A,function(Q,he){U+=he,U+=":",U+=Q,U+="\r\n"}),U}function MR(A,U,Q){e:{for(he in Q){var he=!1;break e}he=!0}he||(Q=WO(Q),"string"==typeof A?null!=Q&&encodeURIComponent(String(Q)):ts(A,U,Q))}function Fs(A){Na.call(this),this.headers=new Map,this.o=A||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(a=ZA.prototype).add=function(A,U){cg(this),this.i=null,A=IE(this,A);var Q=this.g.get(A);return Q||this.g.set(A,Q=[]),Q.push(U),this.h+=1,this},a.forEach=function(A,U){cg(this),this.g.forEach(function(Q,he){Q.forEach(function(Je){A.call(U,Je,he,this)},this)},this)},a.na=function(){cg(this);const A=Array.from(this.g.values()),U=Array.from(this.g.keys()),Q=[];for(let he=0;he<U.length;he++){const Je=A[he];for(let yt=0;yt<Je.length;yt++)Q.push(U[he])}return Q},a.V=function(A){cg(this);let U=[];if("string"==typeof A)zO(this,A)&&(U=U.concat(this.g.get(IE(this,A))));else{A=Array.from(this.g.values());for(let Q=0;Q<A.length;Q++)U=U.concat(A[Q])}return U},a.set=function(A,U){return cg(this),this.i=null,zO(this,A=IE(this,A))&&(this.h-=this.g.get(A).length),this.g.set(A,[U]),this.h+=1,this},a.get=function(A,U){return A&&0<(A=this.V(A)).length?String(A[0]):U},a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const A=[],U=Array.from(this.g.keys());for(var Q=0;Q<U.length;Q++){var he=U[Q];const yt=encodeURIComponent(String(he)),nn=this.V(he);for(he=0;he<nn.length;he++){var Je=yt;""!==nn[he]&&(Je+="="+encodeURIComponent(String(nn[he]))),A.push(Je)}}return this.i=A.join("&")},qe(XA,ER),XA.prototype.g=function(){return new yD(this.l,this.j)},XA.prototype.i=(A={},function(){return A}),qe(yD,Na),(a=yD.prototype).open=function(A,U){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=A,this.A=U,this.readyState=1,eC(this)},a.send=function(A){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const U={headers:this.u,method:this.B,credentials:this.m,cache:void 0};A&&(U.body=A),(this.D||b).fetch(new Request(this.A,U)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,JA(this)),this.readyState=0},a.Sa=function(A){if(this.g&&(this.l=A,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=A.headers,this.readyState=2,eC(this)),this.g&&(this.readyState=3,eC(this),this.g)))if("arraybuffer"===this.responseType)A.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof b.ReadableStream<"u"&&"body"in A){if(this.j=A.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;GO(this)}else A.text().then(this.Ra.bind(this),this.ga.bind(this))},a.Pa=function(A){if(this.g){if(this.o&&A.value)this.response.push(A.value);else if(!this.o){var U=A.value?A.value:new Uint8Array(0);(U=this.v.decode(U,{stream:!A.done}))&&(this.response=this.responseText+=U)}A.done?JA(this):eC(this),3==this.readyState&&GO(this)}},a.Ra=function(A){this.g&&(this.response=this.responseText=A,JA(this))},a.Qa=function(A){this.g&&(this.response=A,JA(this))},a.ga=function(){this.g&&JA(this)},a.setRequestHeader=function(A,U){this.u.append(A,U)},a.getResponseHeader=function(A){return this.h&&this.h.get(A.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const A=[],U=this.h.entries();for(var Q=U.next();!Q.done;)A.push((Q=Q.value)[0]+": "+Q[1]),Q=U.next();return A.join("\r\n")},Object.defineProperty(yD.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(A){this.m=A?"include":"same-origin"}}),qe(Fs,Na);var yk=/^https?$/i,vk=["POST","PUT"];function qO(A,U){A.h=!1,A.g&&(A.j=!0,A.g.abort(),A.j=!1),A.l=U,A.m=5,KO(A),vD(A)}function KO(A){A.A||(A.A=!0,il(A,"complete"),il(A,"error"))}function YO(A){if(A.h&&typeof m<"u"&&(!A.v[1]||4!=pf(A)||2!=A.Z()))if(A.u&&4==pf(A))_O(A.Ea,0,A);else if(il(A,"readystatechange"),4==pf(A)){A.h=!1;try{const nn=A.Z();e:switch(nn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var U=!0;break e;default:U=!1}var Q;if(!(Q=U)){var he;if(he=0===nn){var Je=String(A.D).match(BO)[1]||null;!Je&&b.self&&b.self.location&&(Je=b.self.location.protocol.slice(0,-1)),he=!yk.test(Je?Je.toLowerCase():"")}Q=he}if(Q)il(A,"complete"),il(A,"success");else{A.m=6;try{var yt=2<pf(A)?A.g.statusText:""}catch{yt=""}A.l=yt+" ["+A.Z()+"]",KO(A)}}finally{vD(A)}}}function vD(A,U){if(A.g){QO(A);const Q=A.g,he=A.v[0]?()=>{}:null;A.g=null,A.v=null,U||il(A,"ready");try{Q.onreadystatechange=he}catch{}}}function QO(A){A.I&&(b.clearTimeout(A.I),A.I=null)}function pf(A){return A.g?A.g.readyState:0}function ZO(A){try{if(!A.g)return null;if("response"in A.g)return A.g.response;switch(A.H){case"":case"text":return A.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in A.g)return A.g.mozResponseArrayBuffer}return null}catch{return null}}function tC(A,U,Q){return Q&&Q.internalChannelParams&&Q.internalChannelParams[A]||U}function XO(A){this.Aa=0,this.i=[],this.j=new qA,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=tC("failFast",!1,A),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=tC("baseRetryDelayMs",5e3,A),this.cb=tC("retryDelaySeedMs",1e4,A),this.Wa=tC("forwardChannelMaxRetries",2,A),this.wa=tC("forwardChannelRequestTimeoutMs",2e4,A),this.pa=A&&A.xmlHttpFactory||void 0,this.Xa=A&&A.Tb||void 0,this.Ca=A&&A.useFetchStreams||!1,this.L=void 0,this.J=A&&A.supportsCrossDomainXhr||!1,this.K="",this.h=new OO(A&&A.concurrentRequestLimit),this.Da=new mk,this.P=A&&A.fastHandshake||!1,this.O=A&&A.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=A&&A.Rb||!1,A&&A.xa&&this.j.xa(),A&&A.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&A&&A.detectBufferingProxy||!1,this.ja=void 0,A&&A.longPollingTimeout&&0<A.longPollingTimeout&&(this.ja=A.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function xR(A){if(JO(A),3==A.G){var U=A.U++,Q=ff(A.I);if(ts(Q,"SID",A.K),ts(Q,"RID",U),ts(Q,"TYPE","terminate"),nC(A,Q),(U=new lg(A,A.j,U)).L=2,U.v=_D(ff(Q)),Q=!1,b.navigator&&b.navigator.sendBeacon)try{Q=b.navigator.sendBeacon(U.v.toString(),"")}catch{}!Q&&b.Image&&((new Image).src=U.v,Q=!0),Q||(U.g=lN(U.j,null),U.g.ea(U.v)),U.F=Date.now(),pD(U)}oN(A)}function ED(A){A.g&&(OR(A),A.g.cancel(),A.g=null)}function JO(A){ED(A),A.u&&(b.clearTimeout(A.u),A.u=null),wD(A),A.h.cancel(),A.s&&("number"==typeof A.s&&b.clearTimeout(A.s),A.s=null)}function bD(A){if(!NO(A.h)&&!A.s){A.s=!0;var U=A.Ga;Nn||Zs(),Gn||(Nn(),Gn=!0),Ni.add(U,A),A.B=0}}function eN(A,U){var Q;Q=U?U.l:A.U++;const he=ff(A.I);ts(he,"SID",A.K),ts(he,"RID",Q),ts(he,"AID",A.T),nC(A,he),A.m&&A.o&&MR(he,A.m,A.o),Q=new lg(A,A.j,Q,A.B+1),null===A.m&&(Q.H=A.o),U&&(A.i=U.D.concat(A.i)),U=tN(A,Q,1e3),Q.I=Math.round(.5*A.wa)+Math.round(.5*A.wa*Math.random()),PR(A.h,Q),TR(Q,he,U)}function nC(A,U){A.H&&$n(A.H,function(Q,he){ts(U,he,Q)}),A.l&&VO({},function(Q,he){ts(U,he,Q)})}function tN(A,U,Q){Q=Math.min(A.i.length,Q);var he=A.l?ge(A.l.Na,A.l,A):null;e:{var Je=A.i;let yt=-1;for(;;){const nn=["count="+Q];-1==yt?0<Q?(yt=Je[0].g,nn.push("ofs="+yt)):yt=0:nn.push("ofs="+yt);let Rr=!0;for(let ga=0;ga<Q;ga++){let ir=Je[ga].g;const ka=Je[ga].map;if(ir-=yt,0>ir)yt=Math.max(0,Je[ga].g-100),Rr=!1;else try{_k(ka,nn,"req"+ir+"_")}catch{he&&he(ka)}}if(Rr){he=nn.join("&");break e}}}return A=A.i.splice(0,Q),U.D=A,he}function nN(A){if(!A.g&&!A.u){A.Y=1;var U=A.Fa;Nn||Zs(),Gn||(Nn(),Gn=!0),Ni.add(U,A),A.v=0}}function RR(A){return!(A.g||A.u||3<=A.v||(A.Y++,A.u=WA(ge(A.Fa,A),sN(A,A.v)),A.v++,0))}function OR(A){null!=A.A&&(b.clearTimeout(A.A),A.A=null)}function iN(A){A.g=new lg(A,A.j,"rpc",A.Y),null===A.m&&(A.g.H=A.o),A.g.O=0;var U=ff(A.qa);ts(U,"RID","rpc"),ts(U,"SID",A.K),ts(U,"AID",A.T),ts(U,"CI",A.F?"0":"1"),!A.F&&A.ja&&ts(U,"TO",A.ja),ts(U,"TYPE","xmlhttp"),nC(A,U),A.m&&A.o&&MR(U,A.m,A.o),A.L&&(A.g.I=A.L);var Q=A.g;A=A.ia,Q.L=1,Q.v=_D(ff(U)),Q.m=null,Q.P=!0,MO(Q,A)}function wD(A){null!=A.C&&(b.clearTimeout(A.C),A.C=null)}function rN(A,U){var Q=null;if(A.g==U){wD(A),OR(A),A.g=null;var he=2}else{if(!DR(A.h,U))return;Q=U.D,LO(A.h,U),he=1}if(0!=A.G)if(U.o)if(1==he){Q=U.m?U.m.length:0,U=Date.now()-U.F;var Je=A.B;il(he=dD(),new IO(he,Q)),bD(A)}else nN(A);else if(3==(Je=U.s)||0==Je&&0<U.X||!(1==he&&function bk(A,U){return!(kO(A.h)>=A.h.j-(A.s?1:0)||(A.s?(A.i=U.D.concat(A.i),0):1==A.G||2==A.G||A.B>=(A.Va?0:A.Wa)||(A.s=WA(ge(A.Ga,A,U),sN(A,A.B)),A.B++,0)))}(A,U)||2==he&&RR(A)))switch(Q&&0<Q.length&&(U=A.h,U.i=U.i.concat(Q)),Je){case 1:__(A,5);break;case 4:__(A,10);break;case 3:__(A,6);break;default:__(A,2)}}function sN(A,U){let Q=A.Ta+Math.floor(Math.random()*A.cb);return A.isActive()||(Q*=2),Q*U}function __(A,U){if(A.j.info("Error code "+U),2==U){var Q=ge(A.fb,A),he=A.Xa;const Je=!he;he=new m_(he||"//www.google.com/images/cleardot.gif"),b.location&&"http"==b.location.protocol||gD(he,"https"),_D(he),Je?function pk(A,U){const Q=new qA;if(b.Image){const he=new Image;he.onload=Re(ug,Q,"TestLoadImage: loaded",!0,U,he),he.onerror=Re(ug,Q,"TestLoadImage: error",!1,U,he),he.onabort=Re(ug,Q,"TestLoadImage: abort",!1,U,he),he.ontimeout=Re(ug,Q,"TestLoadImage: timeout",!1,U,he),b.setTimeout(function(){he.ontimeout&&he.ontimeout()},1e4),he.src=A}else U(!1)}(he.toString(),Q):function gk(A,U){new qA;const he=new AbortController,Je=setTimeout(()=>{he.abort(),ug(0,0,!1,U)},1e4);fetch(A,{signal:he.signal}).then(yt=>{clearTimeout(Je),ug(0,0,!!yt.ok,U)}).catch(()=>{clearTimeout(Je),ug(0,0,!1,U)})}(he.toString(),Q)}else rl(2);A.G=0,A.l&&A.l.sa(U),oN(A),JO(A)}function oN(A){if(A.G=0,A.ka=[],A.l){const U=FO(A.h);(0!=U.length||0!=A.i.length)&&(bt(A.ka,U),bt(A.ka,A.i),A.h.i.length=0,pt(A.i),A.i.length=0),A.l.ra()}}function aN(A,U,Q){var he=Q instanceof m_?ff(Q):new m_(Q);if(""!=he.g)U&&(he.g=U+"."+he.g),mD(he,he.s);else{var Je=b.location;he=Je.protocol,U=U?U+"."+Je.hostname:Je.hostname,Je=+Je.port;var yt=new m_(null);he&&gD(yt,he),U&&(yt.g=U),Je&&mD(yt,Je),Q&&(yt.l=Q),he=yt}return U=A.ya,(Q=A.D)&&U&&ts(he,Q,U),ts(he,"VER",A.la),nC(A,he),he}function lN(A,U,Q){if(U&&!A.J)throw Error("Can't create secondary domain capable XhrIo object.");return(U=new Fs(A.Ca&&!A.pa?new XA({eb:Q}):A.pa)).Ha(A.J),U}function cN(){}function AD(){}function tc(A,U){Na.call(this),this.g=new XO(U),this.l=A,this.h=U&&U.messageUrlParams||null,A=U&&U.messageHeaders||null,U&&U.clientProtocolHeaderRequired&&(A?A["X-Client-Protocol"]="webchannel":A={"X-Client-Protocol":"webchannel"}),this.g.o=A,A=U&&U.initMessageHeaders||null,U&&U.messageContentType&&(A?A["X-WebChannel-Content-Type"]=U.messageContentType:A={"X-WebChannel-Content-Type":U.messageContentType}),U&&U.va&&(A?A["X-WebChannel-Client-Profile"]=U.va:A={"X-WebChannel-Client-Profile":U.va}),this.g.S=A,(A=U&&U.Sb)&&!an(A)&&(this.g.m=A),this.v=U&&U.supportsCrossDomainXhr||!1,this.u=U&&U.sendRawJson||!1,(U=U&&U.httpSessionIdParam)&&!an(U)&&(this.g.D=U,null!==(A=this.h)&&U in A&&U in(A=this.h)&&delete A[U]),this.j=new SE(this)}function uN(A){bR.call(this),A.__headers__&&(this.headers=A.__headers__,this.statusCode=A.__status__,delete A.__headers__,delete A.__status__);var U=A.__sm__;if(U){e:{for(const Q in U){A=Q;break e}A=void 0}(this.i=A)&&(A=this.i,U=null!==U&&A in U?U[A]:void 0),this.data=U}else this.data=A}function dN(){wR.call(this),this.status=1}function SE(A){this.g=A}(a=Fs.prototype).Ha=function(A){this.J=A},a.ea=function(A,U,Q,he){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+A);U=U?U.toUpperCase():"GET",this.D=A,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():AR.g(),this.v=function bO(A){return A.h||(A.h=A.i())}(this.o?this.o:AR),this.g.onreadystatechange=ge(this.Ea,this);try{this.B=!0,this.g.open(U,String(A),!0),this.B=!1}catch(yt){return void qO(this,yt)}if(A=Q||"",Q=new Map(this.headers),he)if(Object.getPrototypeOf(he)===Object.prototype)for(var Je in he)Q.set(Je,he[Je]);else{if("function"!=typeof he.keys||"function"!=typeof he.get)throw Error("Unknown input type for opt_headers: "+String(he));for(const yt of he.keys())Q.set(yt,he.get(yt))}he=Array.from(Q.keys()).find(yt=>"content-type"==yt.toLowerCase()),Je=b.FormData&&A instanceof b.FormData,!(0<=Array.prototype.indexOf.call(vk,U,void 0))||he||Je||Q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[yt,nn]of Q)this.g.setRequestHeader(yt,nn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{QO(this),this.u=!0,this.g.send(A),this.u=!1}catch(yt){qO(this,yt)}},a.abort=function(A){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=A||7,il(this,"complete"),il(this,"abort"),vD(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vD(this,!0)),Fs.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?YO(this):this.bb())},a.bb=function(){YO(this)},a.isActive=function(){return!!this.g},a.Z=function(){try{return 2<pf(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(A){if(this.g){var U=this.g.responseText;return A&&0==U.indexOf(A)&&(U=U.substring(A.length)),ZN(U)}},a.Ba=function(){return this.m},a.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(a=XO.prototype).la=8,a.G=1,a.connect=function(A,U,Q,he){rl(0),this.W=A,this.H=U||{},Q&&void 0!==he&&(this.H.OSID=Q,this.H.OAID=he),this.F=this.X,this.I=aN(this,null,this.W),bD(this)},a.Ga=function(A){if(this.s)if(this.s=null,1==this.G){if(!A){this.U=Math.floor(1e5*Math.random()),A=this.U++;const Je=new lg(this,this.j,A);let yt=this.o;if(this.S&&(yt?(yt=Ce(yt),He(yt,this.S)):yt=this.S),null!==this.m||this.O||(Je.H=yt,yt=null),this.P)e:{for(var U=0,Q=0;Q<this.i.length;Q++){var he=this.i[Q];if(void 0===(he="__data__"in he.map&&"string"==typeof(he=he.map.__data__)?he.length:void 0))break;if(4096<(U+=he)){U=Q;break e}if(4096===U||Q===this.i.length-1){U=Q+1;break e}}U=1e3}else U=1e3;U=tN(this,Je,U),ts(Q=ff(this.I),"RID",A),ts(Q,"CVER",22),this.D&&ts(Q,"X-HTTP-Session-Id",this.D),nC(this,Q),yt&&(this.O?U="headers="+encodeURIComponent(String(WO(yt)))+"&"+U:this.m&&MR(Q,this.m,yt)),PR(this.h,Je),this.Ua&&ts(Q,"TYPE","init"),this.P?(ts(Q,"$req",U),ts(Q,"SID","null"),Je.T=!0,TR(Je,Q,null)):TR(Je,Q,U),this.G=2}}else 3==this.G&&(A?eN(this,A):0==this.i.length||NO(this.h)||eN(this))},a.Fa=function(){if(this.u=null,iN(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var A=2*this.R;this.j.info("BP detection timer enabled: "+A),this.A=WA(ge(this.ab,this),A)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,rl(10),ED(this),iN(this))},a.Za=function(){null!=this.C&&(this.C=null,ED(this),RR(this),rl(19))},a.fb=function(A){A?(this.j.info("Successfully pinged google.com"),rl(2)):(this.j.info("Failed to ping google.com"),rl(1))},a.isActive=function(){return!!this.l&&this.l.isActive(this)},(a=cN.prototype).ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){},AD.prototype.g=function(A,U){return new tc(A,U)},qe(tc,Na),tc.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tc.prototype.close=function(){xR(this.g)},tc.prototype.o=function(A){var U=this.g;if("string"==typeof A){var Q={};Q.__data__=A,A=Q}else this.u&&((Q={}).__data__=vR(A),A=Q);U.i.push(new rk(U.Ya++,A)),3==U.G&&bD(U)},tc.prototype.N=function(){this.g.l=null,delete this.j,xR(this.g),delete this.g,tc.aa.N.call(this)},qe(uN,bR),qe(dN,wR),qe(SE,cN),SE.prototype.ua=function(){il(this.g,"a")},SE.prototype.ta=function(A){il(this.g,new uN(A))},SE.prototype.sa=function(A){il(this.g,new dN)},SE.prototype.ra=function(){il(this.g,"b")},AD.prototype.createWebChannel=AD.prototype.g,tc.prototype.send=tc.prototype.o,tc.prototype.open=tc.prototype.m,tc.prototype.close=tc.prototype.close,ou.createWebChannelTransport=function(){return new AD},ou.getStatEventTarget=function(){return dD()},ou.Event=p_,ou.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},hD.NO_ERROR=0,hD.TIMEOUT=8,hD.HTTP_ERROR=6,ou.ErrorCode=hD,SO.COMPLETE="complete",ou.EventType=SO,wO.EventType=$A,$A.OPEN="a",$A.CLOSE="b",$A.ERROR="c",$A.MESSAGE="d",Na.prototype.listen=Na.prototype.K,ou.WebChannel=wO,ou.FetchXmlHttpFactory=XA,Fs.prototype.listenOnce=Fs.prototype.L,Fs.prototype.getLastError=Fs.prototype.Ka,Fs.prototype.getLastErrorCode=Fs.prototype.Ba,Fs.prototype.getStatus=Fs.prototype.Z,Fs.prototype.getResponseJson=Fs.prototype.Oa,Fs.prototype.getResponseText=Fs.prototype.oa,Fs.prototype.send=Fs.prototype.ea,Fs.prototype.setWithCredentials=Fs.prototype.Ha,ou.XhrIo=Fs}).apply(typeof Cm<"u"?Cm:typeof self<"u"?self:typeof window<"u"?window:{});const Ql="@firebase/firestore";class mr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mr.UNAUTHENTICATED=new mr(null),mr.GOOGLE_CREDENTIALS=new mr("google-credentials-uid"),mr.FIRST_PARTY=new mr("first-party-uid"),mr.MOCK_USER=new mr("mock-user");let ha="10.13.2";const au=new gs("@firebase/firestore");function Ut(a,...e){if(au.logLevel<=zn.DEBUG){const t=e.map(Tm);au.debug(`Firestore (${ha}): ${a}`,...t)}}function Es(a,...e){if(au.logLevel<=zn.ERROR){const t=e.map(Tm);au.error(`Firestore (${ha}): ${a}`,...t)}}function Tm(a){if("string"==typeof a)return a;try{return JSON.stringify(a)}catch{return a}}function fn(a="Unexpected state"){const e=`FIRESTORE (${ha}) INTERNAL ASSERTION FAILED: `+a;throw Es(e),new Error(e)}function In(a,e){a||fn()}const ft={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Vt extends qa{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ns{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Im{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(mr.UNAUTHENTICATED))}shutdown(){}}class BT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class UT{constructor(e){this.t=e,this.currentUser=mr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let c=this.i;const h=k=>this.i!==c?(c=this.i,t(k)):Promise.resolve();let m=new Ns;this.o=()=>{this.i++,this.currentUser=this.u(),m.resolve(),m=new Ns,e.enqueueRetryable(()=>h(this.currentUser))};const b=()=>{const k=m;e.enqueueRetryable((0,ut.Z)(function*(){yield k.promise,yield h(r.currentUser)}))},I=k=>{Ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=k,this.auth.addAuthTokenListener(this.o),b()};this.t.onInit(k=>I(k)),setTimeout(()=>{if(!this.auth){const k=this.t.getImmediate({optional:!0});k?I(k):(Ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),m.resolve(),m=new Ns)}},0),b()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(In("string"==typeof r.accessToken),new Im(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return In(null===e||"string"==typeof e),new mr(e)}}class cM{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=mr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class uM{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new cM(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(mr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dM{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const r=h=>{null!=h.error&&Ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const m=h.token!==this.R;return this.R=h.token,Ut("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?t(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>r(h))};const c=h=>{Ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.appCheck.addTokenListener(this.o)};this.A.onInit(h=>c(h)),setTimeout(()=>{if(!this.appCheck){const h=this.A.getImmediate({optional:!0});h?c(h):Ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(In("string"==typeof t.token),this.R=t.token,new jT(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function hM(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(a);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<a;r++)t[r]=Math.floor(256*Math.random());return t}class HT{static newId(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const c=hM(40);for(let h=0;h<c.length;++h)r.length<20&&c[h]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(c[h]%62))}return r}}function Xn(a,e){return a<e?-1:a>e?1:0}class f0{constructor(e,t,r){void 0===t?t=0:t>e.length&&fn(),void 0===r?r=e.length-t:r>e.length-t&&fn(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===f0.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof f0?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let c=0;c<r;c++){const h=e.get(c),m=t.get(c);if(h<m)return-1;if(h>m)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Pi extends f0{construct(e,t,r){return new Pi(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Vt(ft.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(c=>c.length>0))}return new Pi(t)}static emptyPath(){return new Pi([])}}class rn{constructor(e){this.path=e}static fromPath(e){return new rn(Pi.fromString(e))}static fromName(e){return new rn(Pi.fromString(e).popFirst(5))}static empty(){return new rn(Pi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Pi.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Pi.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new rn(new Pi(e.slice()))}}function gd(a){return"IndexedDbTransactionError"===a.name}class Ar{constructor(e,t){this.comparator=e,this.root=t||Ro.EMPTY}insert(e,t){return new Ar(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ro.BLACK,null,null))}remove(e){return new Ar(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ro.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const c=this.comparator(e,r.key);if(0===c)return t+r.left.size;c<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new km(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new km(this.root,e,this.comparator,!1)}getReverseIterator(){return new km(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new km(this.root,e,this.comparator,!0)}}class km{constructor(e,t,r,c){this.isReverse=c,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=t?r(e.key,t):1,t&&c&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(0===h){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ro{constructor(e,t,r,c,h){this.key=e,this.value=t,this.color=r??Ro.RED,this.left=c??Ro.EMPTY,this.right=h??Ro.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,c,h){return new Ro(e??this.key,t??this.value,r??this.color,c??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let c=this;const h=r(e,c.key);return c=h<0?c.copy(null,null,null,c.left.insert(e,t,r),null):0===h?c.copy(null,t,null,null,null):c.copy(null,null,null,null,c.right.insert(e,t,r)),c.fixUp()}removeMin(){if(this.left.isEmpty())return Ro.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,c=this;if(t(e,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(e,t),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===t(e,c.key)){if(c.right.isEmpty())return Ro.EMPTY;r=c.right.min(),c=c.copy(r.key,r.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(e,t))}return c.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ro.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ro.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fn();const e=this.left.check();if(e!==this.right.check())throw fn();return e+(this.isRed()?0:1)}}Ro.EMPTY=null,Ro.RED=!0,Ro.BLACK=!1,Ro.EMPTY=new class{constructor(){this.size=0}get key(){throw fn()}get value(){throw fn()}get color(){throw fn()}get left(){throw fn()}get right(){throw fn()}copy(e,t,r,c,h){return this}insert(e,t,r){return new Ro(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class _r{constructor(e){this.comparator=e,this.data=new Ar(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const c=r.getNext();if(this.comparator(c.key,e[1])>=0)return;t(c.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new D0(this.data.getIterator())}getIteratorFrom(e){return new D0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof _r)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const c=t.getNext().key,h=r.getNext().key;if(0!==this.comparator(c,h))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new _r(this.comparator);return t.data=e,t}}class D0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class nI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ls{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(c){try{return atob(c)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new nI("Invalid base64 string: "+h):h}}(e);return new ls(t)}static fromUint8Array(e){const t=function(c){let h="";for(let m=0;m<c.length;++m)h+=String.fromCharCode(c[m]);return h}(e);return new ls(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let c=0;c<t.length;c++)r[c]=t.charCodeAt(c);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ls.EMPTY_BYTE_STRING=new ls("");const bM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ir(a){return"number"==typeof a?a:"string"==typeof a?Number(a):0}class iI{constructor(e,t,r,c,h,m,b,I,k){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=c,this.ssl=h,this.forceLongPolling=m,this.autoDetectLongPolling=b,this.longPollingOptions=I,this.useFetchStreams=k}}class Sh{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Sh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Sh&&e.projectId===this.projectId&&e.database===this.database}}var bs,Oi,nA,px;new Ar(rn.comparator),new Ar(rn.comparator),new Ar(rn.comparator),new _r(rn.comparator),new _r(Xn),(Oi=bs||(bs={}))[Oi.OK=0]="OK",Oi[Oi.CANCELLED=1]="CANCELLED",Oi[Oi.UNKNOWN=2]="UNKNOWN",Oi[Oi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oi[Oi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oi[Oi.NOT_FOUND=5]="NOT_FOUND",Oi[Oi.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oi[Oi.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oi[Oi.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oi[Oi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oi[Oi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oi[Oi.ABORTED=10]="ABORTED",Oi[Oi.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oi[Oi.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oi[Oi.INTERNAL=13]="INTERNAL",Oi[Oi.UNAVAILABLE=14]="UNAVAILABLE",Oi[Oi.DATA_LOSS=15]="DATA_LOSS",new LT([4294967295,4294967295],0);class Eu{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Ir(e.integerValue));else if("doubleValue"in e){const r=Ir(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),function Rm(a){return 0===a&&1/a==-1/0}(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),"string"==typeof r&&(r=function du(a){if(In(!!a),"string"==typeof a){let e=0;const t=bM.exec(a);if(In(!!t),t[1]){let c=t[1];c=(c+"000000000").substr(0,9),e=Number(c)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ir(a.seconds),nanos:Ir(a.nanos)}}(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(function hu(a){return"string"==typeof a?ls.fromBase64String(a):ls.fromUint8Array(a)}(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?function x0(a){return"__max__"===(((a.mapValue||{}).fields||{}).__type__||{}).stringValue}(e)?this.dt(t,Number.MAX_SAFE_INTEGER):function nv(a){var e,t;return"__vector__"===(null===(t=((null===(e=a?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):fn()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const r=e.fields||{};this.dt(t,55);for(const c of Object.keys(r))this.Vt(c,t),this.Tt(r[c],t)}wt(e,t){var r,c;const h=e.fields||{};this.dt(t,53);const m="value",b=(null===(c=null===(r=h[m].arrayValue)||void 0===r?void 0:r.values)||void 0===c?void 0:c.length)||0;this.dt(t,15),t.At(Ir(b)),this.Vt(m,t),this.Tt(h[m],t)}bt(e,t){const r=e.values||[];this.dt(t,50);for(const c of r)this.Tt(c,t)}yt(e,t){this.dt(t,37),rn.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}}Eu.vt=new Eu,new Uint8Array(0);class ko{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ko(e,ko.DEFAULT_COLLECTION_PERCENTILE,ko.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Gp(){return typeof document<"u"?document:null}ko.DEFAULT_COLLECTION_PERCENTILE=10,ko.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ko.DEFAULT=new ko(41943040,ko.DEFAULT_COLLECTION_PERCENTILE,ko.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ko.DISABLED=new ko(-1,0,0);class Jm{constructor(e,t,r=1e3,c=1.5,h=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=c,this.Qo=h,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),c=Math.max(0,t-r);c>0&&Ut("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,c,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class Jw{constructor(e,t,r,c,h){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=c,this.removalCallback=h,this.deferred=new Ns,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,c,h){const m=Date.now()+r,b=new Jw(e,t,m,c,h);return b.start(r),b}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Vt(ft.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}(px=nA||(nA={})).ea="default",px.Cache="cache";class Lx{constructor(e,t,r,c){var h=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=c,this.user=mr.UNAUTHENTICATED,this.clientId=HT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var m=(0,ut.Z)(function*(b){Ut("FirestoreClient","Received user=",b.uid),yield h.authCredentialListener(b),h.user=b});return function(b){return m.apply(this,arguments)}}()),this.appCheckCredentials.start(r,m=>(Ut("FirestoreClient","Received new app check token=",m),this.appCheckCredentialListener(m,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Vt(ft.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ns;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ut.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const c=function ef(a,e){if(Es("AsyncQueue",`${e}: ${a}`),gd(a))return new Vt(ft.UNAVAILABLE,`${e}: ${a}`);throw a}(r,"Failed to shutdown persistence");t.reject(c)}})),t.promise}}function AA(a){const e={};return void 0!==a.timeoutSeconds&&(e.timeoutSeconds=a.timeoutSeconds),e}const Rd=new Map;function pi(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new Vt(ft.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=function tg(a){if(void 0===a)return"undefined";if(null===a)return"null";if("string"==typeof a)return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if("number"==typeof a||"boolean"==typeof a)return""+a;if("object"==typeof a){if(a instanceof Array)return"an array";{const e=(r=a).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof a?"a function":fn()}(a);throw new Vt(ft.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return a}class Hx{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Vt(ft.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Vt(ft.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function CA(a,e,t,r){if(!0===e&&!0===r)throw new Vt(ft.INVALID_ARGUMENT,`${a} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=AA(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(h){if(void 0!==h.timeoutSeconds){if(isNaN(h.timeoutSeconds))throw new Vt(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new Vt(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new Vt(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gE{constructor(e,t,r,c){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hx({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Vt(ft.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Vt(ft.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hx(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new lM;switch(r.type){case"firstParty":return new uM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Vt(ft.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=Rd.get(t);r&&(Ut("ComponentProvider","Removing Datastore"),Rd.delete(t),r.terminate())}(this),Promise.resolve()}}function G1(a,e,t,r={}){var c;const h=(a=pi(a,gE))._getSettings(),m=`${e}:${t}`;if("firestore.googleapis.com"!==h.host&&h.host!==m&&function Sl(a,...e){if(au.logLevel<=zn.WARN){const t=e.map(Tm);au.warn(`Firestore (${ha}): ${a}`,...t)}}("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),a._setSettings(Object.assign(Object.assign({},h),{host:m,ssl:!1})),r.mockUserToken){let b,I;if("string"==typeof r.mockUserToken)b=r.mockUserToken,I=mr.MOCK_USER;else{b=function Kr(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",c=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const m=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:c,exp:c+3600,auth_time:c,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},a);return[kc(JSON.stringify({alg:"none",type:"JWT"})),kc(JSON.stringify(m)),""].join(".")}(r.mockUserToken,null===(c=a._app)||void 0===c?void 0:c.options.projectId);const k=r.mockUserToken.sub||r.mockUserToken.user_id;if(!k)throw new Vt(ft.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");I=new mr(k)}a._authCredentials=new BT(new Im(b,I))}}class W1{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new Jm(this,"async_queue_retry"),this.Eu=()=>{const t=Gp();t&&Ut("AsyncQueue","Visibility state changed to "+t.visibilityState),this.t_.jo()};const e=Gp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const t=Gp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const t=new Ns;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){var e=this;return(0,ut.Z)(function*(){if(0!==e.uu.length){try{yield e.uu[0](),e.uu.shift(),e.t_.reset()}catch(t){if(!gd(t))throw t;Ut("AsyncQueue","Operation failed with retryable error: "+t)}e.uu.length>0&&e.t_.Go(()=>e.Ru())}})()}Au(e){const t=this.au.then(()=>(this.Pu=!0,e().catch(r=>{throw this.hu=r,this.Pu=!1,Es("INTERNAL UNHANDLED ERROR: ",function(m){let b=m.message||"";return m.stack&&(b=m.stack.includes(m.message)?m.stack:m.message+"\n"+m.stack),b}(r)),r}).then(r=>(this.Pu=!1,r))));return this.au=t,t}enqueueAfterDelay(e,t,r){this.du(),this.Tu.indexOf(e)>-1&&(t=0);const c=Jw.createAndSchedule(this,e,t,r,h=>this.Vu(h));return this.lu.push(c),c}du(){this.hu&&fn()}verifyOperationInProgress(){}mu(){var e=this;return(0,ut.Z)(function*(){let t;do{t=e.au,yield t}while(t!==e.au)})()}fu(e){for(const t of this.lu)if(t.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.lu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const t=this.lu.indexOf(e);this.lu.splice(t,1)}}class tr extends gE{constructor(e,t,r,c){super(e,t,r,c),this.type="firestore",this._queue=new W1,this._persistenceKey=c?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||function yE(a){var e,t,r;const c=a._freezeSettings(),h=(I=(null===(e=a._app)||void 0===e?void 0:e.options.appId)||"",new iI(a._databaseId,I,a._persistenceKey,(W=c).host,W.ssl,W.experimentalForceLongPolling,W.experimentalAutoDetectLongPolling,AA(W.experimentalLongPollingOptions),W.useFetchStreams));var I,W;a._firestoreClient=new Lx(a._authCredentials,a._appCheckCredentials,a._queue,h),null!==(t=c.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=c.localCache)&&void 0!==r&&r._onlineComponentProvider&&(a._firestoreClient._uninitializedComponentsProvider={_offlineKind:c.localCache.kind,_offline:c.localCache._offlineComponentProvider,_online:c.localCache._onlineComponentProvider})}(this),this._firestoreClient.terminate()}}function ZS(a,e){const r="string"==typeof a?a:e||"(default)",c=wr("object"==typeof a?a:L_(),"firestore").getImmediate({identifier:r});if(!c._initialized){const h=(a=>{const e=qr("firestore");if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]})();h&&G1(c,...h)}return c}!function(e,t=!0){ha=Wc,Ta(new so("firestore",(r,{instanceIdentifier:c,options:h})=>{const m=r.getProvider("app").getImmediate(),b=new tr(new UT(r.getProvider("auth-internal")),new dM(r.getProvider("app-check-internal")),function(k,W){if(!Object.prototype.hasOwnProperty.apply(k.options,["projectId"]))throw new Vt(ft.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sh(k.options.projectId,W)}(m,c),m);return h=Object.assign({useFetchStreams:t},h),b._setSettings(h),b},"PUBLIC").setMultipleInstances(!0)),Go(Ql,"4.7.2",e),Go(Ql,"4.7.2","esm2017")}();class lR{constructor(e){return e}}const dO="firestore",cR=new D.OlP("angularfire2.firestore-instances");function UN(a){return(e,t)=>{const r=e.runOutsideAngular(()=>a(t));return new lR(r)}}const jN={provide:class VN{constructor(){return Kc(dO)}},deps:[[new D.FiY,cR]]},HN={provide:lR,useFactory:function BN(a,e){const t=qE(dO,a,e);return t&&new lR(t)},deps:[[new D.FiY,cR],Po]};function zN(a,...e){return Go("angularfire",zl.full,"fst"),(0,D.MR2)([HN,jN,{provide:cR,useFactory:UN(a),multi:!0,deps:[D.R0b,D.zs3,Zd,da,[new D.FiY,xT],[new D.FiY,Fr],...e]}])}const $N=Xu(ZS,!0);var GN=H(7337);let WN=(()=>{class a{static#e=this.\u0275fac=function(r){return new(r||a)};static#t=this.\u0275mod=D.oAB({type:a,bootstrap:[ae]});static#n=this.\u0275inj=D.cJS({providers:[{provide:re.S$,useClass:re.b0},xt.T,en.v,$i,wi.C,Ai.s,ti.T,lt.M,{provide:mn.TP,useClass:fi.s,multi:!0},XE(()=>q_(GN.N.firebase)),jP(()=>Os()),zN(()=>$N())],imports:[Rn,ye,Er.m,mn.JF,Un.UX,Od]})}return a})();H(553).N.production&&(0,D.G48)(),v.q6().bootstrapModule(WN).catch(a=>console.error(a))},5619:(Ht,Ue,H)=>{H.d(Ue,{X:()=>D});var v=H(8645);class D extends v.x{constructor(fe){super(),this._value=fe}get value(){return this.getValue()}_subscribe(fe){const G=super._subscribe(fe);return!G.closed&&fe.next(this._value),G}getValue(){const{hasError:fe,thrownError:G,_value:z}=this;if(fe)throw G;return this._throwIfClosed(),z}next(fe){super.next(this._value=fe)}}},5592:(Ht,Ue,H)=>{H.d(Ue,{y:()=>ce});var v=H(305),D=H(7394),re=H(4850),fe=H(8407),G=H(2653),z=H(4674),Z=H(1441);let ce=(()=>{class be{constructor($e){$e&&(this._subscribe=$e)}lift($e){const xe=new be;return xe.source=this,xe.operator=$e,xe}subscribe($e,xe,wt){const gt=function Ee(be){return be&&be instanceof v.Lv||function ae(be){return be&&(0,z.m)(be.next)&&(0,z.m)(be.error)&&(0,z.m)(be.complete)}(be)&&(0,D.Nn)(be)}($e)?$e:new v.Hp($e,xe,wt);return(0,Z.x)(()=>{const{operator:$t,source:pn}=this;gt.add($t?$t.call(gt,pn):pn?this._subscribe(gt):this._trySubscribe(gt))}),gt}_trySubscribe($e){try{return this._subscribe($e)}catch(xe){$e.error(xe)}}forEach($e,xe){return new(xe=ue(xe))((wt,gt)=>{const $t=new v.Hp({next:pn=>{try{$e(pn)}catch(sn){gt(sn),$t.unsubscribe()}},error:gt,complete:wt});this.subscribe($t)})}_subscribe($e){var xe;return null===(xe=this.source)||void 0===xe?void 0:xe.subscribe($e)}[re.L](){return this}pipe(...$e){return(0,fe.U)($e)(this)}toPromise($e){return new($e=ue($e))((xe,wt)=>{let gt;this.subscribe($t=>gt=$t,$t=>wt($t),()=>xe(gt))})}}return be.create=De=>new be(De),be})();function ue(be){var De;return null!==(De=be??G.config.Promise)&&void 0!==De?De:Promise}},8645:(Ht,Ue,H)=>{H.d(Ue,{x:()=>Z});var v=H(5592),D=H(7394);const fe=(0,H(2306).d)(ue=>function(){ue(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var G=H(9039),z=H(1441);let Z=(()=>{class ue extends v.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Ee){const be=new ce(this,this);return be.operator=Ee,be}_throwIfClosed(){if(this.closed)throw new fe}next(Ee){(0,z.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const be of this.currentObservers)be.next(Ee)}})}error(Ee){(0,z.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Ee;const{observers:be}=this;for(;be.length;)be.shift().error(Ee)}})}complete(){(0,z.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Ee}=this;for(;Ee.length;)Ee.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Ee;return(null===(Ee=this.observers)||void 0===Ee?void 0:Ee.length)>0}_trySubscribe(Ee){return this._throwIfClosed(),super._trySubscribe(Ee)}_subscribe(Ee){return this._throwIfClosed(),this._checkFinalizedStatuses(Ee),this._innerSubscribe(Ee)}_innerSubscribe(Ee){const{hasError:be,isStopped:De,observers:$e}=this;return be||De?D.Lc:(this.currentObservers=null,$e.push(Ee),new D.w0(()=>{this.currentObservers=null,(0,G.P)($e,Ee)}))}_checkFinalizedStatuses(Ee){const{hasError:be,thrownError:De,isStopped:$e}=this;be?Ee.error(De):$e&&Ee.complete()}asObservable(){const Ee=new v.y;return Ee.source=this,Ee}}return ue.create=(ae,Ee)=>new ce(ae,Ee),ue})();class ce extends Z{constructor(ae,Ee){super(),this.destination=ae,this.source=Ee}next(ae){var Ee,be;null===(be=null===(Ee=this.destination)||void 0===Ee?void 0:Ee.next)||void 0===be||be.call(Ee,ae)}error(ae){var Ee,be;null===(be=null===(Ee=this.destination)||void 0===Ee?void 0:Ee.error)||void 0===be||be.call(Ee,ae)}complete(){var ae,Ee;null===(Ee=null===(ae=this.destination)||void 0===ae?void 0:ae.complete)||void 0===Ee||Ee.call(ae)}_subscribe(ae){var Ee,be;return null!==(be=null===(Ee=this.source)||void 0===Ee?void 0:Ee.subscribe(ae))&&void 0!==be?be:D.Lc}}},305:(Ht,Ue,H)=>{H.d(Ue,{Hp:()=>wt,Lv:()=>be});var v=H(4674),D=H(7394),re=H(2653),fe=H(3894),G=H(2420);const z=ue("C",void 0,void 0);function ue(Ot,Ve,Xe){return{kind:Ot,value:Ve,error:Xe}}var ae=H(7599),Ee=H(1441);class be extends D.w0{constructor(Ve){super(),this.isStopped=!1,Ve?(this.destination=Ve,(0,D.Nn)(Ve)&&Ve.add(this)):this.destination=sn}static create(Ve,Xe,pe){return new wt(Ve,Xe,pe)}next(Ve){this.isStopped?pn(function ce(Ot){return ue("N",Ot,void 0)}(Ve),this):this._next(Ve)}error(Ve){this.isStopped?pn(function Z(Ot){return ue("E",void 0,Ot)}(Ve),this):(this.isStopped=!0,this._error(Ve))}complete(){this.isStopped?pn(z,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ve){this.destination.next(Ve)}_error(Ve){try{this.destination.error(Ve)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const De=Function.prototype.bind;function $e(Ot,Ve){return De.call(Ot,Ve)}class xe{constructor(Ve){this.partialObserver=Ve}next(Ve){const{partialObserver:Xe}=this;if(Xe.next)try{Xe.next(Ve)}catch(pe){gt(pe)}}error(Ve){const{partialObserver:Xe}=this;if(Xe.error)try{Xe.error(Ve)}catch(pe){gt(pe)}else gt(Ve)}complete(){const{partialObserver:Ve}=this;if(Ve.complete)try{Ve.complete()}catch(Xe){gt(Xe)}}}class wt extends be{constructor(Ve,Xe,pe){let ke;if(super(),(0,v.m)(Ve)||!Ve)ke={next:Ve??void 0,error:Xe??void 0,complete:pe??void 0};else{let We;this&&re.config.useDeprecatedNextContext?(We=Object.create(Ve),We.unsubscribe=()=>this.unsubscribe(),ke={next:Ve.next&&$e(Ve.next,We),error:Ve.error&&$e(Ve.error,We),complete:Ve.complete&&$e(Ve.complete,We)}):ke=Ve}this.destination=new xe(ke)}}function gt(Ot){re.config.useDeprecatedSynchronousErrorHandling?(0,Ee.O)(Ot):(0,fe.h)(Ot)}function pn(Ot,Ve){const{onStoppedNotification:Xe}=re.config;Xe&&ae.z.setTimeout(()=>Xe(Ot,Ve))}const sn={closed:!0,next:G.Z,error:function $t(Ot){throw Ot},complete:G.Z}},7394:(Ht,Ue,H)=>{H.d(Ue,{Lc:()=>z,w0:()=>G,Nn:()=>Z});var v=H(4674);const re=(0,H(2306).d)(ue=>function(Ee){ue(this),this.message=Ee?`${Ee.length} errors occurred during unsubscription:\n${Ee.map((be,De)=>`${De+1}) ${be.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Ee});var fe=H(9039);class G{constructor(ae){this.initialTeardown=ae,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ae;if(!this.closed){this.closed=!0;const{_parentage:Ee}=this;if(Ee)if(this._parentage=null,Array.isArray(Ee))for(const $e of Ee)$e.remove(this);else Ee.remove(this);const{initialTeardown:be}=this;if((0,v.m)(be))try{be()}catch($e){ae=$e instanceof re?$e.errors:[$e]}const{_finalizers:De}=this;if(De){this._finalizers=null;for(const $e of De)try{ce($e)}catch(xe){ae=ae??[],xe instanceof re?ae=[...ae,...xe.errors]:ae.push(xe)}}if(ae)throw new re(ae)}}add(ae){var Ee;if(ae&&ae!==this)if(this.closed)ce(ae);else{if(ae instanceof G){if(ae.closed||ae._hasParent(this))return;ae._addParent(this)}(this._finalizers=null!==(Ee=this._finalizers)&&void 0!==Ee?Ee:[]).push(ae)}}_hasParent(ae){const{_parentage:Ee}=this;return Ee===ae||Array.isArray(Ee)&&Ee.includes(ae)}_addParent(ae){const{_parentage:Ee}=this;this._parentage=Array.isArray(Ee)?(Ee.push(ae),Ee):Ee?[Ee,ae]:ae}_removeParent(ae){const{_parentage:Ee}=this;Ee===ae?this._parentage=null:Array.isArray(Ee)&&(0,fe.P)(Ee,ae)}remove(ae){const{_finalizers:Ee}=this;Ee&&(0,fe.P)(Ee,ae),ae instanceof G&&ae._removeParent(this)}}G.EMPTY=(()=>{const ue=new G;return ue.closed=!0,ue})();const z=G.EMPTY;function Z(ue){return ue instanceof G||ue&&"closed"in ue&&(0,v.m)(ue.remove)&&(0,v.m)(ue.add)&&(0,v.m)(ue.unsubscribe)}function ce(ue){(0,v.m)(ue)?ue():ue.unsubscribe()}},2653:(Ht,Ue,H)=>{H.d(Ue,{config:()=>v});const v={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2572:(Ht,Ue,H)=>{H.d(Ue,{a:()=>ae});var v=H(5592),D=H(7453),re=H(2459),fe=H(2737),G=H(7400),z=H(9940),Z=H(2714),ce=H(8251),ue=H(7103);function ae(...De){const $e=(0,z.yG)(De),xe=(0,z.jO)(De),{args:wt,keys:gt}=(0,D.D)(De);if(0===wt.length)return(0,re.D)([],$e);const $t=new v.y(function Ee(De,$e,xe=fe.y){return wt=>{be($e,()=>{const{length:gt}=De,$t=new Array(gt);let pn=gt,sn=gt;for(let Ot=0;Ot<gt;Ot++)be($e,()=>{const Ve=(0,re.D)(De[Ot],$e);let Xe=!1;Ve.subscribe((0,ce.x)(wt,pe=>{$t[Ot]=pe,Xe||(Xe=!0,sn--),sn||wt.next(xe($t.slice()))},()=>{--pn||wt.complete()}))},wt)},wt)}}(wt,$e,gt?pn=>(0,Z.n)(gt,pn):fe.y));return xe?$t.pipe((0,G.Z)(xe)):$t}function be(De,$e,xe){De?(0,ue.f)(xe,De,$e):$e()}},5211:(Ht,Ue,H)=>{H.d(Ue,{z:()=>G});var v=H(7537),re=H(9940),fe=H(2459);function G(...z){return function D(){return(0,v.J)(1)}()((0,fe.D)(z,(0,re.yG)(z)))}},6232:(Ht,Ue,H)=>{H.d(Ue,{E:()=>D});const D=new(H(5592).y)(G=>G.complete())},9315:(Ht,Ue,H)=>{H.d(Ue,{D:()=>ce});var v=H(5592),D=H(7453),re=H(4829),fe=H(9940),G=H(8251),z=H(7400),Z=H(2714);function ce(...ue){const ae=(0,fe.jO)(ue),{args:Ee,keys:be}=(0,D.D)(ue),De=new v.y($e=>{const{length:xe}=Ee;if(!xe)return void $e.complete();const wt=new Array(xe);let gt=xe,$t=xe;for(let pn=0;pn<xe;pn++){let sn=!1;(0,re.Xf)(Ee[pn]).subscribe((0,G.x)($e,Ot=>{sn||(sn=!0,$t--),wt[pn]=Ot},()=>gt--,void 0,()=>{(!gt||!sn)&&($t||$e.next(be?(0,Z.n)(be,wt):wt),$e.complete())}))}});return ae?De.pipe((0,z.Z)(ae)):De}},2459:(Ht,Ue,H)=>{H.d(Ue,{D:()=>Ve});var v=H(4829),D=H(3093),re=H(5137),z=H(5592),ce=H(4971),ue=H(4674),ae=H(7103);function be(Xe,pe){if(!Xe)throw new Error("Iterable cannot be null");return new z.y(ke=>{(0,ae.f)(ke,pe,()=>{const We=Xe[Symbol.asyncIterator]();(0,ae.f)(ke,pe,()=>{We.next().then(Ie=>{Ie.done?ke.complete():ke.next(Ie.value)})},0,!0)})})}var De=H(8382),$e=H(4026),xe=H(4266),wt=H(3664),gt=H(5726),$t=H(9853),pn=H(541);function Ve(Xe,pe){return pe?function Ot(Xe,pe){if(null!=Xe){if((0,De.c)(Xe))return function fe(Xe,pe){return(0,v.Xf)(Xe).pipe((0,re.R)(pe),(0,D.Q)(pe))}(Xe,pe);if((0,xe.z)(Xe))return function Z(Xe,pe){return new z.y(ke=>{let We=0;return pe.schedule(function(){We===Xe.length?ke.complete():(ke.next(Xe[We++]),ke.closed||this.schedule())})})}(Xe,pe);if((0,$e.t)(Xe))return function G(Xe,pe){return(0,v.Xf)(Xe).pipe((0,re.R)(pe),(0,D.Q)(pe))}(Xe,pe);if((0,gt.D)(Xe))return be(Xe,pe);if((0,wt.T)(Xe))return function Ee(Xe,pe){return new z.y(ke=>{let We;return(0,ae.f)(ke,pe,()=>{We=Xe[ce.h](),(0,ae.f)(ke,pe,()=>{let Ie,je;try{({value:Ie,done:je}=We.next())}catch(tt){return void ke.error(tt)}je?ke.complete():ke.next(Ie)},0,!0)}),()=>(0,ue.m)(We?.return)&&We.return()})}(Xe,pe);if((0,pn.L)(Xe))return function sn(Xe,pe){return be((0,pn.Q)(Xe),pe)}(Xe,pe)}throw(0,$t.z)(Xe)}(Xe,pe):(0,v.Xf)(Xe)}},2438:(Ht,Ue,H)=>{H.d(Ue,{R:()=>ae});var v=H(4829),D=H(5592),re=H(1631),fe=H(4266),G=H(4674),z=H(7400);const Z=["addListener","removeListener"],ce=["addEventListener","removeEventListener"],ue=["on","off"];function ae(xe,wt,gt,$t){if((0,G.m)(gt)&&($t=gt,gt=void 0),$t)return ae(xe,wt,gt).pipe((0,z.Z)($t));const[pn,sn]=function $e(xe){return(0,G.m)(xe.addEventListener)&&(0,G.m)(xe.removeEventListener)}(xe)?ce.map(Ot=>Ve=>xe[Ot](wt,Ve,gt)):function be(xe){return(0,G.m)(xe.addListener)&&(0,G.m)(xe.removeListener)}(xe)?Z.map(Ee(xe,wt)):function De(xe){return(0,G.m)(xe.on)&&(0,G.m)(xe.off)}(xe)?ue.map(Ee(xe,wt)):[];if(!pn&&(0,fe.z)(xe))return(0,re.z)(Ot=>ae(Ot,wt,gt))((0,v.Xf)(xe));if(!pn)throw new TypeError("Invalid event target");return new D.y(Ot=>{const Ve=(...Xe)=>Ot.next(1<Xe.length?Xe:Xe[0]);return pn(Ve),()=>sn(Ve)})}function Ee(xe,wt){return gt=>$t=>xe[gt](wt,$t)}},4829:(Ht,Ue,H)=>{H.d(Ue,{Xf:()=>De});var v=H(7582),D=H(4266),re=H(4026),fe=H(5592),G=H(8382),z=H(5726),Z=H(9853),ce=H(3664),ue=H(541),ae=H(4674),Ee=H(3894),be=H(4850);function De(Ot){if(Ot instanceof fe.y)return Ot;if(null!=Ot){if((0,G.c)(Ot))return function $e(Ot){return new fe.y(Ve=>{const Xe=Ot[be.L]();if((0,ae.m)(Xe.subscribe))return Xe.subscribe(Ve);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ot);if((0,D.z)(Ot))return function xe(Ot){return new fe.y(Ve=>{for(let Xe=0;Xe<Ot.length&&!Ve.closed;Xe++)Ve.next(Ot[Xe]);Ve.complete()})}(Ot);if((0,re.t)(Ot))return function wt(Ot){return new fe.y(Ve=>{Ot.then(Xe=>{Ve.closed||(Ve.next(Xe),Ve.complete())},Xe=>Ve.error(Xe)).then(null,Ee.h)})}(Ot);if((0,z.D)(Ot))return $t(Ot);if((0,ce.T)(Ot))return function gt(Ot){return new fe.y(Ve=>{for(const Xe of Ot)if(Ve.next(Xe),Ve.closed)return;Ve.complete()})}(Ot);if((0,ue.L)(Ot))return function pn(Ot){return $t((0,ue.Q)(Ot))}(Ot)}throw(0,Z.z)(Ot)}function $t(Ot){return new fe.y(Ve=>{(function sn(Ot,Ve){var Xe,pe,ke,We;return(0,v.mG)(this,void 0,void 0,function*(){try{for(Xe=(0,v.KL)(Ot);!(pe=yield Xe.next()).done;)if(Ve.next(pe.value),Ve.closed)return}catch(Ie){ke={error:Ie}}finally{try{pe&&!pe.done&&(We=Xe.return)&&(yield We.call(Xe))}finally{if(ke)throw ke.error}}Ve.complete()})})(Ot,Ve).catch(Xe=>Ve.error(Xe))})}},3019:(Ht,Ue,H)=>{H.d(Ue,{T:()=>z});var v=H(7537),D=H(4829),re=H(6232),fe=H(9940),G=H(2459);function z(...Z){const ce=(0,fe.yG)(Z),ue=(0,fe._6)(Z,1/0),ae=Z;return ae.length?1===ae.length?(0,D.Xf)(ae[0]):(0,v.J)(ue)((0,G.D)(ae,ce)):re.E}},2096:(Ht,Ue,H)=>{H.d(Ue,{of:()=>re});var v=H(9940),D=H(2459);function re(...fe){const G=(0,v.yG)(fe);return(0,D.D)(fe,G)}},8504:(Ht,Ue,H)=>{H.d(Ue,{_:()=>re});var v=H(5592),D=H(4674);function re(fe,G){const z=(0,D.m)(fe)?fe:()=>fe,Z=ce=>ce.error(z());return new v.y(G?ce=>G.schedule(Z,0,ce):Z)}},8251:(Ht,Ue,H)=>{H.d(Ue,{x:()=>D});var v=H(305);function D(fe,G,z,Z,ce){return new re(fe,G,z,Z,ce)}class re extends v.Lv{constructor(G,z,Z,ce,ue,ae){super(G),this.onFinalize=ue,this.shouldUnsubscribe=ae,this._next=z?function(Ee){try{z(Ee)}catch(be){G.error(be)}}:super._next,this._error=ce?function(Ee){try{ce(Ee)}catch(be){G.error(be)}finally{this.unsubscribe()}}:super._error,this._complete=Z?function(){try{Z()}catch(Ee){G.error(Ee)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var G;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:z}=this;super.unsubscribe(),!z&&(null===(G=this.onFinalize)||void 0===G||G.call(this))}}}},6306:(Ht,Ue,H)=>{H.d(Ue,{K:()=>fe});var v=H(4829),D=H(8251),re=H(9360);function fe(G){return(0,re.e)((z,Z)=>{let ae,ce=null,ue=!1;ce=z.subscribe((0,D.x)(Z,void 0,void 0,Ee=>{ae=(0,v.Xf)(G(Ee,fe(G)(z))),ce?(ce.unsubscribe(),ce=null,ae.subscribe(Z)):ue=!0})),ue&&(ce.unsubscribe(),ce=null,ae.subscribe(Z))})}},6328:(Ht,Ue,H)=>{H.d(Ue,{b:()=>re});var v=H(1631),D=H(4674);function re(fe,G){return(0,D.m)(G)?(0,v.z)(fe,G,1):(0,v.z)(fe,1)}},3620:(Ht,Ue,H)=>{H.d(Ue,{b:()=>fe});var v=H(6321),D=H(9360),re=H(8251);function fe(G,z=v.z){return(0,D.e)((Z,ce)=>{let ue=null,ae=null,Ee=null;const be=()=>{if(ue){ue.unsubscribe(),ue=null;const $e=ae;ae=null,ce.next($e)}};function De(){const $e=Ee+G,xe=z.now();if(xe<$e)return ue=this.schedule(void 0,$e-xe),void ce.add(ue);be()}Z.subscribe((0,re.x)(ce,$e=>{ae=$e,Ee=z.now(),ue||(ue=z.schedule(De,G),ce.add(ue))},()=>{be(),ce.complete()},void 0,()=>{ae=ue=null}))})}},3997:(Ht,Ue,H)=>{H.d(Ue,{x:()=>fe});var v=H(2737),D=H(9360),re=H(8251);function fe(z,Z=v.y){return z=z??G,(0,D.e)((ce,ue)=>{let ae,Ee=!0;ce.subscribe((0,re.x)(ue,be=>{const De=Z(be);(Ee||!z(ae,De))&&(Ee=!1,ae=De,ue.next(be))}))})}function G(z,Z){return z===Z}},2181:(Ht,Ue,H)=>{H.d(Ue,{h:()=>re});var v=H(9360),D=H(8251);function re(fe,G){return(0,v.e)((z,Z)=>{let ce=0;z.subscribe((0,D.x)(Z,ue=>fe.call(G,ue,ce++)&&Z.next(ue)))})}},4716:(Ht,Ue,H)=>{H.d(Ue,{x:()=>D});var v=H(9360);function D(re){return(0,v.e)((fe,G)=>{try{fe.subscribe(G)}finally{G.add(re)}})}},7398:(Ht,Ue,H)=>{H.d(Ue,{U:()=>re});var v=H(9360),D=H(8251);function re(fe,G){return(0,v.e)((z,Z)=>{let ce=0;z.subscribe((0,D.x)(Z,ue=>{Z.next(fe.call(G,ue,ce++))}))})}},7537:(Ht,Ue,H)=>{H.d(Ue,{J:()=>re});var v=H(1631),D=H(2737);function re(fe=1/0){return(0,v.z)(D.y,fe)}},1631:(Ht,Ue,H)=>{H.d(Ue,{z:()=>ce});var v=H(7398),D=H(4829),re=H(9360),fe=H(7103),G=H(8251),Z=H(4674);function ce(ue,ae,Ee=1/0){return(0,Z.m)(ae)?ce((be,De)=>(0,v.U)(($e,xe)=>ae(be,$e,De,xe))((0,D.Xf)(ue(be,De))),Ee):("number"==typeof ae&&(Ee=ae),(0,re.e)((be,De)=>function z(ue,ae,Ee,be,De,$e,xe,wt){const gt=[];let $t=0,pn=0,sn=!1;const Ot=()=>{sn&&!gt.length&&!$t&&ae.complete()},Ve=pe=>$t<be?Xe(pe):gt.push(pe),Xe=pe=>{$e&&ae.next(pe),$t++;let ke=!1;(0,D.Xf)(Ee(pe,pn++)).subscribe((0,G.x)(ae,We=>{De?.(We),$e?Ve(We):ae.next(We)},()=>{ke=!0},void 0,()=>{if(ke)try{for($t--;gt.length&&$t<be;){const We=gt.shift();xe?(0,fe.f)(ae,xe,()=>Xe(We)):Xe(We)}Ot()}catch(We){ae.error(We)}}))};return ue.subscribe((0,G.x)(ae,Ve,()=>{sn=!0,Ot()})),()=>{wt?.()}}(be,De,ue,Ee)))}},3093:(Ht,Ue,H)=>{H.d(Ue,{Q:()=>fe});var v=H(7103),D=H(9360),re=H(8251);function fe(G,z=0){return(0,D.e)((Z,ce)=>{Z.subscribe((0,re.x)(ce,ue=>(0,v.f)(ce,G,()=>ce.next(ue),z),()=>(0,v.f)(ce,G,()=>ce.complete(),z),ue=>(0,v.f)(ce,G,()=>ce.error(ue),z)))})}},3020:(Ht,Ue,H)=>{H.d(Ue,{B:()=>G});var v=H(4829),D=H(8645),re=H(305),fe=H(9360);function G(Z={}){const{connector:ce=(()=>new D.x),resetOnError:ue=!0,resetOnComplete:ae=!0,resetOnRefCountZero:Ee=!0}=Z;return be=>{let De,$e,xe,wt=0,gt=!1,$t=!1;const pn=()=>{$e?.unsubscribe(),$e=void 0},sn=()=>{pn(),De=xe=void 0,gt=$t=!1},Ot=()=>{const Ve=De;sn(),Ve?.unsubscribe()};return(0,fe.e)((Ve,Xe)=>{wt++,!$t&&!gt&&pn();const pe=xe=xe??ce();Xe.add(()=>{wt--,0===wt&&!$t&&!gt&&($e=z(Ot,Ee))}),pe.subscribe(Xe),!De&&wt>0&&(De=new re.Hp({next:ke=>pe.next(ke),error:ke=>{$t=!0,pn(),$e=z(sn,ue,ke),pe.error(ke)},complete:()=>{gt=!0,pn(),$e=z(sn,ae),pe.complete()}}),(0,v.Xf)(Ve).subscribe(De))})(be)}}function z(Z,ce,...ue){if(!0===ce)return void Z();if(!1===ce)return;const ae=new re.Hp({next:()=>{ae.unsubscribe(),Z()}});return(0,v.Xf)(ce(...ue)).subscribe(ae)}},7921:(Ht,Ue,H)=>{H.d(Ue,{O:()=>fe});var v=H(5211),D=H(9940),re=H(9360);function fe(...G){const z=(0,D.yG)(G);return(0,re.e)((Z,ce)=>{(z?(0,v.z)(G,Z,z):(0,v.z)(G,Z)).subscribe(ce)})}},5137:(Ht,Ue,H)=>{H.d(Ue,{R:()=>D});var v=H(9360);function D(re,fe=0){return(0,v.e)((G,z)=>{z.add(re.schedule(()=>G.subscribe(z),fe))})}},4664:(Ht,Ue,H)=>{H.d(Ue,{w:()=>fe});var v=H(4829),D=H(9360),re=H(8251);function fe(G,z){return(0,D.e)((Z,ce)=>{let ue=null,ae=0,Ee=!1;const be=()=>Ee&&!ue&&ce.complete();Z.subscribe((0,re.x)(ce,De=>{ue?.unsubscribe();let $e=0;const xe=ae++;(0,v.Xf)(G(De,xe)).subscribe(ue=(0,re.x)(ce,wt=>ce.next(z?z(De,wt,xe,$e++):wt),()=>{ue=null,be()}))},()=>{Ee=!0,be()}))})}},8180:(Ht,Ue,H)=>{H.d(Ue,{q:()=>fe});var v=H(6232),D=H(9360),re=H(8251);function fe(G){return G<=0?()=>v.E:(0,D.e)((z,Z)=>{let ce=0;z.subscribe((0,re.x)(Z,ue=>{++ce<=G&&(Z.next(ue),G<=ce&&Z.complete())}))})}},9773:(Ht,Ue,H)=>{H.d(Ue,{R:()=>G});var v=H(9360),D=H(8251),re=H(4829),fe=H(2420);function G(z){return(0,v.e)((Z,ce)=>{(0,re.Xf)(z).subscribe((0,D.x)(ce,()=>ce.complete(),fe.Z)),!ce.closed&&Z.subscribe(ce)})}},9397:(Ht,Ue,H)=>{H.d(Ue,{b:()=>G});var v=H(4674),D=H(9360),re=H(8251),fe=H(2737);function G(z,Z,ce){const ue=(0,v.m)(z)||Z||ce?{next:z,error:Z,complete:ce}:z;return ue?(0,D.e)((ae,Ee)=>{var be;null===(be=ue.subscribe)||void 0===be||be.call(ue);let De=!0;ae.subscribe((0,re.x)(Ee,$e=>{var xe;null===(xe=ue.next)||void 0===xe||xe.call(ue,$e),Ee.next($e)},()=>{var $e;De=!1,null===($e=ue.complete)||void 0===$e||$e.call(ue),Ee.complete()},$e=>{var xe;De=!1,null===(xe=ue.error)||void 0===xe||xe.call(ue,$e),Ee.error($e)},()=>{var $e,xe;De&&(null===($e=ue.unsubscribe)||void 0===$e||$e.call(ue)),null===(xe=ue.finalize)||void 0===xe||xe.call(ue)}))}):fe.y}},1954:(Ht,Ue,H)=>{H.d(Ue,{o:()=>G});var v=H(7394);class D extends v.w0{constructor(Z,ce){super()}schedule(Z,ce=0){return this}}const re={setInterval(z,Z,...ce){const{delegate:ue}=re;return ue?.setInterval?ue.setInterval(z,Z,...ce):setInterval(z,Z,...ce)},clearInterval(z){const{delegate:Z}=re;return(Z?.clearInterval||clearInterval)(z)},delegate:void 0};var fe=H(9039);class G extends D{constructor(Z,ce){super(Z,ce),this.scheduler=Z,this.work=ce,this.pending=!1}schedule(Z,ce=0){var ue;if(this.closed)return this;this.state=Z;const ae=this.id,Ee=this.scheduler;return null!=ae&&(this.id=this.recycleAsyncId(Ee,ae,ce)),this.pending=!0,this.delay=ce,this.id=null!==(ue=this.id)&&void 0!==ue?ue:this.requestAsyncId(Ee,this.id,ce),this}requestAsyncId(Z,ce,ue=0){return re.setInterval(Z.flush.bind(Z,this),ue)}recycleAsyncId(Z,ce,ue=0){if(null!=ue&&this.delay===ue&&!1===this.pending)return ce;null!=ce&&re.clearInterval(ce)}execute(Z,ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ue=this._execute(Z,ce);if(ue)return ue;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Z,ce){let ae,ue=!1;try{this.work(Z)}catch(Ee){ue=!0,ae=Ee||new Error("Scheduled action threw falsy error")}if(ue)return this.unsubscribe(),ae}unsubscribe(){if(!this.closed){const{id:Z,scheduler:ce}=this,{actions:ue}=ce;this.work=this.state=this.scheduler=null,this.pending=!1,(0,fe.P)(ue,this),null!=Z&&(this.id=this.recycleAsyncId(ce,Z,null)),this.delay=null,super.unsubscribe()}}}},9931:(Ht,Ue,H)=>{H.d(Ue,{v:()=>re});const v={now:()=>(v.delegate||Date).now(),delegate:void 0};class D{constructor(G,z=D.now){this.schedulerActionCtor=G,this.now=z}schedule(G,z=0,Z){return new this.schedulerActionCtor(this,G).schedule(Z,z)}}D.now=v.now;class re extends D{constructor(G,z=D.now){super(G,z),this.actions=[],this._active=!1}flush(G){const{actions:z}=this;if(this._active)return void z.push(G);let Z;this._active=!0;do{if(Z=G.execute(G.state,G.delay))break}while(G=z.shift());if(this._active=!1,Z){for(;G=z.shift();)G.unsubscribe();throw Z}}}},6321:(Ht,Ue,H)=>{H.d(Ue,{P:()=>fe,z:()=>re});var v=H(1954);const re=new(H(9931).v)(v.o),fe=re},7599:(Ht,Ue,H)=>{H.d(Ue,{z:()=>v});const v={setTimeout(D,re,...fe){const{delegate:G}=v;return G?.setTimeout?G.setTimeout(D,re,...fe):setTimeout(D,re,...fe)},clearTimeout(D){const{delegate:re}=v;return(re?.clearTimeout||clearTimeout)(D)},delegate:void 0}},4971:(Ht,Ue,H)=>{H.d(Ue,{h:()=>D});const D=function v(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Ht,Ue,H)=>{H.d(Ue,{L:()=>v});const v="function"==typeof Symbol&&Symbol.observable||"@@observable"},9940:(Ht,Ue,H)=>{H.d(Ue,{_6:()=>z,jO:()=>fe,yG:()=>G});var v=H(4674),D=H(671);function re(Z){return Z[Z.length-1]}function fe(Z){return(0,v.m)(re(Z))?Z.pop():void 0}function G(Z){return(0,D.K)(re(Z))?Z.pop():void 0}function z(Z,ce){return"number"==typeof re(Z)?Z.pop():ce}},7453:(Ht,Ue,H)=>{H.d(Ue,{D:()=>G});const{isArray:v}=Array,{getPrototypeOf:D,prototype:re,keys:fe}=Object;function G(Z){if(1===Z.length){const ce=Z[0];if(v(ce))return{args:ce,keys:null};if(function z(Z){return Z&&"object"==typeof Z&&D(Z)===re}(ce)){const ue=fe(ce);return{args:ue.map(ae=>ce[ae]),keys:ue}}}return{args:Z,keys:null}}},9039:(Ht,Ue,H)=>{function v(D,re){if(D){const fe=D.indexOf(re);0<=fe&&D.splice(fe,1)}}H.d(Ue,{P:()=>v})},2306:(Ht,Ue,H)=>{function v(D){const fe=D(G=>{Error.call(G),G.stack=(new Error).stack});return fe.prototype=Object.create(Error.prototype),fe.prototype.constructor=fe,fe}H.d(Ue,{d:()=>v})},2714:(Ht,Ue,H)=>{function v(D,re){return D.reduce((fe,G,z)=>(fe[G]=re[z],fe),{})}H.d(Ue,{n:()=>v})},1441:(Ht,Ue,H)=>{H.d(Ue,{O:()=>fe,x:()=>re});var v=H(2653);let D=null;function re(G){if(v.config.useDeprecatedSynchronousErrorHandling){const z=!D;if(z&&(D={errorThrown:!1,error:null}),G(),z){const{errorThrown:Z,error:ce}=D;if(D=null,Z)throw ce}}else G()}function fe(G){v.config.useDeprecatedSynchronousErrorHandling&&D&&(D.errorThrown=!0,D.error=G)}},7103:(Ht,Ue,H)=>{function v(D,re,fe,G=0,z=!1){const Z=re.schedule(function(){fe(),z?D.add(this.schedule(null,G)):this.unsubscribe()},G);if(D.add(Z),!z)return Z}H.d(Ue,{f:()=>v})},2737:(Ht,Ue,H)=>{function v(D){return D}H.d(Ue,{y:()=>v})},4266:(Ht,Ue,H)=>{H.d(Ue,{z:()=>v});const v=D=>D&&"number"==typeof D.length&&"function"!=typeof D},5726:(Ht,Ue,H)=>{H.d(Ue,{D:()=>D});var v=H(4674);function D(re){return Symbol.asyncIterator&&(0,v.m)(re?.[Symbol.asyncIterator])}},4674:(Ht,Ue,H)=>{function v(D){return"function"==typeof D}H.d(Ue,{m:()=>v})},8382:(Ht,Ue,H)=>{H.d(Ue,{c:()=>re});var v=H(4850),D=H(4674);function re(fe){return(0,D.m)(fe[v.L])}},3664:(Ht,Ue,H)=>{H.d(Ue,{T:()=>re});var v=H(4971),D=H(4674);function re(fe){return(0,D.m)(fe?.[v.h])}},4026:(Ht,Ue,H)=>{H.d(Ue,{t:()=>D});var v=H(4674);function D(re){return(0,v.m)(re?.then)}},541:(Ht,Ue,H)=>{H.d(Ue,{L:()=>fe,Q:()=>re});var v=H(7582),D=H(4674);function re(G){return(0,v.FC)(this,arguments,function*(){const Z=G.getReader();try{for(;;){const{value:ce,done:ue}=yield(0,v.qq)(Z.read());if(ue)return yield(0,v.qq)(void 0);yield yield(0,v.qq)(ce)}}finally{Z.releaseLock()}})}function fe(G){return(0,D.m)(G?.getReader)}},671:(Ht,Ue,H)=>{H.d(Ue,{K:()=>D});var v=H(4674);function D(re){return re&&(0,v.m)(re.schedule)}},9360:(Ht,Ue,H)=>{H.d(Ue,{A:()=>D,e:()=>re});var v=H(4674);function D(fe){return(0,v.m)(fe?.lift)}function re(fe){return G=>{if(D(G))return G.lift(function(z){try{return fe(z,this)}catch(Z){this.error(Z)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(Ht,Ue,H)=>{H.d(Ue,{Z:()=>fe});var v=H(7398);const{isArray:D}=Array;function fe(G){return(0,v.U)(z=>function re(G,z){return D(z)?G(...z):G(z)}(G,z))}},2420:(Ht,Ue,H)=>{function v(){}H.d(Ue,{Z:()=>v})},8407:(Ht,Ue,H)=>{H.d(Ue,{U:()=>re,z:()=>D});var v=H(2737);function D(...fe){return re(fe)}function re(fe){return 0===fe.length?v.y:1===fe.length?fe[0]:function(z){return fe.reduce((Z,ce)=>ce(Z),z)}}},3894:(Ht,Ue,H)=>{H.d(Ue,{h:()=>re});var v=H(2653),D=H(7599);function re(fe){D.z.setTimeout(()=>{const{onUnhandledError:G}=v.config;if(!G)throw fe;G(fe)})}},9853:(Ht,Ue,H)=>{function v(D){return new TypeError(`You provided ${null!==D&&"object"==typeof D?"an invalid object":`'${D}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}H.d(Ue,{z:()=>v})},6825:(Ht,Ue,H)=>{H.d(Ue,{IO:()=>De,SB:()=>Z,X$:()=>D,ZE:()=>pe,ZN:()=>Xe,_7:()=>be,eR:()=>ue,jt:()=>re,k1:()=>ke,l3:()=>v,oB:()=>z,oQ:()=>ae,pV:()=>Ee,vP:()=>G});const v="*";function D(We,Ie){return{type:7,name:We,definitions:Ie,options:{}}}function re(We,Ie=null){return{type:4,styles:Ie,timings:We}}function G(We,Ie=null){return{type:2,steps:We,options:Ie}}function z(We){return{type:6,styles:We,offset:null}}function Z(We,Ie,je){return{type:0,name:We,styles:Ie,options:je}}function ue(We,Ie,je=null){return{type:1,expr:We,animation:Ie,options:je}}function ae(We,Ie=null){return{type:8,animation:We,options:Ie}}function Ee(We=null){return{type:9,options:We}}function be(We,Ie=null){return{type:10,animation:We,options:Ie}}function De(We,Ie,je=null){return{type:11,selector:We,animation:Ie,options:je}}class Xe{constructor(Ie=0,je=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Ie+je}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ie=>Ie()),this._onDoneFns=[])}onStart(Ie){this._originalOnStartFns.push(Ie),this._onStartFns.push(Ie)}onDone(Ie){this._originalOnDoneFns.push(Ie),this._onDoneFns.push(Ie)}onDestroy(Ie){this._onDestroyFns.push(Ie)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Ie=>Ie()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Ie=>Ie()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Ie){this._position=this.totalTime?Ie*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Ie){const je="start"==Ie?this._onStartFns:this._onDoneFns;je.forEach(tt=>tt()),je.length=0}}class pe{constructor(Ie){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Ie;let je=0,tt=0,Ge=0;const ln=this.players.length;0==ln?queueMicrotask(()=>this._onFinish()):this.players.forEach(Mt=>{Mt.onDone(()=>{++je==ln&&this._onFinish()}),Mt.onDestroy(()=>{++tt==ln&&this._onDestroy()}),Mt.onStart(()=>{++Ge==ln&&this._onStart()})}),this.totalTime=this.players.reduce((Mt,yn)=>Math.max(Mt,yn.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ie=>Ie()),this._onDoneFns=[])}init(){this.players.forEach(Ie=>Ie.init())}onStart(Ie){this._onStartFns.push(Ie)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Ie=>Ie()),this._onStartFns=[])}onDone(Ie){this._onDoneFns.push(Ie)}onDestroy(Ie){this._onDestroyFns.push(Ie)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Ie=>Ie.play())}pause(){this.players.forEach(Ie=>Ie.pause())}restart(){this.players.forEach(Ie=>Ie.restart())}finish(){this._onFinish(),this.players.forEach(Ie=>Ie.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Ie=>Ie.destroy()),this._onDestroyFns.forEach(Ie=>Ie()),this._onDestroyFns=[])}reset(){this.players.forEach(Ie=>Ie.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Ie){const je=Ie*this.totalTime;this.players.forEach(tt=>{const Ge=tt.totalTime?Math.min(1,je/tt.totalTime):1;tt.setPosition(Ge)})}getPosition(){const Ie=this.players.reduce((je,tt)=>null===je||tt.totalTime>je.totalTime?tt:je,null);return null!=Ie?Ie.getPosition():0}beforeDestroy(){this.players.forEach(Ie=>{Ie.beforeDestroy&&Ie.beforeDestroy()})}triggerCallback(Ie){const je="start"==Ie?this._onStartFns:this._onDoneFns;je.forEach(tt=>tt()),je.length=0}}const ke="!"},6814:(Ht,Ue,H)=>{H.d(Ue,{Do:()=>wt,ED:()=>on,EM:()=>al,H9:()=>Ba,HT:()=>fe,JF:()=>Uo,K0:()=>z,Mx:()=>Ae,NF:()=>ia,O5:()=>Ei,OU:()=>Bs,PC:()=>_a,PM:()=>ol,RF:()=>Ii,S$:()=>De,V_:()=>ce,Ye:()=>gt,b0:()=>xe,bD:()=>Ss,ez:()=>Bn,mk:()=>jt,n9:()=>zr,q:()=>re,sg:()=>_i,tP:()=>Jo,uU:()=>vr,w_:()=>G});var v=H(9212);let D=null;function re(){return D}function fe(O){D||(D=O)}class G{}const z=new v.OlP("DocumentToken");let Z=(()=>{class O{historyGo(j){throw new Error("Not implemented")}static#e=this.\u0275fac=function(X){return new(X||O)};static#t=this.\u0275prov=v.Yz7({token:O,factory:()=>(0,v.f3M)(ue),providedIn:"platform"})}return O})();const ce=new v.OlP("Location Initialized");let ue=(()=>{class O extends Z{constructor(){super(),this._doc=(0,v.f3M)(z),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return re().getBaseHref(this._doc)}onPopState(j){const X=re().getGlobalEventTarget(this._doc,"window");return X.addEventListener("popstate",j,!1),()=>X.removeEventListener("popstate",j)}onHashChange(j){const X=re().getGlobalEventTarget(this._doc,"window");return X.addEventListener("hashchange",j,!1),()=>X.removeEventListener("hashchange",j)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(j){this._location.pathname=j}pushState(j,X,ye){this._history.pushState(j,X,ye)}replaceState(j,X,ye){this._history.replaceState(j,X,ye)}forward(){this._history.forward()}back(){this._history.back()}historyGo(j=0){this._history.go(j)}getState(){return this._history.state}static#e=this.\u0275fac=function(X){return new(X||O)};static#t=this.\u0275prov=v.Yz7({token:O,factory:()=>new O,providedIn:"platform"})}return O})();function ae(O,ie){if(0==O.length)return ie;if(0==ie.length)return O;let j=0;return O.endsWith("/")&&j++,ie.startsWith("/")&&j++,2==j?O+ie.substring(1):1==j?O+ie:O+"/"+ie}function Ee(O){const ie=O.match(/#|\?|$/),j=ie&&ie.index||O.length;return O.slice(0,j-("/"===O[j-1]?1:0))+O.slice(j)}function be(O){return O&&"?"!==O[0]?"?"+O:O}let De=(()=>{class O{historyGo(j){throw new Error("Not implemented")}static#e=this.\u0275fac=function(X){return new(X||O)};static#t=this.\u0275prov=v.Yz7({token:O,factory:()=>(0,v.f3M)(xe),providedIn:"root"})}return O})();const $e=new v.OlP("appBaseHref");let xe=(()=>{class O extends De{constructor(j,X){super(),this._platformLocation=j,this._removeListenerFns=[],this._baseHref=X??this._platformLocation.getBaseHrefFromDOM()??(0,v.f3M)(z).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}prepareExternalUrl(j){return ae(this._baseHref,j)}path(j=!1){const X=this._platformLocation.pathname+be(this._platformLocation.search),ye=this._platformLocation.hash;return ye&&j?`${X}${ye}`:X}pushState(j,X,ye,lt){const xt=this.prepareExternalUrl(ye+be(lt));this._platformLocation.pushState(j,X,xt)}replaceState(j,X,ye,lt){const xt=this.prepareExternalUrl(ye+be(lt));this._platformLocation.replaceState(j,X,xt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(j=0){this._platformLocation.historyGo?.(j)}static#e=this.\u0275fac=function(X){return new(X||O)(v.LFG(Z),v.LFG($e,8))};static#t=this.\u0275prov=v.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"})}return O})(),wt=(()=>{class O extends De{constructor(j,X){super(),this._platformLocation=j,this._baseHref="",this._removeListenerFns=[],null!=X&&(this._baseHref=X)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}path(j=!1){let X=this._platformLocation.hash;return null==X&&(X="#"),X.length>0?X.substring(1):X}prepareExternalUrl(j){const X=ae(this._baseHref,j);return X.length>0?"#"+X:X}pushState(j,X,ye,lt){let xt=this.prepareExternalUrl(ye+be(lt));0==xt.length&&(xt=this._platformLocation.pathname),this._platformLocation.pushState(j,X,xt)}replaceState(j,X,ye,lt){let xt=this.prepareExternalUrl(ye+be(lt));0==xt.length&&(xt=this._platformLocation.pathname),this._platformLocation.replaceState(j,X,xt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(j=0){this._platformLocation.historyGo?.(j)}static#e=this.\u0275fac=function(X){return new(X||O)(v.LFG(Z),v.LFG($e,8))};static#t=this.\u0275prov=v.Yz7({token:O,factory:O.\u0275fac})}return O})(),gt=(()=>{class O{constructor(j){this._subject=new v.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=j;const X=this._locationStrategy.getBaseHref();this._basePath=function Ot(O){if(new RegExp("^(https?:)?//").test(O)){const[,j]=O.split(/\/\/[^\/]+/);return j}return O}(Ee(sn(X))),this._locationStrategy.onPopState(ye=>{this._subject.emit({url:this.path(!0),pop:!0,state:ye.state,type:ye.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(j=!1){return this.normalize(this._locationStrategy.path(j))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(j,X=""){return this.path()==this.normalize(j+be(X))}normalize(j){return O.stripTrailingSlash(function pn(O,ie){if(!O||!ie.startsWith(O))return ie;const j=ie.substring(O.length);return""===j||["/",";","?","#"].includes(j[0])?j:ie}(this._basePath,sn(j)))}prepareExternalUrl(j){return j&&"/"!==j[0]&&(j="/"+j),this._locationStrategy.prepareExternalUrl(j)}go(j,X="",ye=null){this._locationStrategy.pushState(ye,"",j,X),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+be(X)),ye)}replaceState(j,X="",ye=null){this._locationStrategy.replaceState(ye,"",j,X),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+be(X)),ye)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(j=0){this._locationStrategy.historyGo?.(j)}onUrlChange(j){return this._urlChangeListeners.push(j),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(X=>{this._notifyUrlChangeListeners(X.url,X.state)})),()=>{const X=this._urlChangeListeners.indexOf(j);this._urlChangeListeners.splice(X,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(j="",X){this._urlChangeListeners.forEach(ye=>ye(j,X))}subscribe(j,X,ye){return this._subject.subscribe({next:j,error:X,complete:ye})}static#e=this.normalizeQueryParams=be;static#t=this.joinWithSlash=ae;static#n=this.stripTrailingSlash=Ee;static#i=this.\u0275fac=function(X){return new(X||O)(v.LFG(De))};static#r=this.\u0275prov=v.Yz7({token:O,factory:()=>function $t(){return new gt((0,v.LFG)(De))}(),providedIn:"root"})}return O})();function sn(O){return O.replace(/\/index.html$/,"")}const Ve={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Xe=function(O){return O[O.Decimal=0]="Decimal",O[O.Percent=1]="Percent",O[O.Currency=2]="Currency",O[O.Scientific=3]="Scientific",O}(Xe||{}),ke=function(O){return O[O.Format=0]="Format",O[O.Standalone=1]="Standalone",O}(ke||{}),We=function(O){return O[O.Narrow=0]="Narrow",O[O.Abbreviated=1]="Abbreviated",O[O.Wide=2]="Wide",O[O.Short=3]="Short",O}(We||{}),Ie=function(O){return O[O.Short=0]="Short",O[O.Medium=1]="Medium",O[O.Long=2]="Long",O[O.Full=3]="Full",O}(Ie||{}),je=function(O){return O[O.Decimal=0]="Decimal",O[O.Group=1]="Group",O[O.List=2]="List",O[O.PercentSign=3]="PercentSign",O[O.PlusSign=4]="PlusSign",O[O.MinusSign=5]="MinusSign",O[O.Exponential=6]="Exponential",O[O.SuperscriptingExponent=7]="SuperscriptingExponent",O[O.PerMille=8]="PerMille",O[O.Infinity=9]="Infinity",O[O.NaN=10]="NaN",O[O.TimeSeparator=11]="TimeSeparator",O[O.CurrencyDecimal=12]="CurrencyDecimal",O[O.CurrencyGroup=13]="CurrencyGroup",O}(je||{});function at(O,ie){return ki((0,v.cg1)(O)[v.wAp.DateFormat],ie)}function _t(O,ie){return ki((0,v.cg1)(O)[v.wAp.TimeFormat],ie)}function vt(O,ie){return ki((0,v.cg1)(O)[v.wAp.DateTimeFormat],ie)}function kt(O,ie){const j=(0,v.cg1)(O),X=j[v.wAp.NumberSymbols][ie];if(typeof X>"u"){if(ie===je.CurrencyDecimal)return j[v.wAp.NumberSymbols][je.Decimal];if(ie===je.CurrencyGroup)return j[v.wAp.NumberSymbols][je.Group]}return X}function dn(O){if(!O[v.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${O[v.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ki(O,ie){for(let j=ie;j>-1;j--)if(typeof O[j]<"u")return O[j];throw new Error("Locale data API: locale data undefined")}function Or(O){const[ie,j]=O.split(":");return{hours:+ie,minutes:+j}}const fo=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,An={},Xs=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var si=function(O){return O[O.Short=0]="Short",O[O.ShortGMT=1]="ShortGMT",O[O.Long=2]="Long",O[O.Extended=3]="Extended",O}(si||{}),Jn=function(O){return O[O.FullYear=0]="FullYear",O[O.Month=1]="Month",O[O.Date=2]="Date",O[O.Hours=3]="Hours",O[O.Minutes=4]="Minutes",O[O.Seconds=5]="Seconds",O[O.FractionalSeconds=6]="FractionalSeconds",O[O.Day=7]="Day",O}(Jn||{}),hi=function(O){return O[O.DayPeriods=0]="DayPeriods",O[O.Days=1]="Days",O[O.Months=2]="Months",O[O.Eras=3]="Eras",O}(hi||{});function ma(O,ie,j,X){let ye=function et(O){if(Me(O))return O;if("number"==typeof O&&!isNaN(O))return new Date(O);if("string"==typeof O){if(O=O.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(O)){const[ye,lt=1,xt=1]=O.split("-").map(en=>+en);return po(ye,lt-1,xt)}const j=parseFloat(O);if(!isNaN(O-j))return new Date(j);let X;if(X=O.match(fo))return function we(O){const ie=new Date(0);let j=0,X=0;const ye=O[8]?ie.setUTCFullYear:ie.setFullYear,lt=O[8]?ie.setUTCHours:ie.setHours;O[9]&&(j=Number(O[9]+O[10]),X=Number(O[9]+O[11])),ye.call(ie,Number(O[1]),Number(O[2])-1,Number(O[3]));const xt=Number(O[4]||0)-j,en=Number(O[5]||0)-X,$i=Number(O[6]||0),wi=Math.floor(1e3*parseFloat("0."+(O[7]||0)));return lt.call(ie,xt,en,$i,wi),ie}(X)}const ie=new Date(O);if(!Me(ie))throw new Error(`Unable to convert "${O}" into a date`);return ie}(O);ie=_n(j,ie)||ie;let en,xt=[];for(;ie;){if(en=Xs.exec(ie),!en){xt.push(ie);break}{xt=xt.concat(en.slice(1));const Ai=xt.pop();if(!Ai)break;ie=Ai}}let $i=ye.getTimezoneOffset();X&&($i=go(X,$i),ye=function ct(O,ie,j){const X=j?-1:1,ye=O.getTimezoneOffset();return function Fo(O,ie){return(O=new Date(O.getTime())).setMinutes(O.getMinutes()+ie),O}(O,X*(go(ie,ye)-ye))}(ye,X,!0));let wi="";return xt.forEach(Ai=>{const ti=function Ts(O){if(Tn[O])return Tn[O];let ie;switch(O){case"G":case"GG":case"GGG":ie=oi(hi.Eras,We.Abbreviated);break;case"GGGG":ie=oi(hi.Eras,We.Wide);break;case"GGGGG":ie=oi(hi.Eras,We.Narrow);break;case"y":ie=Dn(Jn.FullYear,1,0,!1,!0);break;case"yy":ie=Dn(Jn.FullYear,2,0,!0,!0);break;case"yyy":ie=Dn(Jn.FullYear,3,0,!1,!0);break;case"yyyy":ie=Dn(Jn.FullYear,4,0,!1,!0);break;case"Y":ie=Cn(1);break;case"YY":ie=Cn(2,!0);break;case"YYY":ie=Cn(3);break;case"YYYY":ie=Cn(4);break;case"M":case"L":ie=Dn(Jn.Month,1,1);break;case"MM":case"LL":ie=Dn(Jn.Month,2,1);break;case"MMM":ie=oi(hi.Months,We.Abbreviated);break;case"MMMM":ie=oi(hi.Months,We.Wide);break;case"MMMMM":ie=oi(hi.Months,We.Narrow);break;case"LLL":ie=oi(hi.Months,We.Abbreviated,ke.Standalone);break;case"LLLL":ie=oi(hi.Months,We.Wide,ke.Standalone);break;case"LLLLL":ie=oi(hi.Months,We.Narrow,ke.Standalone);break;case"w":ie=Vs(1);break;case"ww":ie=Vs(2);break;case"W":ie=Vs(1,!0);break;case"d":ie=Dn(Jn.Date,1);break;case"dd":ie=Dn(Jn.Date,2);break;case"c":case"cc":ie=Dn(Jn.Day,1);break;case"ccc":ie=oi(hi.Days,We.Abbreviated,ke.Standalone);break;case"cccc":ie=oi(hi.Days,We.Wide,ke.Standalone);break;case"ccccc":ie=oi(hi.Days,We.Narrow,ke.Standalone);break;case"cccccc":ie=oi(hi.Days,We.Short,ke.Standalone);break;case"E":case"EE":case"EEE":ie=oi(hi.Days,We.Abbreviated);break;case"EEEE":ie=oi(hi.Days,We.Wide);break;case"EEEEE":ie=oi(hi.Days,We.Narrow);break;case"EEEEEE":ie=oi(hi.Days,We.Short);break;case"a":case"aa":case"aaa":ie=oi(hi.DayPeriods,We.Abbreviated);break;case"aaaa":ie=oi(hi.DayPeriods,We.Wide);break;case"aaaaa":ie=oi(hi.DayPeriods,We.Narrow);break;case"b":case"bb":case"bbb":ie=oi(hi.DayPeriods,We.Abbreviated,ke.Standalone,!0);break;case"bbbb":ie=oi(hi.DayPeriods,We.Wide,ke.Standalone,!0);break;case"bbbbb":ie=oi(hi.DayPeriods,We.Narrow,ke.Standalone,!0);break;case"B":case"BB":case"BBB":ie=oi(hi.DayPeriods,We.Abbreviated,ke.Format,!0);break;case"BBBB":ie=oi(hi.DayPeriods,We.Wide,ke.Format,!0);break;case"BBBBB":ie=oi(hi.DayPeriods,We.Narrow,ke.Format,!0);break;case"h":ie=Dn(Jn.Hours,1,-12);break;case"hh":ie=Dn(Jn.Hours,2,-12);break;case"H":ie=Dn(Jn.Hours,1);break;case"HH":ie=Dn(Jn.Hours,2);break;case"m":ie=Dn(Jn.Minutes,1);break;case"mm":ie=Dn(Jn.Minutes,2);break;case"s":ie=Dn(Jn.Seconds,1);break;case"ss":ie=Dn(Jn.Seconds,2);break;case"S":ie=Dn(Jn.FractionalSeconds,1);break;case"SS":ie=Dn(Jn.FractionalSeconds,2);break;case"SSS":ie=Dn(Jn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":ie=Hr(si.Short);break;case"ZZZZZ":ie=Hr(si.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":ie=Hr(si.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":ie=Hr(si.Long);break;default:return null}return Tn[O]=ie,ie}(Ai);wi+=ti?ti(ye,j,$i):"''"===Ai?"'":Ai.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),wi}function po(O,ie,j){const X=new Date(0);return X.setFullYear(O,ie,j),X.setHours(0,0,0),X}function _n(O,ie){const j=function Ge(O){return(0,v.cg1)(O)[v.wAp.LocaleId]}(O);if(An[j]=An[j]||{},An[j][ie])return An[j][ie];let X="";switch(ie){case"shortDate":X=at(O,Ie.Short);break;case"mediumDate":X=at(O,Ie.Medium);break;case"longDate":X=at(O,Ie.Long);break;case"fullDate":X=at(O,Ie.Full);break;case"shortTime":X=_t(O,Ie.Short);break;case"mediumTime":X=_t(O,Ie.Medium);break;case"longTime":X=_t(O,Ie.Long);break;case"fullTime":X=_t(O,Ie.Full);break;case"short":const ye=_n(O,"shortTime"),lt=_n(O,"shortDate");X=zi(vt(O,Ie.Short),[ye,lt]);break;case"medium":const xt=_n(O,"mediumTime"),en=_n(O,"mediumDate");X=zi(vt(O,Ie.Medium),[xt,en]);break;case"long":const $i=_n(O,"longTime"),wi=_n(O,"longDate");X=zi(vt(O,Ie.Long),[$i,wi]);break;case"full":const Ai=_n(O,"fullTime"),ti=_n(O,"fullDate");X=zi(vt(O,Ie.Full),[Ai,ti])}return X&&(An[j][ie]=X),X}function zi(O,ie){return ie&&(O=O.replace(/\{([^}]+)}/g,function(j,X){return null!=ie&&X in ie?ie[X]:j})),O}function yr(O,ie,j="-",X,ye){let lt="";(O<0||ye&&O<=0)&&(ye?O=1-O:(O=-O,lt=j));let xt=String(O);for(;xt.length<ie;)xt="0"+xt;return X&&(xt=xt.slice(xt.length-ie)),lt+xt}function Dn(O,ie,j=0,X=!1,ye=!1){return function(lt,xt){let en=function Jt(O,ie){switch(O){case Jn.FullYear:return ie.getFullYear();case Jn.Month:return ie.getMonth();case Jn.Date:return ie.getDate();case Jn.Hours:return ie.getHours();case Jn.Minutes:return ie.getMinutes();case Jn.Seconds:return ie.getSeconds();case Jn.FractionalSeconds:return ie.getMilliseconds();case Jn.Day:return ie.getDay();default:throw new Error(`Unknown DateType value "${O}".`)}}(O,lt);if((j>0||en>-j)&&(en+=j),O===Jn.Hours)0===en&&-12===j&&(en=12);else if(O===Jn.FractionalSeconds)return function un(O,ie){return yr(O,3).substring(0,ie)}(en,ie);const $i=kt(xt,je.MinusSign);return yr(en,ie,$i,X,ye)}}function oi(O,ie,j=ke.Format,X=!1){return function(ye,lt){return function Cs(O,ie,j,X,ye,lt){switch(j){case hi.Months:return function yn(O,ie,j){const X=(0,v.cg1)(O),lt=ki([X[v.wAp.MonthsFormat],X[v.wAp.MonthsStandalone]],ie);return ki(lt,j)}(ie,ye,X)[O.getMonth()];case hi.Days:return function Mt(O,ie,j){const X=(0,v.cg1)(O),lt=ki([X[v.wAp.DaysFormat],X[v.wAp.DaysStandalone]],ie);return ki(lt,j)}(ie,ye,X)[O.getDay()];case hi.DayPeriods:const xt=O.getHours(),en=O.getMinutes();if(lt){const wi=function jn(O){const ie=(0,v.cg1)(O);return dn(ie),(ie[v.wAp.ExtraData][2]||[]).map(X=>"string"==typeof X?Or(X):[Or(X[0]),Or(X[1])])}(ie),Ai=function gn(O,ie,j){const X=(0,v.cg1)(O);dn(X);const lt=ki([X[v.wAp.ExtraData][0],X[v.wAp.ExtraData][1]],ie)||[];return ki(lt,j)||[]}(ie,ye,X),ti=wi.findIndex(Er=>{if(Array.isArray(Er)){const[fi,ut]=Er,Ds=xt>=fi.hours&&en>=fi.minutes,io=xt<ut.hours||xt===ut.hours&&en<ut.minutes;if(fi.hours<ut.hours){if(Ds&&io)return!0}else if(Ds||io)return!0}else if(Er.hours===xt&&Er.minutes===en)return!0;return!1});if(-1!==ti)return Ai[ti]}return function ln(O,ie,j){const X=(0,v.cg1)(O),lt=ki([X[v.wAp.DayPeriodsFormat],X[v.wAp.DayPeriodsStandalone]],ie);return ki(lt,j)}(ie,ye,X)[xt<12?0:1];case hi.Eras:return function Vn(O,ie){return ki((0,v.cg1)(O)[v.wAp.Eras],ie)}(ie,X)[O.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${j}`)}}(ye,lt,O,ie,j,X)}}function Hr(O){return function(ie,j,X){const ye=-1*X,lt=kt(j,je.MinusSign),xt=ye>0?Math.floor(ye/60):Math.ceil(ye/60);switch(O){case si.Short:return(ye>=0?"+":"")+yr(xt,2,lt)+yr(Math.abs(ye%60),2,lt);case si.ShortGMT:return"GMT"+(ye>=0?"+":"")+yr(xt,1,lt);case si.Long:return"GMT"+(ye>=0?"+":"")+yr(xt,2,lt)+":"+yr(Math.abs(ye%60),2,lt);case si.Extended:return 0===X?"Z":(ye>=0?"+":"")+yr(xt,2,lt)+":"+yr(Math.abs(ye%60),2,lt);default:throw new Error(`Unknown zone width "${O}"`)}}}const ns=0,or=4;function is(O){return po(O.getFullYear(),O.getMonth(),O.getDate()+(or-O.getDay()))}function Vs(O,ie=!1){return function(j,X){let ye;if(ie){const lt=new Date(j.getFullYear(),j.getMonth(),1).getDay()-1,xt=j.getDate();ye=1+Math.floor((xt+lt)/7)}else{const lt=is(j),xt=function ar(O){const ie=po(O,ns,1).getDay();return po(O,0,1+(ie<=or?or:or+7)-ie)}(lt.getFullYear()),en=lt.getTime()-xt.getTime();ye=1+Math.round(en/6048e5)}return yr(ye,O,kt(X,je.MinusSign))}}function Cn(O,ie=!1){return function(j,X){return yr(is(j).getFullYear(),O,kt(X,je.MinusSign),ie)}}const Tn={};function go(O,ie){O=O.replace(/:/g,"");const j=Date.parse("Jan 01, 1970 00:00:00 "+O)/6e4;return isNaN(j)?ie:j}function Me(O){return O instanceof Date&&!isNaN(O.valueOf())}const Tt=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Wt=22,Pn=".",Fn="0",ai=";",lr=",",ji="#";function _o(O,ie,j,X,ye){const xt=function Mn(O,ie="-"){const j={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},X=O.split(ai),ye=X[0],lt=X[1],xt=-1!==ye.indexOf(Pn)?ye.split(Pn):[ye.substring(0,ye.lastIndexOf(Fn)+1),ye.substring(ye.lastIndexOf(Fn)+1)],en=xt[0],$i=xt[1]||"";j.posPre=en.substring(0,en.indexOf(ji));for(let Ai=0;Ai<$i.length;Ai++){const ti=$i.charAt(Ai);ti===Fn?j.minFrac=j.maxFrac=Ai+1:ti===ji?j.maxFrac=Ai+1:j.posSuf+=ti}const wi=en.split(lr);if(j.gSize=wi[1]?wi[1].length:0,j.lgSize=wi[2]||wi[1]?(wi[2]||wi[1]).length:0,lt){const Ai=ye.length-j.posPre.length-j.posSuf.length,ti=lt.indexOf(ji);j.negPre=lt.substring(0,ti).replace(/'/g,""),j.negSuf=lt.slice(ti+Ai).replace(/'/g,"")}else j.negPre=ie+j.posPre,j.negSuf=j.posSuf;return j}(function zt(O,ie){return(0,v.cg1)(O)[v.wAp.NumberFormats][ie]}(ie,Xe.Currency),kt(ie,je.MinusSign));return xt.minFrac=function ds(O){let ie;const j=Ve[O];return j&&(ie=j[2]),"number"==typeof ie?ie:2}(X),xt.maxFrac=xt.minFrac,function Vo(O,ie,j,X,ye,lt,xt=!1){let en="",$i=!1;if(isFinite(O)){let wi=function Nr(O){let X,ye,lt,xt,en,ie=Math.abs(O)+"",j=0;for((ye=ie.indexOf(Pn))>-1&&(ie=ie.replace(Pn,"")),(lt=ie.search(/e/i))>0?(ye<0&&(ye=lt),ye+=+ie.slice(lt+1),ie=ie.substring(0,lt)):ye<0&&(ye=ie.length),lt=0;ie.charAt(lt)===Fn;lt++);if(lt===(en=ie.length))X=[0],ye=1;else{for(en--;ie.charAt(en)===Fn;)en--;for(ye-=lt,X=[],xt=0;lt<=en;lt++,xt++)X[xt]=Number(ie.charAt(lt))}return ye>Wt&&(X=X.splice(0,Wt-1),j=ye-1,ye=1),{digits:X,exponent:j,integerLen:ye}}(O);xt&&(wi=function Js(O){if(0===O.digits[0])return O;const ie=O.digits.length-O.integerLen;return O.exponent?O.exponent+=2:(0===ie?O.digits.push(0,0):1===ie&&O.digits.push(0),O.integerLen+=2),O}(wi));let Ai=ie.minInt,ti=ie.minFrac,Er=ie.maxFrac;if(lt){const zo=lt.match(Tt);if(null===zo)throw new Error(`${lt} is not a valid digit info`);const Aa=zo[1],Co=zo[3],oa=zo[5];null!=Aa&&(Ai=yo(Aa)),null!=Co&&(ti=yo(Co)),null!=oa?Er=yo(oa):null!=Co&&ti>Er&&(Er=ti)}!function Zo(O,ie,j){if(ie>j)throw new Error(`The minimum number of digits after fraction (${ie}) is higher than the maximum (${j}).`);let X=O.digits,ye=X.length-O.integerLen;const lt=Math.min(Math.max(ie,ye),j);let xt=lt+O.integerLen,en=X[xt];if(xt>0){X.splice(Math.max(O.integerLen,xt));for(let ti=xt;ti<X.length;ti++)X[ti]=0}else{ye=Math.max(0,ye),O.integerLen=1,X.length=Math.max(1,xt=lt+1),X[0]=0;for(let ti=1;ti<xt;ti++)X[ti]=0}if(en>=5)if(xt-1<0){for(let ti=0;ti>xt;ti--)X.unshift(0),O.integerLen++;X.unshift(1),O.integerLen++}else X[xt-1]++;for(;ye<Math.max(0,lt);ye++)X.push(0);let $i=0!==lt;const wi=ie+O.integerLen,Ai=X.reduceRight(function(ti,Er,fi,ut){return ut[fi]=(Er+=ti)<10?Er:Er-10,$i&&(0===ut[fi]&&fi>=wi?ut.pop():$i=!1),Er>=10?1:0},0);Ai&&(X.unshift(Ai),O.integerLen++)}(wi,ti,Er);let fi=wi.digits,ut=wi.integerLen;const Ds=wi.exponent;let io=[];for($i=fi.every(zo=>!zo);ut<Ai;ut++)fi.unshift(0);for(;ut<0;ut++)fi.unshift(0);ut>0?io=fi.splice(ut,fi.length):(io=fi,fi=[0]);const Wa=[];for(fi.length>=ie.lgSize&&Wa.unshift(fi.splice(-ie.lgSize,fi.length).join(""));fi.length>ie.gSize;)Wa.unshift(fi.splice(-ie.gSize,fi.length).join(""));fi.length&&Wa.unshift(fi.join("")),en=Wa.join(kt(j,X)),io.length&&(en+=kt(j,ye)+io.join("")),Ds&&(en+=kt(j,je.Exponential)+"+"+Ds)}else en=kt(j,je.Infinity);return en=O<0&&!$i?ie.negPre+en+ie.negSuf:ie.posPre+en+ie.posSuf,en}(O,xt,ie,je.CurrencyGroup,je.CurrencyDecimal,ye).replace("\xa4",j).replace("\xa4","").trim()}function yo(O){const ie=parseInt(O);if(isNaN(ie))throw new Error("Invalid integer literal when parsing "+O);return ie}function Ae(O,ie){ie=encodeURIComponent(ie);for(const j of O.split(";")){const X=j.indexOf("="),[ye,lt]=-1==X?[j,""]:[j.slice(0,X),j.slice(X+1)];if(ye.trim()===ie)return decodeURIComponent(lt)}return null}const ot=/\s+/,St=[];let jt=(()=>{class O{constructor(j,X,ye,lt){this._iterableDiffers=j,this._keyValueDiffers=X,this._ngEl=ye,this._renderer=lt,this.initialClasses=St,this.stateMap=new Map}set klass(j){this.initialClasses=null!=j?j.trim().split(ot):St}set ngClass(j){this.rawClass="string"==typeof j?j.trim().split(ot):j}ngDoCheck(){for(const X of this.initialClasses)this._updateState(X,!0);const j=this.rawClass;if(Array.isArray(j)||j instanceof Set)for(const X of j)this._updateState(X,!0);else if(null!=j)for(const X of Object.keys(j))this._updateState(X,!!j[X]);this._applyStateDiff()}_updateState(j,X){const ye=this.stateMap.get(j);void 0!==ye?(ye.enabled!==X&&(ye.changed=!0,ye.enabled=X),ye.touched=!0):this.stateMap.set(j,{enabled:X,changed:!0,touched:!0})}_applyStateDiff(){for(const j of this.stateMap){const X=j[0],ye=j[1];ye.changed?(this._toggleClass(X,ye.enabled),ye.changed=!1):ye.touched||(ye.enabled&&this._toggleClass(X,!1),this.stateMap.delete(X)),ye.touched=!1}}_toggleClass(j,X){(j=j.trim()).length>0&&j.split(ot).forEach(ye=>{X?this._renderer.addClass(this._ngEl.nativeElement,ye):this._renderer.removeClass(this._ngEl.nativeElement,ye)})}static#e=this.\u0275fac=function(X){return new(X||O)(v.Y36(v.ZZ4),v.Y36(v.aQg),v.Y36(v.SBq),v.Y36(v.Qsj))};static#t=this.\u0275dir=v.lG2({type:O,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return O})();class bn{constructor(ie,j,X,ye){this.$implicit=ie,this.ngForOf=j,this.index=X,this.count=ye}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let _i=(()=>{class O{set ngForOf(j){this._ngForOf=j,this._ngForOfDirty=!0}set ngForTrackBy(j){this._trackByFn=j}get ngForTrackBy(){return this._trackByFn}constructor(j,X,ye){this._viewContainer=j,this._template=X,this._differs=ye,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(j){j&&(this._template=j)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const j=this._ngForOf;!this._differ&&j&&(this._differ=this._differs.find(j).create(this.ngForTrackBy))}if(this._differ){const j=this._differ.diff(this._ngForOf);j&&this._applyChanges(j)}}_applyChanges(j){const X=this._viewContainer;j.forEachOperation((ye,lt,xt)=>{if(null==ye.previousIndex)X.createEmbeddedView(this._template,new bn(ye.item,this._ngForOf,-1,-1),null===xt?void 0:xt);else if(null==xt)X.remove(null===lt?void 0:lt);else if(null!==lt){const en=X.get(lt);X.move(en,xt),cn(en,ye)}});for(let ye=0,lt=X.length;ye<lt;ye++){const en=X.get(ye).context;en.index=ye,en.count=lt,en.ngForOf=this._ngForOf}j.forEachIdentityChange(ye=>{cn(X.get(ye.currentIndex),ye)})}static ngTemplateContextGuard(j,X){return!0}static#e=this.\u0275fac=function(X){return new(X||O)(v.Y36(v.s_b),v.Y36(v.Rgc),v.Y36(v.ZZ4))};static#t=this.\u0275dir=v.lG2({type:O,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return O})();function cn(O,ie){O.context.$implicit=ie.item}let Ei=(()=>{class O{constructor(j,X){this._viewContainer=j,this._context=new Mi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=X}set ngIf(j){this._context.$implicit=this._context.ngIf=j,this._updateView()}set ngIfThen(j){ni("ngIfThen",j),this._thenTemplateRef=j,this._thenViewRef=null,this._updateView()}set ngIfElse(j){ni("ngIfElse",j),this._elseTemplateRef=j,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(j,X){return!0}static#e=this.\u0275fac=function(X){return new(X||O)(v.Y36(v.s_b),v.Y36(v.Rgc))};static#t=this.\u0275dir=v.lG2({type:O,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return O})();class Mi{constructor(){this.$implicit=null,this.ngIf=null}}function ni(O,ie){if(ie&&!ie.createEmbeddedView)throw new Error(`${O} must be a TemplateRef, but received '${(0,v.AaK)(ie)}'.`)}class Dt{constructor(ie,j){this._viewContainerRef=ie,this._templateRef=j,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(ie){ie&&!this._created?this.create():!ie&&this._created&&this.destroy()}}let Ii=(()=>{class O{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(j){this._ngSwitch=j,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(j){this._defaultViews.push(j)}_matchCase(j){const X=j===this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||X,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),X}_updateDefaultCases(j){if(this._defaultViews.length>0&&j!==this._defaultUsed){this._defaultUsed=j;for(const X of this._defaultViews)X.enforceState(j)}}static#e=this.\u0275fac=function(X){return new(X||O)};static#t=this.\u0275dir=v.lG2({type:O,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return O})(),zr=(()=>{class O{constructor(j,X,ye){this.ngSwitch=ye,ye._addCase(),this._view=new Dt(j,X)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(X){return new(X||O)(v.Y36(v.s_b),v.Y36(v.Rgc),v.Y36(Ii,9))};static#t=this.\u0275dir=v.lG2({type:O,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return O})(),on=(()=>{class O{constructor(j,X,ye){ye._addDefault(new Dt(j,X))}static#e=this.\u0275fac=function(X){return new(X||O)(v.Y36(v.s_b),v.Y36(v.Rgc),v.Y36(Ii,9))};static#t=this.\u0275dir=v.lG2({type:O,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return O})(),_a=(()=>{class O{constructor(j,X,ye){this._ngEl=j,this._differs=X,this._renderer=ye,this._ngStyle=null,this._differ=null}set ngStyle(j){this._ngStyle=j,!this._differ&&j&&(this._differ=this._differs.find(j).create())}ngDoCheck(){if(this._differ){const j=this._differ.diff(this._ngStyle);j&&this._applyChanges(j)}}_setStyle(j,X){const[ye,lt]=j.split("."),xt=-1===ye.indexOf("-")?void 0:v.JOm.DashCase;null!=X?this._renderer.setStyle(this._ngEl.nativeElement,ye,lt?`${X}${lt}`:X,xt):this._renderer.removeStyle(this._ngEl.nativeElement,ye,xt)}_applyChanges(j){j.forEachRemovedItem(X=>this._setStyle(X.key,null)),j.forEachAddedItem(X=>this._setStyle(X.key,X.currentValue)),j.forEachChangedItem(X=>this._setStyle(X.key,X.currentValue))}static#e=this.\u0275fac=function(X){return new(X||O)(v.Y36(v.SBq),v.Y36(v.aQg),v.Y36(v.Qsj))};static#t=this.\u0275dir=v.lG2({type:O,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return O})(),Jo=(()=>{class O{constructor(j){this._viewContainerRef=j,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(j){if(this._shouldRecreateView(j)){const X=this._viewContainerRef;if(this._viewRef&&X.remove(X.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const ye=this._createContextForwardProxy();this._viewRef=X.createEmbeddedView(this.ngTemplateOutlet,ye,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(j){return!!j.ngTemplateOutlet||!!j.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(j,X,ye)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,X,ye),get:(j,X,ye)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,X,ye)}})}static#e=this.\u0275fac=function(X){return new(X||O)(v.Y36(v.s_b))};static#t=this.\u0275dir=v.lG2({type:O,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[v.TTD]})}return O})();function fs(O,ie){return new v.vHH(2100,!1)}const na=new v.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),vo=new v.OlP("DATE_PIPE_DEFAULT_OPTIONS");let vr=(()=>{class O{constructor(j,X,ye){this.locale=j,this.defaultTimezone=X,this.defaultOptions=ye}transform(j,X,ye,lt){if(null==j||""===j||j!=j)return null;try{return ma(j,X??this.defaultOptions?.dateFormat??"mediumDate",lt||this.locale,ye??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(xt){throw fs()}}static#e=this.\u0275fac=function(X){return new(X||O)(v.Y36(v.soG,16),v.Y36(na,24),v.Y36(vo,24))};static#t=this.\u0275pipe=v.Yjl({name:"date",type:O,pure:!0,standalone:!0})}return O})(),Ba=(()=>{class O{constructor(j,X="USD"){this._locale=j,this._defaultCurrencyCode=X}transform(j,X=this._defaultCurrencyCode,ye="symbol",lt,xt){if(!function ss(O){return!(null==O||""===O||O!=O)}(j))return null;xt=xt||this._locale,"boolean"==typeof ye&&(ye=ye?"symbol":"code");let en=X||this._defaultCurrencyCode;"code"!==ye&&(en="symbol"===ye||"symbol-narrow"===ye?function rr(O,ie,j="en"){const X=function Zt(O){return(0,v.cg1)(O)[v.wAp.Currencies]}(j)[O]||Ve[O]||[],ye=X[1];return"narrow"===ie&&"string"==typeof ye?ye:X[0]||O}(en,"symbol"===ye?"wide":"narrow",xt):ye);try{return _o(function eo(O){if("string"==typeof O&&!isNaN(Number(O)-parseFloat(O)))return Number(O);if("number"!=typeof O)throw new Error(`${O} is not a number`);return O}(j),xt,en,X,lt)}catch($i){throw fs()}}static#e=this.\u0275fac=function(X){return new(X||O)(v.Y36(v.soG,16),v.Y36(v.EJc,16))};static#t=this.\u0275pipe=v.Yjl({name:"currency",type:O,pure:!0,standalone:!0})}return O})();let Bs=(()=>{class O{transform(j,X,ye){if(null==j)return null;if(!this.supports(j))throw fs();return j.slice(X,ye)}supports(j){return"string"==typeof j||Array.isArray(j)}static#e=this.\u0275fac=function(X){return new(X||O)};static#t=this.\u0275pipe=v.Yjl({name:"slice",type:O,pure:!1,standalone:!0})}return O})(),Bn=(()=>{class O{static#e=this.\u0275fac=function(X){return new(X||O)};static#t=this.\u0275mod=v.oAB({type:O});static#n=this.\u0275inj=v.cJS({})}return O})();const Ss="browser",Ua="server";function ia(O){return O===Ss}function ol(O){return O===Ua}let al=(()=>{class O{static#e=this.\u0275prov=(0,v.Yz7)({token:O,providedIn:"root",factory:()=>new Ml((0,v.LFG)(z),window)})}return O})();class Ml{constructor(ie,j){this.document=ie,this.window=j,this.offset=()=>[0,0]}setOffset(ie){this.offset=Array.isArray(ie)?()=>ie:ie}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ie){this.supportsScrolling()&&this.window.scrollTo(ie[0],ie[1])}scrollToAnchor(ie){if(!this.supportsScrolling())return;const j=function $r(O,ie){const j=O.getElementById(ie)||O.getElementsByName(ie)[0];if(j)return j;if("function"==typeof O.createTreeWalker&&O.body&&"function"==typeof O.body.attachShadow){const X=O.createTreeWalker(O.body,NodeFilter.SHOW_ELEMENT);let ye=X.currentNode;for(;ye;){const lt=ye.shadowRoot;if(lt){const xt=lt.getElementById(ie)||lt.querySelector(`[name="${ie}"]`);if(xt)return xt}ye=X.nextNode()}}return null}(this.document,ie);j&&(this.scrollToElement(j),j.focus())}setHistoryScrollRestoration(ie){this.supportsScrolling()&&(this.window.history.scrollRestoration=ie)}scrollToElement(ie){const j=ie.getBoundingClientRect(),X=j.left+this.window.pageXOffset,ye=j.top+this.window.pageYOffset,lt=this.offset();this.window.scrollTo(X-lt[0],ye-lt[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Uo{}},9862:(Ht,Ue,H)=>{H.d(Ue,{JF:()=>ai,TP:()=>jn,dt:()=>ln,eN:()=>at}),H(5861);var D=H(9212),re=H(2096),fe=H(5592),G=H(2459),z=H(6328),Z=H(2181),ce=H(7398),ue=H(4716),ae=H(4664),Ee=H(6814);class be{}class De{}class $e{constructor(Se){this.normalizedNames=new Map,this.lazyUpdate=null,Se?"string"==typeof Se?this.lazyInit=()=>{this.headers=new Map,Se.split("\n").forEach(Ae=>{const ot=Ae.indexOf(":");if(ot>0){const St=Ae.slice(0,ot),jt=St.toLowerCase(),Gt=Ae.slice(ot+1).trim();this.maybeSetNormalizedName(St,jt),this.headers.has(jt)?this.headers.get(jt).push(Gt):this.headers.set(jt,[Gt])}})}:typeof Headers<"u"&&Se instanceof Headers?(this.headers=new Map,Se.forEach((Ae,ot)=>{this.setHeaderEntries(ot,Ae)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(Se).forEach(([Ae,ot])=>{this.setHeaderEntries(Ae,ot)})}:this.headers=new Map}has(Se){return this.init(),this.headers.has(Se.toLowerCase())}get(Se){this.init();const Ae=this.headers.get(Se.toLowerCase());return Ae&&Ae.length>0?Ae[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Se){return this.init(),this.headers.get(Se.toLowerCase())||null}append(Se,Ae){return this.clone({name:Se,value:Ae,op:"a"})}set(Se,Ae){return this.clone({name:Se,value:Ae,op:"s"})}delete(Se,Ae){return this.clone({name:Se,value:Ae,op:"d"})}maybeSetNormalizedName(Se,Ae){this.normalizedNames.has(Ae)||this.normalizedNames.set(Ae,Se)}init(){this.lazyInit&&(this.lazyInit instanceof $e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Se=>this.applyUpdate(Se)),this.lazyUpdate=null))}copyFrom(Se){Se.init(),Array.from(Se.headers.keys()).forEach(Ae=>{this.headers.set(Ae,Se.headers.get(Ae)),this.normalizedNames.set(Ae,Se.normalizedNames.get(Ae))})}clone(Se){const Ae=new $e;return Ae.lazyInit=this.lazyInit&&this.lazyInit instanceof $e?this.lazyInit:this,Ae.lazyUpdate=(this.lazyUpdate||[]).concat([Se]),Ae}applyUpdate(Se){const Ae=Se.name.toLowerCase();switch(Se.op){case"a":case"s":let ot=Se.value;if("string"==typeof ot&&(ot=[ot]),0===ot.length)return;this.maybeSetNormalizedName(Se.name,Ae);const St=("a"===Se.op?this.headers.get(Ae):void 0)||[];St.push(...ot),this.headers.set(Ae,St);break;case"d":const jt=Se.value;if(jt){let Gt=this.headers.get(Ae);if(!Gt)return;Gt=Gt.filter(vn=>-1===jt.indexOf(vn)),0===Gt.length?(this.headers.delete(Ae),this.normalizedNames.delete(Ae)):this.headers.set(Ae,Gt)}else this.headers.delete(Ae),this.normalizedNames.delete(Ae)}}setHeaderEntries(Se,Ae){const ot=(Array.isArray(Ae)?Ae:[Ae]).map(jt=>jt.toString()),St=Se.toLowerCase();this.headers.set(St,ot),this.maybeSetNormalizedName(Se,St)}forEach(Se){this.init(),Array.from(this.normalizedNames.keys()).forEach(Ae=>Se(this.normalizedNames.get(Ae),this.headers.get(Ae)))}}class wt{encodeKey(Se){return sn(Se)}encodeValue(Se){return sn(Se)}decodeKey(Se){return decodeURIComponent(Se)}decodeValue(Se){return decodeURIComponent(Se)}}const $t=/%(\d[a-f0-9])/gi,pn={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function sn(ze){return encodeURIComponent(ze).replace($t,(Se,Ae)=>pn[Ae]??Se)}function Ot(ze){return`${ze}`}class Ve{constructor(Se={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Se.encoder||new wt,Se.fromString){if(Se.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function gt(ze,Se){const Ae=new Map;return ze.length>0&&ze.replace(/^\?/,"").split("&").forEach(St=>{const jt=St.indexOf("="),[Gt,vn]=-1==jt?[Se.decodeKey(St),""]:[Se.decodeKey(St.slice(0,jt)),Se.decodeValue(St.slice(jt+1))],bn=Ae.get(Gt)||[];bn.push(vn),Ae.set(Gt,bn)}),Ae}(Se.fromString,this.encoder)}else Se.fromObject?(this.map=new Map,Object.keys(Se.fromObject).forEach(Ae=>{const ot=Se.fromObject[Ae],St=Array.isArray(ot)?ot.map(Ot):[Ot(ot)];this.map.set(Ae,St)})):this.map=null}has(Se){return this.init(),this.map.has(Se)}get(Se){this.init();const Ae=this.map.get(Se);return Ae?Ae[0]:null}getAll(Se){return this.init(),this.map.get(Se)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Se,Ae){return this.clone({param:Se,value:Ae,op:"a"})}appendAll(Se){const Ae=[];return Object.keys(Se).forEach(ot=>{const St=Se[ot];Array.isArray(St)?St.forEach(jt=>{Ae.push({param:ot,value:jt,op:"a"})}):Ae.push({param:ot,value:St,op:"a"})}),this.clone(Ae)}set(Se,Ae){return this.clone({param:Se,value:Ae,op:"s"})}delete(Se,Ae){return this.clone({param:Se,value:Ae,op:"d"})}toString(){return this.init(),this.keys().map(Se=>{const Ae=this.encoder.encodeKey(Se);return this.map.get(Se).map(ot=>Ae+"="+this.encoder.encodeValue(ot)).join("&")}).filter(Se=>""!==Se).join("&")}clone(Se){const Ae=new Ve({encoder:this.encoder});return Ae.cloneFrom=this.cloneFrom||this,Ae.updates=(this.updates||[]).concat(Se),Ae}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Se=>this.map.set(Se,this.cloneFrom.map.get(Se))),this.updates.forEach(Se=>{switch(Se.op){case"a":case"s":const Ae=("a"===Se.op?this.map.get(Se.param):void 0)||[];Ae.push(Ot(Se.value)),this.map.set(Se.param,Ae);break;case"d":if(void 0===Se.value){this.map.delete(Se.param);break}{let ot=this.map.get(Se.param)||[];const St=ot.indexOf(Ot(Se.value));-1!==St&&ot.splice(St,1),ot.length>0?this.map.set(Se.param,ot):this.map.delete(Se.param)}}}),this.cloneFrom=this.updates=null)}}class pe{constructor(){this.map=new Map}set(Se,Ae){return this.map.set(Se,Ae),this}get(Se){return this.map.has(Se)||this.map.set(Se,Se.defaultValue()),this.map.get(Se)}delete(Se){return this.map.delete(Se),this}has(Se){return this.map.has(Se)}keys(){return this.map.keys()}}function We(ze){return typeof ArrayBuffer<"u"&&ze instanceof ArrayBuffer}function Ie(ze){return typeof Blob<"u"&&ze instanceof Blob}function je(ze){return typeof FormData<"u"&&ze instanceof FormData}class Ge{constructor(Se,Ae,ot,St){let jt;if(this.url=Ae,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Se.toUpperCase(),function ke(ze){switch(ze){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||St?(this.body=void 0!==ot?ot:null,jt=St):jt=ot,jt&&(this.reportProgress=!!jt.reportProgress,this.withCredentials=!!jt.withCredentials,jt.responseType&&(this.responseType=jt.responseType),jt.headers&&(this.headers=jt.headers),jt.context&&(this.context=jt.context),jt.params&&(this.params=jt.params),this.transferCache=jt.transferCache),this.headers||(this.headers=new $e),this.context||(this.context=new pe),this.params){const Gt=this.params.toString();if(0===Gt.length)this.urlWithParams=Ae;else{const vn=Ae.indexOf("?");this.urlWithParams=Ae+(-1===vn?"?":vn<Ae.length-1?"&":"")+Gt}}else this.params=new Ve,this.urlWithParams=Ae}serializeBody(){return null===this.body?null:We(this.body)||Ie(this.body)||je(this.body)||function tt(ze){return typeof URLSearchParams<"u"&&ze instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ve?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||je(this.body)?null:Ie(this.body)?this.body.type||null:We(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ve?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Se={}){const Ae=Se.method||this.method,ot=Se.url||this.url,St=Se.responseType||this.responseType,jt=void 0!==Se.body?Se.body:this.body,Gt=void 0!==Se.withCredentials?Se.withCredentials:this.withCredentials,vn=void 0!==Se.reportProgress?Se.reportProgress:this.reportProgress;let bn=Se.headers||this.headers,_i=Se.params||this.params;const cn=Se.context??this.context;return void 0!==Se.setHeaders&&(bn=Object.keys(Se.setHeaders).reduce((mi,Ei)=>mi.set(Ei,Se.setHeaders[Ei]),bn)),Se.setParams&&(_i=Object.keys(Se.setParams).reduce((mi,Ei)=>mi.set(Ei,Se.setParams[Ei]),_i)),new Ge(Ae,ot,jt,{params:_i,headers:bn,context:cn,reportProgress:vn,responseType:St,withCredentials:Gt})}}var ln=function(ze){return ze[ze.Sent=0]="Sent",ze[ze.UploadProgress=1]="UploadProgress",ze[ze.ResponseHeader=2]="ResponseHeader",ze[ze.DownloadProgress=3]="DownloadProgress",ze[ze.Response=4]="Response",ze[ze.User=5]="User",ze}(ln||{});class Mt{constructor(Se,Ae=200,ot="OK"){this.headers=Se.headers||new $e,this.status=void 0!==Se.status?Se.status:Ae,this.statusText=Se.statusText||ot,this.url=Se.url||null,this.ok=this.status>=200&&this.status<300}}class yn extends Mt{constructor(Se={}){super(Se),this.type=ln.ResponseHeader}clone(Se={}){return new yn({headers:Se.headers||this.headers,status:void 0!==Se.status?Se.status:this.status,statusText:Se.statusText||this.statusText,url:Se.url||this.url||void 0})}}class Vn extends Mt{constructor(Se={}){super(Se),this.type=ln.Response,this.body=void 0!==Se.body?Se.body:null}clone(Se={}){return new Vn({body:void 0!==Se.body?Se.body:this.body,headers:Se.headers||this.headers,status:void 0!==Se.status?Se.status:this.status,statusText:Se.statusText||this.statusText,url:Se.url||this.url||void 0})}}class di extends Mt{constructor(Se){super(Se,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Se.url||"(unknown url)"}`:`Http failure response for ${Se.url||"(unknown url)"}: ${Se.status} ${Se.statusText}`,this.error=Se.error||null}}function Ke(ze,Se){return{body:Se,headers:ze.headers,context:ze.context,observe:ze.observe,params:ze.params,reportProgress:ze.reportProgress,responseType:ze.responseType,withCredentials:ze.withCredentials,transferCache:ze.transferCache}}let at=(()=>{class ze{constructor(Ae){this.handler=Ae}request(Ae,ot,St={}){let jt;if(Ae instanceof Ge)jt=Ae;else{let bn,_i;bn=St.headers instanceof $e?St.headers:new $e(St.headers),St.params&&(_i=St.params instanceof Ve?St.params:new Ve({fromObject:St.params})),jt=new Ge(Ae,ot,void 0!==St.body?St.body:null,{headers:bn,context:St.context,params:_i,reportProgress:St.reportProgress,responseType:St.responseType||"json",withCredentials:St.withCredentials,transferCache:St.transferCache})}const Gt=(0,re.of)(jt).pipe((0,z.b)(bn=>this.handler.handle(bn)));if(Ae instanceof Ge||"events"===St.observe)return Gt;const vn=Gt.pipe((0,Z.h)(bn=>bn instanceof Vn));switch(St.observe||"body"){case"body":switch(jt.responseType){case"arraybuffer":return vn.pipe((0,ce.U)(bn=>{if(null!==bn.body&&!(bn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return bn.body}));case"blob":return vn.pipe((0,ce.U)(bn=>{if(null!==bn.body&&!(bn.body instanceof Blob))throw new Error("Response is not a Blob.");return bn.body}));case"text":return vn.pipe((0,ce.U)(bn=>{if(null!==bn.body&&"string"!=typeof bn.body)throw new Error("Response is not a string.");return bn.body}));default:return vn.pipe((0,ce.U)(bn=>bn.body))}case"response":return vn;default:throw new Error(`Unreachable: unhandled observe type ${St.observe}}`)}}delete(Ae,ot={}){return this.request("DELETE",Ae,ot)}get(Ae,ot={}){return this.request("GET",Ae,ot)}head(Ae,ot={}){return this.request("HEAD",Ae,ot)}jsonp(Ae,ot){return this.request("JSONP",Ae,{params:(new Ve).append(ot,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ae,ot={}){return this.request("OPTIONS",Ae,ot)}patch(Ae,ot,St={}){return this.request("PATCH",Ae,Ke(St,ot))}post(Ae,ot,St={}){return this.request("POST",Ae,Ke(St,ot))}put(Ae,ot,St={}){return this.request("PUT",Ae,Ke(St,ot))}static#e=this.\u0275fac=function(ot){return new(ot||ze)(D.LFG(be))};static#t=this.\u0275prov=D.Yz7({token:ze,factory:ze.\u0275fac})}return ze})();function Zt(ze,Se){return Se(ze)}function Ln(ze,Se){return(Ae,ot)=>Se.intercept(Ae,{handle:St=>ze(St,ot)})}const jn=new D.OlP(""),gn=new D.OlP(""),Ti=new D.OlP(""),ki=new D.OlP("");function Or(){let ze=null;return(Se,Ae)=>{null===ze&&(ze=((0,D.f3M)(jn,{optional:!0})??[]).reduceRight(Ln,Zt));const ot=(0,D.f3M)(D.HDt),St=ot.add();return ze(Se,Ae).pipe((0,ue.x)(()=>ot.remove(St)))}}let ds=(()=>{class ze extends be{constructor(Ae,ot){super(),this.backend=Ae,this.injector=ot,this.chain=null,this.pendingTasks=(0,D.f3M)(D.HDt);const St=(0,D.f3M)(ki,{optional:!0});this.backend=St??Ae}handle(Ae){if(null===this.chain){const St=Array.from(new Set([...this.injector.get(gn),...this.injector.get(Ti,[])]));this.chain=St.reduceRight((jt,Gt)=>function dn(ze,Se,Ae){return(ot,St)=>(0,D.r_H)(Ae,()=>Se(ot,jt=>ze(jt,St)))}(jt,Gt,this.injector),Zt)}const ot=this.pendingTasks.add();return this.chain(Ae,St=>this.backend.handle(St)).pipe((0,ue.x)(()=>this.pendingTasks.remove(ot)))}static#e=this.\u0275fac=function(ot){return new(ot||ze)(D.LFG(De),D.LFG(D.lqb))};static#t=this.\u0275prov=D.Yz7({token:ze,factory:ze.\u0275fac})}return ze})();const un=/^\)\]\}',?\n/;let Jt=(()=>{class ze{constructor(Ae){this.xhrFactory=Ae}handle(Ae){if("JSONP"===Ae.method)throw new D.vHH(-2800,!1);const ot=this.xhrFactory;return(ot.\u0275loadImpl?(0,G.D)(ot.\u0275loadImpl()):(0,re.of)(null)).pipe((0,ae.w)(()=>new fe.y(jt=>{const Gt=ot.build();if(Gt.open(Ae.method,Ae.urlWithParams),Ae.withCredentials&&(Gt.withCredentials=!0),Ae.headers.forEach((ei,Dt)=>Gt.setRequestHeader(ei,Dt.join(","))),Ae.headers.has("Accept")||Gt.setRequestHeader("Accept","application/json, text/plain, */*"),!Ae.headers.has("Content-Type")){const ei=Ae.detectContentTypeHeader();null!==ei&&Gt.setRequestHeader("Content-Type",ei)}if(Ae.responseType){const ei=Ae.responseType.toLowerCase();Gt.responseType="json"!==ei?ei:"text"}const vn=Ae.serializeBody();let bn=null;const _i=()=>{if(null!==bn)return bn;const ei=Gt.statusText||"OK",Dt=new $e(Gt.getAllResponseHeaders()),Ii=function Dn(ze){return"responseURL"in ze&&ze.responseURL?ze.responseURL:/^X-Request-URL:/m.test(ze.getAllResponseHeaders())?ze.getResponseHeader("X-Request-URL"):null}(Gt)||Ae.url;return bn=new yn({headers:Dt,status:Gt.status,statusText:ei,url:Ii}),bn},cn=()=>{let{headers:ei,status:Dt,statusText:Ii,url:zr}=_i(),on=null;204!==Dt&&(on=typeof Gt.response>"u"?Gt.responseText:Gt.response),0===Dt&&(Dt=on?200:0);let ur=Dt>=200&&Dt<300;if("json"===Ae.responseType&&"string"==typeof on){const Xo=on;on=on.replace(un,"");try{on=""!==on?JSON.parse(on):null}catch(Sr){on=Xo,ur&&(ur=!1,on={error:Sr,text:on})}}ur?(jt.next(new Vn({body:on,headers:ei,status:Dt,statusText:Ii,url:zr||void 0})),jt.complete()):jt.error(new di({error:on,headers:ei,status:Dt,statusText:Ii,url:zr||void 0}))},mi=ei=>{const{url:Dt}=_i(),Ii=new di({error:ei,status:Gt.status||0,statusText:Gt.statusText||"Unknown Error",url:Dt||void 0});jt.error(Ii)};let Ei=!1;const Mi=ei=>{Ei||(jt.next(_i()),Ei=!0);let Dt={type:ln.DownloadProgress,loaded:ei.loaded};ei.lengthComputable&&(Dt.total=ei.total),"text"===Ae.responseType&&Gt.responseText&&(Dt.partialText=Gt.responseText),jt.next(Dt)},ni=ei=>{let Dt={type:ln.UploadProgress,loaded:ei.loaded};ei.lengthComputable&&(Dt.total=ei.total),jt.next(Dt)};return Gt.addEventListener("load",cn),Gt.addEventListener("error",mi),Gt.addEventListener("timeout",mi),Gt.addEventListener("abort",mi),Ae.reportProgress&&(Gt.addEventListener("progress",Mi),null!==vn&&Gt.upload&&Gt.upload.addEventListener("progress",ni)),Gt.send(vn),jt.next({type:ln.Sent}),()=>{Gt.removeEventListener("error",mi),Gt.removeEventListener("abort",mi),Gt.removeEventListener("load",cn),Gt.removeEventListener("timeout",mi),Ae.reportProgress&&(Gt.removeEventListener("progress",Mi),null!==vn&&Gt.upload&&Gt.upload.removeEventListener("progress",ni)),Gt.readyState!==Gt.DONE&&Gt.abort()}})))}static#e=this.\u0275fac=function(ot){return new(ot||ze)(D.LFG(Ee.JF))};static#t=this.\u0275prov=D.Yz7({token:ze,factory:ze.\u0275fac})}return ze})();const oi=new D.OlP("XSRF_ENABLED"),Hr=new D.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),or=new D.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class ar{}let is=(()=>{class ze{constructor(Ae,ot,St){this.doc=Ae,this.platform=ot,this.cookieName=St,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Ae=this.doc.cookie||"";return Ae!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,Ee.Mx)(Ae,this.cookieName),this.lastCookieString=Ae),this.lastToken}static#e=this.\u0275fac=function(ot){return new(ot||ze)(D.LFG(Ee.K0),D.LFG(D.Lbi),D.LFG(Hr))};static#t=this.\u0275prov=D.Yz7({token:ze,factory:ze.\u0275fac})}return ze})();function Vs(ze,Se){const Ae=ze.url.toLowerCase();if(!(0,D.f3M)(oi)||"GET"===ze.method||"HEAD"===ze.method||Ae.startsWith("http://")||Ae.startsWith("https://"))return Se(ze);const ot=(0,D.f3M)(ar).getToken(),St=(0,D.f3M)(or);return null!=ot&&!ze.headers.has(St)&&(ze=ze.clone({headers:ze.headers.set(St,ot)})),Se(ze)}var Tn=function(ze){return ze[ze.Interceptors=0]="Interceptors",ze[ze.LegacyInterceptors=1]="LegacyInterceptors",ze[ze.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",ze[ze.NoXsrfProtection=3]="NoXsrfProtection",ze[ze.JsonpSupport=4]="JsonpSupport",ze[ze.RequestsMadeViaParent=5]="RequestsMadeViaParent",ze[ze.Fetch=6]="Fetch",ze}(Tn||{});function go(...ze){const Se=[at,Jt,ds,{provide:be,useExisting:ds},{provide:De,useExisting:Jt},{provide:gn,useValue:Vs,multi:!0},{provide:oi,useValue:!0},{provide:ar,useClass:is}];for(const Ae of ze)Se.push(...Ae.\u0275providers);return(0,D.MR2)(Se)}const ct=new D.OlP("LEGACY_INTERCEPTOR_FN");function et(){return function Ts(ze,Se){return{\u0275kind:ze,\u0275providers:Se}}(Tn.LegacyInterceptors,[{provide:ct,useFactory:Or},{provide:gn,useExisting:ct,multi:!0}])}let ai=(()=>{class ze{static#e=this.\u0275fac=function(ot){return new(ot||ze)};static#t=this.\u0275mod=D.oAB({type:ze});static#n=this.\u0275inj=D.cJS({providers:[go(et())]})}return ze})()},9212:(Ht,Ue,H)=>{function v(n,s){return Object.is(n,s)}H.d(Ue,{QbO:()=>bl,tb:()=>rE,AFp:()=>Bf,ip1:()=>VS,hGG:()=>As,z2F:()=>Tu,Ojb:()=>mc,sBO:()=>cT,Sil:()=>Ex,EJc:()=>Lx,Xts:()=>Zu,SBq:()=>ph,lqb:()=>Po,qLn:()=>Ec,vpe:()=>bc,XFs:()=>cn,OlP:()=>on,zs3:()=>Qa,ZZ4:()=>UC,aQg:()=>Rb,soG:()=>aE,YKP:()=>Pd,h0i:()=>Dd,R0b:()=>Rs,FiY:()=>Kd,Lbi:()=>Jd,g9A:()=>Xc,Qsj:()=>HD,FYo:()=>kC,JOm:()=>ih,q3G:()=>ru,tp0:()=>Sg,Rgc:()=>$p,dDg:()=>Px,eoX:()=>iE,q4F:()=>WD,GfV:()=>GD,s_b:()=>Xy,ifc:()=>Bs,T8G:()=>RP,VuI:()=>oO,Flj:()=>Ib,MMx:()=>iS,Lck:()=>Wm,eFA:()=>uE,cEC:()=>gT,G48:()=>Fx,Gpc:()=>po,f3M:()=>li,$WT:()=>Gr,MR2:()=>Rg,_c5:()=>Yo,qFp:()=>aO,r_H:()=>W_,tdS:()=>qD,rg0:()=>qR,c2e:()=>MS,zSh:()=>H_,HDt:()=>xS,wAp:()=>Lh,vHH:()=>Jt,lri:()=>FS,rWj:()=>nE,JZr:()=>Dn,EiD:()=>_y,mCW:()=>uh,qzn:()=>ld,JVY:()=>xD,pB0:()=>OD,eBb:()=>Qg,L6k:()=>fb,LAX:()=>RD,cg1:()=>yu,kuF:()=>oi,kL8:()=>bd,dqk:()=>Dt,Z0I:()=>Ae,eJc:()=>Zc,QGY:()=>$h,F4k:()=>uw,RDi:()=>Wo,AaK:()=>si,z3N:()=>iu,qOj:()=>s0,Xq5:()=>GP,TTD:()=>Ds,_Bn:()=>eS,jDz:()=>Mv,xp6:()=>XC,uIk:()=>RT,Tol:()=>VT,Gre:()=>UT,ekj:()=>h0,um2:()=>D0,Suo:()=>zv,Xpm:()=>Us,lG2:()=>ul,Yz7:()=>vi,cJS:()=>ze,oAB:()=>Ru,Yjl:()=>dl,Y36:()=>om,_UZ:()=>uv,GkF:()=>$0,BQk:()=>dv,ynx:()=>Ed,qZA:()=>No,TgZ:()=>cv,EpF:()=>hv,n5z:()=>Hl,LFG:()=>Dr,$8M:()=>Tf,$Z:()=>eT,NdJ:()=>$m,CRH:()=>e_,O4$:()=>Ca,oxw:()=>fw,ALo:()=>Hw,lcZ:()=>Zm,xi3:()=>Vv,Dn7:()=>Bv,Hsn:()=>$I,F$t:()=>Vp,Q6J:()=>c0,s9C:()=>Eu,MGl:()=>bv,DdM:()=>Vw,VKq:()=>lS,WLB:()=>Bw,kEZ:()=>cS,l5B:()=>Kh,qbA:()=>Yh,HTZ:()=>Nv,Hh0:()=>Qm,rFY:()=>Uw,iGM:()=>Hv,MAs:()=>mw,KtG:()=>_g,evT:()=>X_,CHM:()=>Hu,oJD:()=>gb,LSH:()=>vy,P3R:()=>SC,Akn:()=>Yl,Udp:()=>d0,YNc:()=>Ih,W1O:()=>Au,_uU:()=>ko,Oqu:()=>Iv,hij:()=>ec,AsE:()=>Id,Gf:()=>Zh});let D=null,re=!1,fe=1;const G=Symbol("SIGNAL");function z(n){const s=D;return D=n,s}const ae={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ee(n){if(re)throw new Error("");if(null===D)return;D.consumerOnSignalRead(n);const s=D.nextProducerIndex++;pe(D),s<D.producerNode.length&&D.producerNode[s]!==n&&Xe(D)&&Ve(D.producerNode[s],D.producerIndexOfThis[s]),D.producerNode[s]!==n&&(D.producerNode[s]=n,D.producerIndexOfThis[s]=Xe(D)?Ot(n,D,s):0),D.producerLastReadVersion[s]=n.version}function De(n){if((!Xe(n)||n.dirty)&&(n.dirty||n.lastCleanEpoch!==fe)){if(!n.producerMustRecompute(n)&&!pn(n))return n.dirty=!1,void(n.lastCleanEpoch=fe);n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=fe}}function $e(n){if(void 0===n.liveConsumerNode)return;const s=re;re=!0;try{for(const l of n.liveConsumerNode)l.dirty||wt(l)}finally{re=s}}function xe(){return!1!==D?.consumerAllowSignalWrites}function wt(n){n.dirty=!0,$e(n),n.consumerMarkedDirty?.(n)}function gt(n){return n&&(n.nextProducerIndex=0),z(n)}function $t(n,s){if(z(s),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(Xe(n))for(let l=n.nextProducerIndex;l<n.producerNode.length;l++)Ve(n.producerNode[l],n.producerIndexOfThis[l]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function pn(n){pe(n);for(let s=0;s<n.producerNode.length;s++){const l=n.producerNode[s],d=n.producerLastReadVersion[s];if(d!==l.version||(De(l),d!==l.version))return!0}return!1}function sn(n){if(pe(n),Xe(n))for(let s=0;s<n.producerNode.length;s++)Ve(n.producerNode[s],n.producerIndexOfThis[s]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Ot(n,s,l){if(ke(n),pe(n),0===n.liveConsumerNode.length)for(let d=0;d<n.producerNode.length;d++)n.producerIndexOfThis[d]=Ot(n.producerNode[d],n,d);return n.liveConsumerIndexOfThis.push(l),n.liveConsumerNode.push(s)-1}function Ve(n,s){if(ke(n),pe(n),1===n.liveConsumerNode.length)for(let d=0;d<n.producerNode.length;d++)Ve(n.producerNode[d],n.producerIndexOfThis[d]);const l=n.liveConsumerNode.length-1;if(n.liveConsumerNode[s]=n.liveConsumerNode[l],n.liveConsumerIndexOfThis[s]=n.liveConsumerIndexOfThis[l],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,s<n.liveConsumerNode.length){const d=n.liveConsumerIndexOfThis[s],f=n.liveConsumerNode[s];pe(f),f.producerIndexOfThis[d]=s}}function Xe(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function pe(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function ke(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}const Ie=Symbol("UNSET"),je=Symbol("COMPUTING"),tt=Symbol("ERRORED"),Ge=(()=>({...ae,value:Ie,dirty:!0,error:null,equal:v,producerMustRecompute:n=>n.value===Ie||n.value===je,producerRecomputeValue(n){if(n.value===je)throw new Error("Detected cycle in computations.");const s=n.value;n.value=je;const l=gt(n);let d;try{d=n.computation()}catch(f){d=tt,n.error=f}finally{$t(n,l)}s!==Ie&&s!==tt&&d!==tt&&n.equal(s,d)?n.value=s:(n.value=d,n.version++)}}))();let Mt=function ln(){throw new Error};function yn(){Mt()}let di=null;function vt(n,s){xe()||yn(),n.equal(n.value,s)||(n.value=s,function Un(n){n.version++,function be(){fe++}(),$e(n),di?.()}(n))}const Rn=(()=>({...ae,equal:v,value:void 0}))();const Zt=()=>{},Ln=(()=>({...ae,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{null!==n.schedule&&n.schedule(n.ref)},hasRun:!1,cleanupFn:Zt}))();var jn=H(8645),gn=H(7394),Ti=H(5592),ki=H(3019),Or=H(5619),rr=H(2096),us=H(3020),ds=H(4664),fo=H(3997);function An(n){for(let s in n)if(n[s]===An)return s;throw Error("Could not find renamed property on target object.")}function Xs(n,s){for(const l in s)s.hasOwnProperty(l)&&!n.hasOwnProperty(l)&&(n[l]=s[l])}function si(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(si).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const s=n.toString();if(null==s)return""+s;const l=s.indexOf("\n");return-1===l?s:s.substring(0,l)}function Jn(n,s){return null==n||""===n?null===s?"":s:null==s||""===s?n:n+" "+s}const ma=An({__forward_ref__:An});function po(n){return n.__forward_ref__=po,n.toString=function(){return si(this())},n}function _n(n){return zi(n)?n():n}function zi(n){return"function"==typeof n&&n.hasOwnProperty(ma)&&n.__forward_ref__===po}function yr(n){return n&&!!n.\u0275providers}const Dn="https://g.co/ng/security#xss";class Jt extends Error{constructor(s,l){super(oi(s,l)),this.code=s}}function oi(n,s){return`NG0${Math.abs(n)}${s?": "+s:""}`}const Cs=An({\u0275cmp:An}),Hr=An({\u0275dir:An}),ns=An({\u0275pipe:An}),or=An({\u0275mod:An}),ar=An({\u0275fac:An}),is=An({__NG_ELEMENT_ID__:An}),Vs=An({__NG_ENV_ID__:An});function Cn(n){return"string"==typeof n?n:null==n?"":String(n)}function we(n,s){throw new Jt(-201,!1)}function Li(n,s){null==n&&function Mn(n,s,l,d){throw new Error(`ASSERTION ERROR: ${n}`+(null==d?"":` [Expected=> ${l} ${d} ${s} <=Actual]`))}(s,n,null,"!=")}function vi(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ze(n){return{providers:n.providers||[],imports:n.imports||[]}}function Se(n){return ot(n,Gt)||ot(n,bn)}function Ae(n){return null!==Se(n)}function ot(n,s){return n.hasOwnProperty(s)?n[s]:null}function jt(n){return n&&(n.hasOwnProperty(vn)||n.hasOwnProperty(_i))?n[vn]:null}const Gt=An({\u0275prov:An}),vn=An({\u0275inj:An}),bn=An({ngInjectableDef:An}),_i=An({ngInjectorDef:An});var cn=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(cn||{});let mi;function Ei(){return mi}function Mi(n){const s=mi;return mi=n,s}function ni(n,s,l){const d=Se(n);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:l&cn.Optional?null:void 0!==s?s:void we(si(n))}const Dt=globalThis;class on{constructor(s,l){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=vi({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Fa={},ea="__NG_DI_FLAG__",Va="ngTempTokenPath",rs=/\n/gm,ya="__source";let na;function vr(n){const s=na;return na=n,s}function Eo(n,s=cn.Default){if(void 0===na)throw new Jt(-203,!1);return null===na?ni(n,void 0,s):na.get(n,s&cn.Optional?null:void 0,s)}function Dr(n,s=cn.Default){return(Ei()||Eo)(_n(n),s)}function li(n,s=cn.Default){return Dr(n,ps(s))}function ps(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function va(n){const s=[];for(let l=0;l<n.length;l++){const d=_n(n[l]);if(Array.isArray(d)){if(0===d.length)throw new Jt(900,!1);let f,_=cn.Default;for(let w=0;w<d.length;w++){const S=d[w],R=Ea(S);"number"==typeof R?-1===R?f=S.token:_|=R:f=S}s.push(Dr(f,_))}else s.push(Dr(d))}return s}function bo(n,s){return n[ea]=s,n.prototype[ea]=s,n}function Ea(n){return n[ea]}function ss(n){return{toString:n}.toString()}var eo=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(eo||{}),Bs=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Bs||{});const Is={},Bn=[];function Ss(n,s,l){let d=n.length;for(;;){const f=n.indexOf(s,l);if(-1===f)return f;if(0===f||n.charCodeAt(f-1)<=32){const _=s.length;if(f+_===d||n.charCodeAt(f+_)<=32)return f}l=f+1}}function Ua(n,s,l){let d=0;for(;d<l.length;){const f=l[d];if("number"==typeof f){if(0!==f)break;d++;const _=l[d++],w=l[d++],S=l[d++];n.setAttribute(s,w,S,_)}else{const _=f,w=l[++d];Ao(_)?n.setProperty(s,_,w):n.setAttribute(s,_,w),d++}}return d}function wo(n){return 3===n||4===n||6===n}function Ao(n){return 64===n.charCodeAt(0)}function ia(n,s){if(null!==s&&0!==s.length)if(null===n||0===n.length)n=s.slice();else{let l=-1;for(let d=0;d<s.length;d++){const f=s[d];"number"==typeof f?l=f:0===l||ol(n,l,f,null,-1===l||2===l?s[++d]:null)}}return n}function ol(n,s,l,d,f){let _=0,w=n.length;if(-1===s)w=-1;else for(;_<n.length;){const S=n[_++];if("number"==typeof S){if(S===s){w=-1;break}if(S>s){w=_-1;break}}}for(;_<n.length;){const S=n[_];if("number"==typeof S)break;if(S===l){if(null===d)return void(null!==f&&(n[_+1]=f));if(d===n[_+1])return void(n[_+2]=f)}_++,null!==d&&_++,null!==f&&_++}-1!==w&&(n.splice(w,0,s),_=w+1),n.splice(_++,0,l),null!==d&&n.splice(_++,0,d),null!==f&&n.splice(_++,0,f)}const to="ng-template";function ja(n,s,l){let d=0,f=!0;for(;d<n.length;){let _=n[d++];if("string"==typeof _&&f){const w=n[d++];if(l&&"class"===_&&-1!==Ss(w.toLowerCase(),s,0))return!0}else{if(1===_){for(;d<n.length&&"string"==typeof(_=n[d++]);)if(_.toLowerCase()===s)return!0;return!1}"number"==typeof _&&(f=!1)}}return!1}function ba(n){return 4===n.type&&n.value!==to}function al(n,s,l){return s===(4!==n.type||l?n.value:to)}function Ml(n,s,l){let d=4;const f=n.attrs||[],_=function ra(n){for(let s=0;s<n.length;s++)if(wo(n[s]))return s;return n.length}(f);let w=!1;for(let S=0;S<s.length;S++){const R=s[S];if("number"!=typeof R){if(!w)if(4&d){if(d=2|1&d,""!==R&&!al(n,R,l)||""===R&&1===s.length){if($r(d))return!1;w=!0}}else{const $=8&d?R:s[++S];if(8&d&&null!==n.attrs){if(!ja(n.attrs,$,l)){if($r(d))return!1;w=!0}continue}const de=rc(8&d?"class":R,f,ba(n),l);if(-1===de){if($r(d))return!1;w=!0;continue}if(""!==$){let Pe;Pe=de>_?"":f[de+1].toLowerCase();const Le=8&d?Pe:null;if(Le&&-1!==Ss(Le,$,0)||2&d&&$!==Pe){if($r(d))return!1;w=!0}}}}else{if(!w&&!$r(d)&&!$r(R))return!1;if(w&&$r(R))continue;w=!1,d=R|1&d}}return $r(d)||w}function $r(n){return 0==(1&n)}function rc(n,s,l,d){if(null===s)return-1;let f=0;if(d||!l){let _=!1;for(;f<s.length;){const w=s[f];if(w===n)return f;if(3===w||6===w)_=!0;else{if(1===w||2===w){let S=s[++f];for(;"string"==typeof S;)S=s[++f];continue}if(4===w)break;if(0===w){f+=4;continue}}f+=_?1:2}return-1}return function xl(n,s){let l=n.indexOf(4);if(l>-1)for(l++;l<n.length;){const d=n[l];if("number"==typeof d)return-1;if(d===s)return l;l++}return-1}(s,n)}function Uo(n,s,l=!1){for(let d=0;d<s.length;d++)if(Ml(n,s[d],l))return!0;return!1}function sr(n,s){e:for(let l=0;l<s.length;l++){const d=s[l];if(n.length===d.length){for(let f=0;f<n.length;f++)if(n[f]!==d[f])continue e;return!0}}return!1}function kr(n,s){return n?":not("+s.trim()+")":s}function wa(n){let s=n[0],l=1,d=2,f="",_=!1;for(;l<n.length;){let w=n[l];if("string"==typeof w)if(2&d){const S=n[++l];f+="["+w+(S.length>0?'="'+S+'"':"")+"]"}else 8&d?f+="."+w:4&d&&(f+=" "+w);else""!==f&&!$r(w)&&(s+=kr(_,f),f=""),d=w,_=_||!$r(d);l++}return""!==f&&(s+=kr(_,f)),s}function Us(n){return ss(()=>{const s=oc(n),l={...s,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===eo.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Bs.Emulated,styles:n.styles||Bn,_:null,schemas:n.schemas||null,tView:null,id:""};ac(l);const d=n.dependencies;return l.directiveDefs=sa(d,!1),l.pipeDefs=sa(d,!0),l.id=function ee(n){let s=0;const l=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const f of l)s=Math.imul(31,s)+f.charCodeAt(0)<<0;return s+=2147483648,"c"+s}(l),l})}function xu(n){return Wn(n)||Gi(n)}function cl(n){return null!==n}function Ru(n){return ss(()=>({type:n.type,bootstrap:n.bootstrap||Bn,declarations:n.declarations||Bn,imports:n.imports||Bn,exports:n.exports||Bn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function sc(n,s){if(null==n)return Is;const l={};for(const d in n)if(n.hasOwnProperty(d)){let f=n[d],_=f;Array.isArray(f)&&(_=f[1],f=f[0]),l[f]=d,s&&(s[f]=_)}return l}function ul(n){return ss(()=>{const s=oc(n);return ac(s),s})}function dl(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Wn(n){return n[Cs]||null}function Gi(n){return n[Hr]||null}function Pr(n){return n[ns]||null}function Gr(n){const s=Wn(n)||Gi(n)||Pr(n);return null!==s&&s.standalone}function hr(n,s){const l=n[or]||null;if(!l&&!0===s)throw new Error(`Type ${si(n)} does not have '\u0275mod' property.`);return l}function oc(n){const s={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:s,inputTransforms:null,inputConfig:n.inputs||Is,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||Bn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:sc(n.inputs,s),outputs:sc(n.outputs),debugInfo:null}}function ac(n){n.features?.forEach(s=>s(n))}function sa(n,s){if(!n)return null;const l=s?Pr:xu;return()=>("function"==typeof n?n():n).map(d=>l(d)).filter(cl)}const V=0,J=1,_e=2,Rt=3,kn=4,Yi=5,Wr=6,jo=7,xi=8,fr=9,hl=10,Hn=11,Rl=12,Ou=13,os=14,Ri=15,Ol=16,Mr=17,js=18,pr=19,fl=20,Hs=21,za=22,zs=23,qn=25,Nu=1,Ho=7,cc=9,Wi=10;var $a=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n[n.HasChildViewsToRefresh=4]="HasChildViewsToRefresh",n}($a||{});function Tr(n){return Array.isArray(n)&&"object"==typeof n[Nu]}function Lr(n){return Array.isArray(n)&&!0===n[Nu]}function xc(n){return 0!=(4&n.flags)}function gl(n){return n.componentOffset>-1}function uc(n){return 1==(1&n.flags)}function bi(n){return!!n.template}function ku(n){return 0!=(512&n[_e])}function fi(n,s){return n.hasOwnProperty(ar)?n[ar]:null}class ut{constructor(s,l,d){this.previousValue=s,this.currentValue=l,this.firstChange=d}isFirstChange(){return this.firstChange}}function Ds(){return io}function io(n){return n.type.prototype.ngOnChanges&&(n.setInput=zo),Wa}function Wa(){const n=Co(this),s=n?.current;if(s){const l=n.previous;if(l===Is)n.previous=s;else for(let d in s)l[d]=s[d];n.current=null,this.ngOnChanges(s)}}function zo(n,s,l,d){const f=this.declaredInputs[l],_=Co(n)||function oa(n,s){return n[Aa]=s}(n,{previous:Is,current:null}),w=_.current||(_.current={}),S=_.previous,R=S[f];w[f]=new ut(R&&R.currentValue,s,S===Is),n[d]=s}Ds.ngInherit=!0;const Aa="__ngSimpleChanges__";function Co(n){return n[Aa]||null}const To=function(n,s,l){},fg="svg";function Qi(n){for(;Array.isArray(n);)n=n[V];return n}function hc(n,s){return Qi(s[n])}function $s(n,s){return Qi(s[n.index])}function Zi(n,s){return n.data[s]}function qr(n,s){return n[s]}function ro(n,s){const l=s[n];return Tr(l)?l:l[V]}function Io(n){return 128==(128&n[_e])}function Kr(n,s){return null==s?null:n[s]}function ui(n){n[Mr]=0}function Ps(n){1024&n[_e]||(n[_e]|=1024,Io(n)&&Bu(n))}function pg(n){return 9216&n[_e]||n[zs]?.dirty}function Yr(n){pg(n)&&Bu(n)}function Bu(n){let s=n[Rt];for(;null!==s&&!(Lr(s)&&s[_e]&$a.HasChildViewsToRefresh||Tr(s)&&8192&s[_e]);){if(Lr(s))s[_e]|=$a.HasChildViewsToRefresh;else if(s[_e]|=8192,!Io(s))break;s=s[Rt]}}function mf(n,s){if(256==(256&n[_e]))throw new Jt(911,!1);null===n[Hs]&&(n[Hs]=[]),n[Hs].push(s)}const xn={lFrame:Qe(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ld(){return xn.bindingsEnabled}function Ll(){return null!==xn.skipHydrationRootTNode}function Ct(){return xn.lFrame.lView}function Ci(){return xn.lFrame.tView}function Hu(n){return xn.lFrame.contextLView=n,n[xi]}function _g(n){return xn.lFrame.contextLView=null,n}function qi(){let n=y_();for(;null!==n&&64===n.type;)n=n.parent;return n}function y_(){return xn.lFrame.currentTNode}function Ka(n,s){const l=xn.lFrame;l.currentTNode=n,l.isParent=s}function vf(){return xn.lFrame.isParent}function Vd(){xn.lFrame.isParent=!1}function Gs(){const n=xn.lFrame;let s=n.bindingRootIndex;return-1===s&&(s=n.bindingRootIndex=n.tView.bindingStartIndex),s}function _l(){return xn.lFrame.bindingIndex++}function Fl(n){const s=xn.lFrame,l=s.bindingIndex;return s.bindingIndex=s.bindingIndex+n,l}function RE(n,s){const l=xn.lFrame;l.bindingIndex=l.bindingRootIndex=n,P(s)}function P(n){xn.lFrame.currentDirectiveIndex=n}function M(){return xn.lFrame.currentQueryIndex}function F(n){xn.lFrame.currentQueryIndex=n}function q(n){const s=n[J];return 2===s.type?s.declTNode:1===s.type?n[Yi]:null}function oe(n,s,l){if(l&cn.SkipSelf){let f=s,_=n;for(;!(f=f.parent,null!==f||l&cn.Host||(f=q(_),null===f||(_=_[os],10&f.type))););if(null===f)return!1;s=f,n=_}const d=xn.lFrame=rt();return d.currentTNode=s,d.lView=n,!0}function ve(n){const s=rt(),l=n[J];xn.lFrame=s,s.currentTNode=l.firstChild,s.lView=n,s.tView=l,s.contextLView=n,s.bindingIndex=l.bindingStartIndex,s.inI18n=!1}function rt(){const n=xn.lFrame,s=null===n?null:n.child;return null===s?Qe(n):s}function Qe(n){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=s),s}function Kt(){const n=xn.lFrame;return xn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Yn=Kt;function ii(){const n=Kt();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function br(){return xn.lFrame.selectedIndex}function Si(n){xn.lFrame.selectedIndex=n}function Hi(){const n=xn.lFrame;return Zi(n.tView,n.selectedIndex)}function Ca(){xn.lFrame.currentNamespace=fg}let b_=!0;function jd(){return b_}function Ya(n){b_=n}function yl(n,s){for(let l=s.directiveStart,d=s.directiveEnd;l<d;l++){const _=n.data[l].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:S,ngAfterViewInit:R,ngAfterViewChecked:$,ngOnDestroy:te}=_;w&&(n.contentHooks??=[]).push(-l,w),S&&((n.contentHooks??=[]).push(l,S),(n.contentCheckHooks??=[]).push(l,S)),R&&(n.viewHooks??=[]).push(-l,R),$&&((n.viewHooks??=[]).push(l,$),(n.viewCheckHooks??=[]).push(l,$)),null!=te&&(n.destroyHooks??=[]).push(l,te)}}function Vl(n,s,l){gs(n,s,3,l)}function aa(n,s,l,d){(3&n[_e])===l&&gs(n,s,l,d)}function yi(n,s){let l=n[_e];(3&l)===s&&(l&=16383,l+=1,n[_e]=l)}function gs(n,s,l,d){const _=d??-1,w=s.length-1;let S=0;for(let R=void 0!==d?65535&n[Mr]:0;R<w;R++)if("number"==typeof s[R+1]){if(S=s[R],null!=d&&S>=d)break}else s[R]<0&&(n[Mr]+=65536),(S<_||-1==_)&&(TD(n,l,s,R),n[Mr]=(4294901760&n[Mr])+R+2),R++}function iC(n,s){To(4,n,s);const l=z(null);try{s.call(n)}finally{z(l),To(5,n,s)}}function TD(n,s,l,d){const f=l[d]<0,_=l[d+1],S=n[f?-l[d]:l[d]];f?n[_e]>>14<n[Mr]>>16&&(3&n[_e])===s&&(n[_e]+=16384,iC(S,_)):iC(S,_)}const zu=-1;class Bc{constructor(s,l,d){this.factory=s,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=d}}function bf(n){return n!==zu}function $d(n){return 32767&n}function jc(n,s){let l=function NE(n){return n>>16}(n),d=s;for(;l>0;)d=d[os],l--;return d}let T_=!0;function Gd(n){const s=T_;return T_=n,s}const Bl=255,Wd=5;let sC=0;const Ul={};function wf(n,s){const l=bg(n,s);if(-1!==l)return l;const d=s[J];d.firstCreatePass&&(n.injectorIndex=s.length,Af(d.data,n),Af(s,null),Af(d.blueprint,null));const f=wg(n,s),_=n.injectorIndex;if(bf(f)){const w=$d(f),S=jc(f,s),R=S[J].data;for(let $=0;$<8;$++)s[_+$]=S[w+$]|R[w+$]}return s[_+8]=f,_}function Af(n,s){n.push(0,0,0,0,0,0,0,0,s)}function bg(n,s){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===s[n.injectorIndex+8]?-1:n.injectorIndex}function wg(n,s){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let l=0,d=null,f=s;for(;null!==f;){if(d=x_(f),null===d)return zu;if(l++,f=f[os],-1!==d.injectorIndex)return d.injectorIndex|l<<16}return zu}function I_(n,s,l){!function kE(n,s,l){let d;"string"==typeof l?d=l.charCodeAt(0)||0:l.hasOwnProperty(is)&&(d=l[is]),null==d&&(d=l[is]=sC++);const f=d&Bl;s.data[n+(f>>Wd)]|=1<<f}(n,s,l)}function $o(n,s,l){if(l&cn.Optional||void 0!==n)return n;we()}function vl(n,s,l,d){if(l&cn.Optional&&void 0===d&&(d=null),!(l&(cn.Self|cn.Host))){const f=n[fr],_=Mi(void 0);try{return f?f.get(s,d,l&cn.Optional):ni(s,d,l&cn.Optional)}finally{Mi(_)}}return $o(d,0,l)}function S_(n,s,l,d=cn.Default,f){if(null!==n){if(2048&s[_e]&&!(d&cn.Self)){const w=function BE(n,s,l,d,f){let _=n,w=s;for(;null!==_&&null!==w&&2048&w[_e]&&!(512&w[_e]);){const S=D_(_,w,l,d|cn.Self,Ul);if(S!==Ul)return S;let R=_.parent;if(!R){const $=w[fl];if($){const te=$.get(l,Ul,d);if(te!==Ul)return te}R=x_(w),w=w[os]}_=R}return f}(n,s,l,d,Ul);if(w!==Ul)return w}const _=D_(n,s,l,d,Ul);if(_!==Ul)return _}return vl(s,l,d,f)}function D_(n,s,l,d,f){const _=function FE(n){if("string"==typeof n)return n.charCodeAt(0)||0;const s=n.hasOwnProperty(is)?n[is]:void 0;return"number"==typeof s?s>=0?s&Bl:VE:s}(l);if("function"==typeof _){if(!oe(s,n,d))return d&cn.Host?$o(f,0,d):vl(s,l,d,f);try{let w;if(w=_(d),null!=w||d&cn.Optional)return w;we()}finally{Yn()}}else if("number"==typeof _){let w=null,S=bg(n,s),R=zu,$=d&cn.Host?s[Ri][Yi]:null;for((-1===S||d&cn.SkipSelf)&&(R=-1===S?wg(n,s):s[S+8],R!==zu&&M_(d,!1)?(w=s[J],S=$d(R),s=jc(R,s)):S=-1);-1!==S;){const te=s[J];if(P_(_,S,te.data)){const de=LE(S,s,l,w,d,$);if(de!==Ul)return de}R=s[S+8],R!==zu&&M_(d,s[J].data[S+8]===$)&&P_(_,S,s)?(w=te,S=$d(R),s=jc(R,s)):S=-1}}return f}function LE(n,s,l,d,f,_){const w=s[J],S=w.data[n+8],te=Cf(S,w,l,null==d?gl(S)&&T_:d!=w&&0!=(3&S.type),f&cn.Host&&_===S);return null!==te?Hc(s,w,te,S):Ul}function Cf(n,s,l,d,f){const _=n.providerIndexes,w=s.data,S=1048575&_,R=n.directiveStart,te=_>>20,Pe=f?S+te:n.directiveEnd;for(let Le=d?S:S+te;Le<Pe;Le++){const mt=w[Le];if(Le<R&&l===mt||Le>=R&&mt.type===l)return Le}if(f){const Le=w[R];if(Le&&bi(Le)&&Le.type===l)return R}return null}function Hc(n,s,l,d){let f=n[l];const _=s.data;if(function w_(n){return n instanceof Bc}(f)){const w=f;w.resolving&&function Fo(n,s){const l=s?`. Dependency path: ${s.join(" > ")} > ${n}`:"";throw new Jt(-200,`Circular dependency in DI detected for ${n}${l}`)}(function Tn(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Cn(n)}(_[l]));const S=Gd(w.canSeeViewProviders);w.resolving=!0;const $=w.injectImpl?Mi(w.injectImpl):null;oe(n,d,cn.Default);try{f=n[l]=w.factory(void 0,_,n,d),s.firstCreatePass&&l>=d.directiveStart&&function zn(n,s,l){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:_}=s.type.prototype;if(d){const w=io(s);(l.preOrderHooks??=[]).push(n,w),(l.preOrderCheckHooks??=[]).push(n,w)}f&&(l.preOrderHooks??=[]).push(0-n,f),_&&((l.preOrderHooks??=[]).push(n,_),(l.preOrderCheckHooks??=[]).push(n,_))}(l,_[l],s)}finally{null!==$&&Mi($),Gd(S),w.resolving=!1,Yn()}}return f}function P_(n,s,l){return!!(l[s+(n>>Wd)]&1<<n)}function M_(n,s){return!(n&cn.Self||n&cn.Host&&s)}class as{constructor(s,l){this._tNode=s,this._lView=l}get(s,l,d){return S_(this._tNode,this._lView,s,ps(d),l)}}function VE(){return new as(qi(),Ct())}function Hl(n){return ss(()=>{const s=n.prototype.constructor,l=s[ar]||Cg(s),d=Object.prototype;let f=Object.getPrototypeOf(n.prototype).constructor;for(;f&&f!==d;){const _=f[ar]||Cg(f);if(_&&_!==l)return _;f=Object.getPrototypeOf(f)}return _=>new _})}function Cg(n){return zi(n)?()=>{const s=Cg(_n(n));return s&&s()}:fi(n)}function x_(n){const s=n[J],l=s.type;return 2===l?s.declTNode:1===l?n[Yi]:null}function Tf(n){return function Ag(n,s){if("class"===s)return n.classes;if("style"===s)return n.styles;const l=n.attrs;if(l){const d=l.length;let f=0;for(;f<d;){const _=l[f];if(wo(_))break;if(0===_)f+=2;else if("number"==typeof _)for(f++;f<d&&"string"==typeof l[f];)f++;else{if(_===s)return l[f+1];f+=2}}}return null}(qi(),n)}const $c="__parameters__";function qu(n,s,l){return ss(()=>{const d=function Tg(n){return function(...l){if(n){const d=n(...l);for(const f in d)this[f]=d[f]}}}(s);function f(..._){if(this instanceof f)return d.apply(this,_),this;const w=new f(..._);return S.annotation=w,S;function S(R,$,te){const de=R.hasOwnProperty($c)?R[$c]:Object.defineProperty(R,$c,{value:[]})[$c];for(;de.length<=te;)de.push(null);return(de[te]=de[te]||[]).push(w),R}}return l&&(f.prototype=Object.create(l.prototype)),f.prototype.ngMetadataName=n,f.annotationCls=f,f})}function Ms(n,s){n.forEach(l=>Array.isArray(l)?Ms(l,s):s(l))}function la(n,s,l){s>=n.length?n.push(l):n.splice(s,0,l)}function Df(n,s){return s>=n.length-1?n.pop():n.splice(s,1)[0]}function ca(n,s){const l=[];for(let d=0;d<n;d++)l.push(s);return l}function ua(n,s,l){let d=qc(n,s);return d>=0?n[1|d]=l:(d=~d,function uC(n,s,l,d){let f=n.length;if(f==s)n.push(l,d);else if(1===f)n.push(d,n[0]),n[0]=l;else{for(f--,n.push(n[f-1],n[f]);f>s;)n[f]=n[f-2],f--;n[s]=l,n[s+1]=d}}(n,d,s,l)),d}function Ig(n,s){const l=qc(n,s);if(l>=0)return n[1|l]}function qc(n,s){return function dC(n,s,l){let d=0,f=n.length>>l;for(;f!==d;){const _=d+(f-d>>1),w=n[_<<l];if(s===w)return _<<l;w>s?f=_:d=_+1}return~(f<<l)}(n,s,1)}const Kd=bo(qu("Optional"),8),Sg=bo(qu("SkipSelf"),4),Zu=new on("ENVIRONMENT_INITIALIZER"),Mf=new on("INJECTOR",-1),xf=new on("INJECTOR_DEF_TYPES");class zl{get(s,l=Fa){if(l===Fa){const d=new Error(`NullInjectorError: No provider for ${si(s)}!`);throw d.name="NullInjectorError",d}return l}}function Rg(n){return{\u0275providers:n}}function qE(...n){return{\u0275providers:Kc(0,n),\u0275fromNgModule:!0}}function Kc(n,...s){const l=[],d=new Set;let f;const _=w=>{l.push(w)};return Ms(s,w=>{const S=w;Sa(S,_,[],d)&&(f||=[],f.push(S))}),void 0!==f&&Fr(f,_),l}function Fr(n,s){for(let l=0;l<n.length;l++){const{ngModule:d,providers:f}=n[l];Qd(f,_=>{s(_,d)})}}function Sa(n,s,l,d){if(!(n=_n(n)))return!1;let f=null,_=jt(n);const w=!_&&Wn(n);if(_||w){if(w&&!w.standalone)return!1;f=n}else{const R=n.ngModule;if(_=jt(R),!_)return!1;f=R}const S=d.has(f);if(w){if(S)return!1;if(d.add(f),w.dependencies){const R="function"==typeof w.dependencies?w.dependencies():w.dependencies;for(const $ of R)Sa($,s,l,d)}}else{if(!_)return!1;{if(null!=_.imports&&!S){let $;d.add(f);try{Ms(_.imports,te=>{Sa(te,s,l,d)&&($||=[],$.push(te))})}finally{}void 0!==$&&Fr($,s)}if(!S){const $=fi(f)||(()=>new f);s({provide:f,useFactory:$,deps:Bn},f),s({provide:xf,useValue:f,multi:!0},f),s({provide:Zu,useValue:()=>Dr(f),multi:!0},f)}const R=_.providers;if(null!=R&&!S){const $=n;Qd(R,te=>{s(te,$)})}}}return f!==n&&void 0!==n.providers}function Qd(n,s){for(let l of n)yr(l)&&(l=l.\u0275providers),Array.isArray(l)?Qd(l,s):s(l)}const KE=An({provide:String,useValue:An});function Zd(n){return null!==n&&"object"==typeof n&&KE in n}function Do(n){return"function"==typeof n}const H_=new on("Set Injector scope."),Of={},YE={};let Ng;function Xu(){return void 0===Ng&&(Ng=new zl),Ng}class Po{}class da extends Po{get destroyed(){return this._destroyed}constructor(s,l,d,f){super(),this.parent=l,this.source=d,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,G_(s,w=>this.processProvider(w)),this.records.set(Mf,Qc(void 0,this)),f.has("environment")&&this.records.set(Po,Qc(void 0,this));const _=this.records.get(H_);null!=_&&"string"==typeof _.value&&this.scopes.add(_.value),this.injectorDefTypes=new Set(this.get(xf,Bn,cn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();const s=this._onDestroyHooks;this._onDestroyHooks=[];for(const l of s)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(s){return this.assertNotDestroyed(),this._onDestroyHooks.push(s),()=>this.removeOnDestroy(s)}runInContext(s){this.assertNotDestroyed();const l=vr(this),d=Mi(void 0);try{return s()}finally{vr(l),Mi(d)}}get(s,l=Fa,d=cn.Default){if(this.assertNotDestroyed(),s.hasOwnProperty(Vs))return s[Vs](this);d=ps(d);const _=vr(this),w=Mi(void 0);try{if(!(d&cn.SkipSelf)){let R=this.records.get(s);if(void 0===R){const $=function XE(n){return"function"==typeof n||"object"==typeof n&&n instanceof on}(s)&&Se(s);R=$&&this.injectableDefInScope($)?Qc(z_(s),Of):null,this.records.set(s,R)}if(null!=R)return this.hydrate(s,R)}return(d&cn.Self?Xu():this.parent).get(s,l=d&cn.Optional&&l===Fa?null:l)}catch(S){if("NullInjectorError"===S.name){if((S[Va]=S[Va]||[]).unshift(si(s)),_)throw S;return function Pl(n,s,l,d){const f=n[Va];throw s[ya]&&f.unshift(s[ya]),n.message=function Ba(n,s,l,d=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let f=si(s);if(Array.isArray(s))f=s.map(si).join(" -> ");else if("object"==typeof s){let _=[];for(let w in s)if(s.hasOwnProperty(w)){let S=s[w];_.push(w+":"+("string"==typeof S?JSON.stringify(S):si(S)))}f=`{${_.join(", ")}}`}return`${l}${d?"("+d+")":""}[${f}]: ${n.replace(rs,"\n  ")}`}("\n"+n.message,f,l,d),n.ngTokenPath=f,n[Va]=null,n}(S,s,"R3InjectorError",this.source)}throw S}finally{Mi(w),vr(_)}}resolveInjectorInitializers(){const s=vr(this),l=Mi(void 0);try{const f=this.get(Zu,Bn,cn.Self);for(const _ of f)_()}finally{vr(s),Mi(l)}}toString(){const s=[],l=this.records;for(const d of l.keys())s.push(si(d));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Jt(205,!1)}processProvider(s){let l=Do(s=_n(s))?s:_n(s&&s.provide);const d=function kf(n){return Zd(n)?Qc(void 0,n.useValue):Qc($_(n),Of)}(s);if(Do(s)||!0!==s.multi)this.records.get(l);else{let f=this.records.get(l);f||(f=Qc(void 0,Of,!0),f.factory=()=>va(f.multi),this.records.set(l,f)),l=s,f.multi.push(s)}this.records.set(l,d)}hydrate(s,l){return l.value===Of&&(l.value=YE,l.value=l.factory()),"object"==typeof l.value&&l.value&&function ZE(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(s){if(!s.providedIn)return!1;const l=_n(s.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}removeOnDestroy(s){const l=this._onDestroyHooks.indexOf(s);-1!==l&&this._onDestroyHooks.splice(l,1)}}function z_(n){const s=Se(n),l=null!==s?s.factory:fi(n);if(null!==l)return l;if(n instanceof on)throw new Jt(204,!1);if(n instanceof Function)return function Nf(n){const s=n.length;if(s>0)throw ca(s,"?"),new Jt(204,!1);const l=function St(n){return n&&(n[Gt]||n[bn])||null}(n);return null!==l?()=>l.factory(n):()=>new n}(n);throw new Jt(204,!1)}function $_(n,s,l){let d;if(Do(n)){const f=_n(n);return fi(f)||z_(f)}if(Zd(n))d=()=>_n(n.useValue);else if(function Og(n){return!(!n||!n.useFactory)}(n))d=()=>n.useFactory(...va(n.deps||[]));else if(function Yc(n){return!(!n||!n.useExisting)}(n))d=()=>Dr(_n(n.useExisting));else{const f=_n(n&&(n.useClass||n.provide));if(!function QE(n){return!!n.deps}(n))return fi(f)||z_(f);d=()=>new f(...va(n.deps))}return d}function Qc(n,s,l=!1){return{factory:n,value:s,multi:l?[]:void 0}}function G_(n,s){for(const l of n)Array.isArray(l)?G_(l,s):l&&yr(l)?G_(l.\u0275providers,s):s(l)}function W_(n,s){n instanceof da&&n.assertNotDestroyed();const d=vr(n),f=Mi(void 0);try{return s()}finally{vr(d),Mi(f)}}function kg(n){if(!Ei()&&!function vo(){return na}())throw new Jt(-203,!1)}function eb(n,s=null,l=null,d){const f=Q_(n,s,l,d);return f.resolveInjectorInitializers(),f}function Q_(n,s=null,l=null,d,f=new Set){const _=[l||Bn,qE(n)];return d=d||("object"==typeof n?void 0:si(n)),new da(_,s||Xu(),d||null,f)}let ed,Qa=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=Fa;static#t=this.NULL=new zl;static create(l,d){if(Array.isArray(l))return eb({name:""},d,l,"");{const f=l.name??"";return eb({name:f},l.parent,l.providers,f)}}static#n=this.\u0275prov=vi({token:n,providedIn:"any",factory:()=>Dr(Mf)});static#i=this.__NG_ELEMENT_ID__=-1}return n})();function Zc(n){return!!hr(n)}function Wo(n){ed=n}function ms(){if(void 0!==ed)return ed;if(typeof document<"u")return document;throw new Jt(210,!1)}const Bf=new on("AppId",{providedIn:"root",factory:()=>_s}),_s="ng",Xc=new on("Platform Initializer"),Jd=new on("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),bl=new on("AnimationModuleType"),mc=new on("CSP nonce",{providedIn:"root",factory:()=>ms().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function X_(n){return n.ownerDocument}function oo(n){return n instanceof Function?n():n}function Pa(n){return 128==(128&n.flags)}var ih=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(ih||{});const ob=/^>|^->|<!--|-->|--!>|<!-$/g,jg=/(<|>)/g,id="\u200b$1\u200b";const rh=new Map;let Hg=0;const Ma="__ngContext__";function Ws(n,s){Tr(s)?(n[Ma]=s[pr],function sy(n){rh.set(n[pr],n)}(s)):n[Ma]=s}let Yf;function Qf(n,s){return Yf(n,s)}function sh(n){const s=n[Rt];return Lr(s)?s[Rt]:s}function Wg(n){return uy(n[Rl])}function qg(n){return uy(n[kn])}function uy(n){for(;null!==n&&!Lr(n);)n=n[kn];return n}function rd(n,s,l,d,f){if(null!=d){let _,w=!1;Lr(d)?_=d:Tr(d)&&(w=!0,d=d[V]);const S=Qi(d);0===n&&null!==l?null==f?T(s,l,S):E(s,l,S,f||null,!0):1===n&&null!==l?E(s,l,S,f||null,!0):2===n?function It(n,s,l){const d=Y(n,s);d&&function N(n,s,l,d){n.removeChild(s,l,d)}(n,d,s,l)}(s,S,w):3===n&&s.destroyNode(S),null!=_&&function Vi(n,s,l,d,f){const _=l[Ho];_!==Qi(l)&&rd(s,n,d,_,f);for(let S=Wi;S<l.length;S++){const R=l[S];Ft(R[J],R,n,s,d,_)}}(s,n,_,l,f)}}function Kg(n,s){return n.createComment(function Gf(n){return n.replace(ob,s=>s.replace(jg,id))}(s))}function Xf(n,s,l){return n.createElement(s,l)}function fy(n,s){const l=n[cc],d=l.indexOf(s);l.splice(d,1)}function C(n,s){if(n.length<=Wi)return;const l=Wi+s,d=n[l];if(d){const f=d[Ol];null!==f&&f!==n&&fy(f,d),s>0&&(n[l-1][kn]=d[kn]);const _=Df(n,Wi+s);!function Qr(n,s){Ft(n,s,s[Hn],2,null,null),s[V]=null,s[Yi]=null}(d[J],d);const w=_[js];null!==w&&w.detachView(_[J]),d[Rt]=null,d[kn]=null,d[_e]&=-129}return d}function i(n,s){if(!(256&s[_e])){const l=s[Hn];l.destroyNode&&Ft(n,s,l,3,null,null),function oh(n){let s=n[Rl];if(!s)return o(n[J],n);for(;s;){let l=null;if(Tr(s))l=s[Rl];else{const d=s[Wi];d&&(l=d)}if(!l){for(;s&&!s[kn]&&s!==n;)Tr(s)&&o(s[J],s),s=s[Rt];null===s&&(s=n),Tr(s)&&o(s[J],s),l=s&&s[kn]}s=l}}(s)}}function o(n,s){if(!(256&s[_e])){s[_e]&=-129,s[_e]|=256,s[zs]&&sn(s[zs]),function p(n,s){let l;if(null!=n&&null!=(l=n.destroyHooks))for(let d=0;d<l.length;d+=2){const f=s[l[d]];if(!(f instanceof Bc)){const _=l[d+1];if(Array.isArray(_))for(let w=0;w<_.length;w+=2){const S=f[_[w]],R=_[w+1];To(4,S,R);try{R.call(S)}finally{To(5,S,R)}}else{To(4,f,_);try{_.call(f)}finally{To(5,f,_)}}}}}(n,s),function u(n,s){const l=n.cleanup,d=s[jo];if(null!==l)for(let _=0;_<l.length-1;_+=2)if("string"==typeof l[_]){const w=l[_+3];w>=0?d[w]():d[-w].unsubscribe(),_+=2}else l[_].call(d[l[_+1]]);null!==d&&(s[jo]=null);const f=s[Hs];if(null!==f){s[Hs]=null;for(let _=0;_<f.length;_++)(0,f[_])()}}(n,s),1===s[J].type&&s[Hn].destroy();const l=s[Ol];if(null!==l&&Lr(s[Rt])){l!==s[Rt]&&fy(l,s);const d=s[js];null!==d&&d.detachView(n)}!function zg(n){rh.delete(n[pr])}(s)}}function g(n,s,l){return function y(n,s,l){let d=s;for(;null!==d&&40&d.type;)d=(s=d).parent;if(null===d)return l[V];{const{componentOffset:f}=d;if(f>-1){const{encapsulation:_}=n.data[d.directiveStart+f];if(_===Bs.None||_===Bs.Emulated)return null}return $s(d,l)}}(n,s.parent,l)}function E(n,s,l,d,f){n.insertBefore(s,l,d,f)}function T(n,s,l){n.appendChild(s,l)}function x(n,s,l,d,f){null!==d?E(n,s,l,d,f):T(n,s,l)}function Y(n,s){return n.parentNode(s)}function le(n,s,l){return Fe(n,s,l)}let Te,Zn,Cl,Fe=function me(n,s,l){return 40&n.type?$s(n,l):null};function ht(n,s,l,d){const f=g(n,d,s),_=s[Hn],S=le(d.parent||s[Yi],d,s);if(null!=f)if(Array.isArray(l))for(let R=0;R<l.length;R++)x(_,f,l[R],S,!1);else x(_,f,l,S,!1);void 0!==Te&&Te(_,d,s,l,f)}function dt(n,s){if(null!==s){const l=s.type;if(3&l)return $s(s,n);if(4&l)return Et(-1,n[s.index]);if(8&l){const d=s.child;if(null!==d)return dt(n,d);{const f=n[s.index];return Lr(f)?Et(-1,f):Qi(f)}}if(32&l)return Qf(s,n)()||Qi(n[s.index]);{const d=At(n,s);return null!==d?Array.isArray(d)?d[0]:dt(sh(n[Ri]),d):dt(n,s.next)}}return null}function At(n,s){return null!==s?n[Ri][Yi].projection[s.projection]:null}function Et(n,s){const l=Wi+n+1;if(l<s.length){const d=s[l],f=d[J].firstChild;if(null!==f)return dt(d,f)}return s[Ho]}function st(n,s,l,d,f,_,w){for(;null!=l;){const S=d[l.index],R=l.type;if(w&&0===s&&(S&&Ws(Qi(S),d),l.flags|=2),32!=(32&l.flags))if(8&R)st(n,s,l.child,d,f,_,!1),rd(s,n,f,S,_);else if(32&R){const $=Qf(l,d);let te;for(;te=$();)rd(s,n,f,te,_);rd(s,n,f,S,_)}else 16&R?Di(n,s,d,l,f,_):rd(s,n,f,S,_);l=w?l.projectionNext:l.next}}function Ft(n,s,l,d,f,_){st(l,d,n.firstChild,s,f,_,!1)}function Di(n,s,l,d,f,_){const w=l[Ri],R=w[Yi].projection[d.projection];if(Array.isArray(R))for(let $=0;$<R.length;$++)rd(s,n,f,R[$],_);else{let $=R;const te=w[Rt];Pa(d)&&($.flags|=128),st(n,s,$,te,f,_,!0)}}function vs(n,s,l){""===l?n.removeAttribute(s,"class"):n.setAttribute(s,"class",l)}function Qn(n,s,l){const{mergedAttrs:d,classes:f,styles:_}=l;null!==d&&Ua(n,s,d),null!==f&&vs(n,s,f),null!==_&&function Vr(n,s,l){n.setAttribute(s,"style",l)}(n,s,_)}function Xa(n){return function od(){if(void 0===Zn&&(Zn=null,Dt.trustedTypes))try{Zn=Dt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Zn}()?.createHTML(n)||n}function Ra(){if(void 0===Cl&&(Cl=null,Dt.trustedTypes))try{Cl=Dt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Cl}function Br(n){return Ra()?.createHTML(n)||n}function lh(n){return Ra()?.createScriptURL(n)||n}class ch{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Dn})`}}class Yg extends ch{getTypeName(){return"HTML"}}class DD extends ch{getTypeName(){return"Style"}}class db extends ch{getTypeName(){return"Script"}}class PD extends ch{getTypeName(){return"URL"}}class hb extends ch{getTypeName(){return"ResourceURL"}}function iu(n){return n instanceof ch?n.changingThisBreaksApplicationSecurity:n}function ld(n,s){const l=function MD(n){return n instanceof ch&&n.getTypeName()||null}(n);if(null!=l&&l!==s){if("ResourceURL"===l&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${l} (see ${Dn})`)}return l===s}function xD(n){return new Yg(n)}function fb(n){return new DD(n)}function Qg(n){return new db(n)}function RD(n){return new PD(n)}function OD(n){return new hb(n)}class kR{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const l=(new window.DOMParser).parseFromString(Xa(s),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(s):(l.removeChild(l.firstChild),l)}catch{return null}}}class wC{constructor(s){this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(s){const l=this.inertDocument.createElement("template");return l.innerHTML=Xa(s),l}}const ND=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function uh(n){return(n=String(n)).match(ND)?n:"unsafe:"+n}function ud(n){const s={};for(const l of n.split(","))s[l]=!0;return s}function py(...n){const s={};for(const l of n)for(const d in l)l.hasOwnProperty(d)&&(s[d]=!0);return s}const kD=ud("area,br,col,hr,img,wbr"),AC=ud("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ep=ud("rp,rt"),gy=py(kD,py(AC,ud("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),py(ep,ud("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),py(ep,AC)),Xg=ud("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),FD=py(Xg,ud("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ud("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),pb=ud("script,style,template");class my{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let l=s.firstChild,d=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?d=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,d&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let f=this.checkClobberedElement(l,l.nextSibling);if(f){l=f;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(s){const l=s.nodeName.toLowerCase();if(!gy.hasOwnProperty(l))return this.sanitizedSomething=!0,!pb.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const d=s.attributes;for(let f=0;f<d.length;f++){const _=d.item(f),w=_.name,S=w.toLowerCase();if(!FD.hasOwnProperty(S)){this.sanitizedSomething=!0;continue}let R=_.value;Xg[S]&&(R=uh(R)),this.buf.push(" ",w,'="',VD(R),'"')}return this.buf.push(">"),!0}endElement(s){const l=s.nodeName.toLowerCase();gy.hasOwnProperty(l)&&!kD.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(s){this.buf.push(VD(s))}checkClobberedElement(s,l){if(l&&(s.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return l}}const TC=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,IC=/([^\#-~ |!])/g;function VD(n){return n.replace(/&/g,"&amp;").replace(TC,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(IC,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let tp;function _y(n,s){let l=null;try{tp=tp||function Zg(n){const s=new wC(n);return function cd(){try{return!!(new window.DOMParser).parseFromString(Xa(""),"text/html")}catch{return!1}}()?new kR(s):s}(n);let d=s?String(s):"";l=tp.getInertBodyElement(d);let f=5,_=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=_,_=l.innerHTML,l=tp.getInertBodyElement(d)}while(d!==_);return Xa((new my).sanitizeChildren(Jg(l)||l))}finally{if(l){const d=Jg(l)||l;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Jg(n){return"content"in n&&function yy(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var ru=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(ru||{});function gb(n){const s=dh();return s?Br(s.sanitize(ru.HTML,n)||""):ld(n,"HTML")?Br(iu(n)):_y(ms(),Cn(n))}function vy(n){const s=dh();return s?s.sanitize(ru.URL,n)||"":ld(n,"URL")?iu(n):uh(Cn(n))}function Ey(n){const s=dh();if(s)return lh(s.sanitize(ru.RESOURCE_URL,n)||"");if(ld(n,"ResourceURL"))return lh(iu(n));throw new Jt(904,!1)}function SC(n,s,l){return function vb(n,s){return"src"===s&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===s&&("base"===n||"link"===n)?Ey:vy}(s,l)(n)}function dh(){const n=Ct();return n&&n[hl].sanitizer}let wy=(n,s,l)=>null;function im(n,s,l=!1){return wy(n,s,l)}class jD{}class Cy{}class GR{resolveComponentFactory(s){throw function $R(n){const s=Error(`No component factory found for ${si(n)}.`);return s.ngComponent=n,s}(s)}}let sm=(()=>{class n{static#e=this.NULL=new GR}return n})();function Tb(){return sp(qi(),Ct())}function sp(n,s){return new ph($s(n,s))}let ph=(()=>{class n{constructor(l){this.nativeElement=l}static#e=this.__NG_ELEMENT_ID__=Tb}return n})();function WR(n){return n instanceof ph?n.nativeElement:n}class kC{}let HD=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function zD(){const n=Ct(),l=ro(qi().index,n);return(Tr(l)?l:n)[Hn]}()}return n})(),$D=(()=>{class n{static#e=this.\u0275prov=vi({token:n,providedIn:"root",factory:()=>null})}return n})();class GD{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const WD=new GD("17.0.7"),LC={};function Ib(n,s){const l=function We(n){const s=Object.create(Ge);s.computation=n;const l=()=>{if(De(s),Ee(s),s.value===tt)throw s.error;return s.value};return l[G]=s,l}(n);return s?.equal&&(l[G].equal=s.equal),l}function qD(n,s){const l=function Ke(n){const s=Object.create(Rn);s.value=n;const l=()=>(Ee(s),s.value);return l[G]=s,l}(n),d=l[G];return s?.equal&&(d.equal=s.equal),l.set=f=>vt(d,f),l.update=f=>function kt(n,s){xe()||yn(),vt(n,s(n.value))}(d,f),l.asReadonly=KD.bind(l),l}function KD(){const n=this[G];if(void 0===n.readonlyFn){const s=()=>this();s[G]=n,n.readonlyFn=s}return n.readonlyFn}function qR(n){const s=z(null);try{return n()}finally{z(s)}}function Sb(n){return!!FC(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function FC(n){return null!==n&&("function"==typeof n||"object"==typeof n)}class Iy{constructor(){}supports(s){return Sb(s)}create(s){return new Db(s)}}const gh=(n,s)=>s;class Db{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||gh}forEachItem(s){let l;for(l=this._itHead;null!==l;l=l._next)s(l)}forEachOperation(s){let l=this._itHead,d=this._removalsHead,f=0,_=null;for(;l||d;){const w=!d||l&&l.currentIndex<QD(d,f,_)?l:d,S=QD(w,f,_),R=w.currentIndex;if(w===d)f--,d=d._nextRemoved;else if(l=l._next,null==w.previousIndex)f++;else{_||(_=[]);const $=S-f,te=R-f;if($!=te){for(let Pe=0;Pe<$;Pe++){const Le=Pe<_.length?_[Pe]:_[Pe]=0,mt=Le+Pe;te<=mt&&mt<$&&(_[Pe]=Le+1)}_[w.previousIndex]=te-$}}S!==R&&s(w,S,R)}}forEachPreviousItem(s){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)s(l)}forEachAddedItem(s){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)s(l)}forEachMovedItem(s){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)s(l)}forEachRemovedItem(s){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)s(l)}forEachIdentityChange(s){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)s(l)}diff(s){if(null==s&&(s=[]),!Sb(s))throw new Jt(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let f,_,w,l=this._itHead,d=!1;if(Array.isArray(s)){this.length=s.length;for(let S=0;S<this.length;S++)_=s[S],w=this._trackByFn(S,_),null!==l&&Object.is(l.trackById,w)?(d&&(l=this._verifyReinsertion(l,_,w,S)),Object.is(l.item,_)||this._addIdentityChange(l,_)):(l=this._mismatch(l,_,w,S),d=!0),l=l._next}else f=0,function YR(n,s){if(Array.isArray(n))for(let l=0;l<n.length;l++)s(n[l]);else{const l=n[Symbol.iterator]();let d;for(;!(d=l.next()).done;)s(d.value)}}(s,S=>{w=this._trackByFn(f,S),null!==l&&Object.is(l.trackById,w)?(d&&(l=this._verifyReinsertion(l,S,w,f)),Object.is(l.item,S)||this._addIdentityChange(l,S)):(l=this._mismatch(l,S,w,f),d=!0),l=l._next,f++}),this.length=f;return this._truncate(l),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,l,d,f){let _;return null===s?_=this._itTail:(_=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(s.item,l)||this._addIdentityChange(s,l),this._reinsertAfter(s,_,f)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(s.item,l)||this._addIdentityChange(s,l),this._moveAfter(s,_,f)):s=this._addAfter(new QR(l,d),_,f),s}_verifyReinsertion(s,l,d,f){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==_?s=this._reinsertAfter(_,s._prev,f):s.currentIndex!=f&&(s.currentIndex=f,this._addToMoves(s,f)),s}_truncate(s){for(;null!==s;){const l=s._next;this._addToRemovals(this._unlink(s)),s=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,l,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const f=s._prevRemoved,_=s._nextRemoved;return null===f?this._removalsHead=_:f._nextRemoved=_,null===_?this._removalsTail=f:_._prevRemoved=f,this._insertAfter(s,l,d),this._addToMoves(s,d),s}_moveAfter(s,l,d){return this._unlink(s),this._insertAfter(s,l,d),this._addToMoves(s,d),s}_addAfter(s,l,d){return this._insertAfter(s,l,d),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,l,d){const f=null===l?this._itHead:l._next;return s._next=f,s._prev=l,null===f?this._itTail=s:f._prev=s,null===l?this._itHead=s:l._next=s,null===this._linkedRecords&&(this._linkedRecords=new VC),this._linkedRecords.put(s),s.currentIndex=d,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const l=s._prev,d=s._next;return null===l?this._itHead=d:l._next=d,null===d?this._itTail=l:d._prev=l,s}_addToMoves(s,l){return s.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new VC),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,l){return s.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class QR{constructor(s,l){this.item=s,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class YD{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,l){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===l||l<=d.currentIndex)&&Object.is(d.trackById,s))return d;return null}remove(s){const l=s._prevDup,d=s._nextDup;return null===l?this._head=d:l._nextDup=d,null===d?this._tail=l:d._prevDup=l,null===this._head}}class VC{constructor(){this.map=new Map}put(s){const l=s.trackById;let d=this.map.get(l);d||(d=new YD,this.map.set(l,d)),d.add(s)}get(s,l){const f=this.map.get(s);return f?f.get(s,l):null}remove(s){const l=s.trackById;return this.map.get(l).remove(s)&&this.map.delete(l),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function QD(n,s,l){const d=n.previousIndex;if(null===d)return d;let f=0;return l&&d<l.length&&(f=l[d]),d+s+f}class BC{constructor(){}supports(s){return s instanceof Map||FC(s)}create(){return new ZD}}class ZD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let l;for(l=this._mapHead;null!==l;l=l._next)s(l)}forEachPreviousItem(s){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)s(l)}forEachChangedItem(s){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)s(l)}forEachAddedItem(s){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)s(l)}forEachRemovedItem(s){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)s(l)}diff(s){if(s){if(!(s instanceof Map||FC(s)))throw new Jt(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(s,(d,f)=>{if(l&&l.key===f)this._maybeAddToChanges(l,d),this._appendAfter=l,l=l._next;else{const _=this._getOrCreateRecordForKey(f,d);l=this._insertBeforeOrAppend(l,_)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let d=l;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,l){if(s){const d=s._prev;return l._next=s,l._prev=d,s._prev=l,d&&(d._next=l),s===this._mapHead&&(this._mapHead=l),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(s,l){if(this._records.has(s)){const f=this._records.get(s);this._maybeAddToChanges(f,l);const _=f._prev,w=f._next;return _&&(_._next=w),w&&(w._prev=_),f._next=null,f._prev=null,f}const d=new Pb(s);return this._records.set(s,d),d.currentValue=l,this._addToAdditions(d),d}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,l){Object.is(l,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=l,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,l){s instanceof Map?s.forEach(l):Object.keys(s).forEach(d=>l(s[d],d))}}class Pb{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Sy(){return new UC([new Iy])}let UC=(()=>{class n{static#e=this.\u0275prov=vi({token:n,providedIn:"root",factory:Sy});constructor(l){this.factories=l}static create(l,d){if(null!=d){const f=d.factories.slice();l=l.concat(f)}return new n(l)}static extend(l){return{provide:n,useFactory:d=>n.create(l,d||Sy()),deps:[[n,new Sg,new Kd]]}}find(l){const d=this.factories.find(f=>f.supports(l));if(null!=d)return d;throw new Jt(901,!1)}}return n})();function xb(){return new Rb([new BC])}let Rb=(()=>{class n{static#e=this.\u0275prov=vi({token:n,providedIn:"root",factory:xb});constructor(l){this.factories=l}static create(l,d){if(d){const f=d.factories.slice();l=l.concat(f)}return new n(l)}static extend(l){return{provide:n,useFactory:d=>n.create(l,d||xb()),deps:[[n,new Sg,new Kd]]}}find(l){const d=this.factories.find(f=>f.supports(l));if(d)return d;throw new Jt(901,!1)}}return n})();function Dy(n,s,l,d,f=!1){for(;null!==l;){const _=s[l.index];null!==_&&d.push(Qi(_)),Lr(_)&&jC(_,d);const w=l.type;if(8&w)Dy(n,s,l.child,d);else if(32&w){const S=Qf(l,s);let R;for(;R=S();)d.push(R)}else if(16&w){const S=At(s,l);if(Array.isArray(S))d.push(...S);else{const R=sh(s[Ri]);Dy(R[J],R,S,d,!0)}}l=f?l.projectionNext:l.next}return d}function jC(n,s){for(let l=Wi;l<n.length;l++){const d=n[l],f=d[J].firstChild;null!==f&&Dy(d[J],d,f,s)}n[Ho]!==n[V]&&s.push(n[Ho])}let JD=[];const Ob={...ae,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Bu(n.lView)},consumerOnSignalRead(){this.lView[zs]=this}};function Nb(n){return n.ngOriginalError}class Ec{constructor(){this._console=console}handleError(s){const l=this._findOriginalError(s);this._console.error("ERROR",s),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(s){let l=s&&Nb(s);for(;l&&Nb(l);)l=Nb(l);return l||null}}const $C=new on("",{providedIn:"root",factory:()=>li(Ec).handleError.bind(void 0)}),WC=new on("",{providedIn:"root",factory:()=>!1}),ri={};function XC(n){JC(Ci(),Ct(),br()+n,!1)}function JC(n,s,l,d){if(!d)if(3==(3&s[_e])){const _=n.preOrderCheckHooks;null!==_&&Vl(s,_,l)}else{const _=n.preOrderHooks;null!==_&&aa(s,_,0,l)}Si(l)}function om(n,s=cn.Default){const l=Ct();return null===l?Dr(n,s):S_(qi(),l,_n(n),s)}function eT(){throw new Error("invalid")}function xy(n,s,l,d,f,_,w,S,R,$,te){const de=s.blueprint.slice();return de[V]=f,de[_e]=140|d,(null!==$||n&&2048&n[_e])&&(de[_e]|=2048),ui(de),de[Rt]=de[os]=n,de[xi]=l,de[hl]=w||n&&n[hl],de[Hn]=S||n&&n[Hn],de[fr]=R||n&&n[fr]||null,de[Yi]=_,de[pr]=function ab(){return Hg++}(),de[Wr]=te,de[fl]=$,de[Ri]=2==s.type?n[Ri]:de,de}function lp(n,s,l,d,f){let _=n.data[s];if(null===_)_=function Lb(n,s,l,d,f){const _=y_(),w=vf(),R=n.data[s]=function Hb(n,s,l,d,f,_){let w=s?s.injectorIndex:-1,S=0;return Ll()&&(S|=128),{type:l,index:d,insertBeforeIndex:null,injectorIndex:w,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:S,providerIndexes:0,value:f,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?_:_&&_.parent,l,s,d,f);return null===n.firstChild&&(n.firstChild=R),null!==_&&(w?null==_.child&&null!==R.parent&&(_.child=R):null===_.next&&(_.next=R,R.prev=_)),R}(n,s,l,d,f),function vg(){return xn.lFrame.inI18n}()&&(_.flags|=32);else if(64&_.type){_.type=l,_.value=d,_.attrs=f;const w=function Fc(){const n=xn.lFrame,s=n.currentTNode;return n.isParent?s:s.parent}();_.injectorIndex=null===w?-1:w.injectorIndex}return Ka(_,!0),_}function am(n,s,l,d){if(0===l)return-1;const f=s.length;for(let _=0;_<l;_++)s.push(d),n.blueprint.push(d),n.data.push(null);return f}function lm(n,s,l,d,f){const _=br(),w=2&d;try{Si(-1),w&&s.length>qn&&JC(n,s,qn,!1),To(w?2:0,f),l(d,f)}finally{Si(_),To(w?3:1,f)}}function Fb(n,s,l){if(xc(s)){const d=z(null);try{const _=s.directiveEnd;for(let w=s.directiveStart;w<_;w++){const S=n.data[w];S.contentQueries&&S.contentQueries(1,l[w],w)}}finally{z(d)}}}function Vb(n,s,l){Ld()&&(function Wb(n,s,l,d){const f=l.directiveStart,_=l.directiveEnd;gl(l)&&function n1(n,s,l){const d=$s(s,n),f=Ry(l);let w=16;l.signals?w=4096:l.onPush&&(w=64);const S=Ly(n,xy(n,f,null,w,d,s,null,n[hl].rendererFactory.createRenderer(d,l),null,null,null));n[s.index]=S}(s,l,n.data[f+l.componentOffset]),n.firstCreatePass||wf(l,s),Ws(d,s);const w=l.initialInputs;for(let S=f;S<_;S++){const R=n.data[S],$=Hc(s,n,S,l);Ws($,s),null!==w&&Kb(0,S-f,$,R,0,w),bi(R)&&(ro(l.index,s)[xi]=Hc(s,n,S,l))}}(n,s,l,$s(l,s)),64==(64&l.flags)&&iT(n,s,l))}function Bb(n,s,l=$s){const d=s.localNames;if(null!==d){let f=s.index+1;for(let _=0;_<d.length;_+=2){const w=d[_+1],S=-1===w?l(s,n):n[w];n[f++]=S}}}function Ry(n){const s=n.tView;return null===s||s.incompleteFirstPass?n.tView=Ub(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):s}function Ub(n,s,l,d,f,_,w,S,R,$,te){const de=qn+d,Pe=de+f,Le=function oP(n,s){const l=[];for(let d=0;d<s;d++)l.push(d<n?null:ri);return l}(de,Pe),mt="function"==typeof $?$():$;return Le[J]={type:n,blueprint:Le,template:l,queries:null,viewQuery:S,declTNode:s,data:Le.slice().fill(null,de),bindingStartIndex:de,expandoStartIndex:Pe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:R,consts:mt,incompleteFirstPass:!1,ssrId:te}}let jb=n=>null;function dP(n,s,l,d){for(let f in n)if(n.hasOwnProperty(f)){l=null===l?{}:l;const _=n[f];null===d?Oy(l,s,f,_):d.hasOwnProperty(f)&&Oy(l,s,d[f],_)}return l}function Oy(n,s,l,d){n.hasOwnProperty(l)?n[l].push(s,d):n[l]=[s,d]}function Tl(n,s,l,d,f,_,w,S){const R=$s(s,l);let te,$=s.inputs;!S&&null!=$&&(te=$[d])?(Vy(n,l,te,d,f),gl(s)&&function $b(n,s){const l=ro(s,n);16&l[_e]||(l[_e]|=64)}(l,s.index)):3&s.type&&(d=function zb(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(d),f=null!=w?w(f,s.value||"",d):f,_.setProperty(R,d,f))}function nT(n,s,l,d){if(Ld()){const f=null===d?null:{"":-1},_=function fP(n,s){const l=n.directiveRegistry;let d=null,f=null;if(l)for(let _=0;_<l.length;_++){const w=l[_];if(Uo(s,w.selectors,!1))if(d||(d=[]),bi(w))if(null!==w.findHostDirectiveDefs){const S=[];f=f||new Map,w.findHostDirectiveDefs(w,S,f),d.unshift(...S,w),cm(n,s,S.length)}else d.unshift(w),cm(n,s,0);else f=f||new Map,w.findHostDirectiveDefs?.(w,d,f),d.push(w)}return null===d?null:[d,f]}(n,l);let w,S;null===_?w=S=null:[w,S]=_,null!==w&&Ny(n,s,l,w,f,S),f&&function pP(n,s,l){if(s){const d=n.localNames=[];for(let f=0;f<s.length;f+=2){const _=l[s[f+1]];if(null==_)throw new Jt(-301,!1);d.push(s[f],_)}}}(l,d,f)}l.mergedAttrs=ia(l.mergedAttrs,l.attrs)}function Ny(n,s,l,d,f,_){for(let $=0;$<d.length;$++)I_(wf(l,s),n,d[$].type);!function t1(n,s,l){n.flags|=1,n.directiveStart=s,n.directiveEnd=s+l,n.providerIndexes=s}(l,n.data.length,d.length);for(let $=0;$<d.length;$++){const te=d[$];te.providersResolver&&te.providersResolver(te)}let w=!1,S=!1,R=am(n,s,d.length,null);for(let $=0;$<d.length;$++){const te=d[$];l.mergedAttrs=ia(l.mergedAttrs,te.hostAttrs),qb(n,l,s,R,te),e1(R,te,f),null!==te.contentQueries&&(l.flags|=4),(null!==te.hostBindings||null!==te.hostAttrs||0!==te.hostVars)&&(l.flags|=64);const de=te.type.prototype;!w&&(de.ngOnChanges||de.ngOnInit||de.ngDoCheck)&&((n.preOrderHooks??=[]).push(l.index),w=!0),!S&&(de.ngOnChanges||de.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(l.index),S=!0),R++}!function XR(n,s,l){const f=s.directiveEnd,_=n.data,w=s.attrs,S=[];let R=null,$=null;for(let te=s.directiveStart;te<f;te++){const de=_[te],Pe=l?l.get(de):null,mt=Pe?Pe.outputs:null;R=dP(de.inputs,te,R,Pe?Pe.inputs:null),$=dP(de.outputs,te,$,mt);const Bt=null===R||null===w||ba(s)?null:gP(R,te,w);S.push(Bt)}null!==R&&(R.hasOwnProperty("class")&&(s.flags|=8),R.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=S,s.inputs=R,s.outputs=$}(n,l,_)}function iT(n,s,l){const d=l.directiveStart,f=l.directiveEnd,_=l.index,w=function E_(){return xn.lFrame.currentDirectiveIndex}();try{Si(_);for(let S=d;S<f;S++){const R=n.data[S],$=s[S];P(S),(null!==R.hostBindings||0!==R.hostVars||null!==R.hostAttrs)&&hP(R,$)}}finally{Si(-1),P(w)}}function hP(n,s){null!==n.hostBindings&&n.hostBindings(1,s)}function cm(n,s,l){s.componentOffset=l,(n.components??=[]).push(s.index)}function e1(n,s,l){if(l){if(s.exportAs)for(let d=0;d<s.exportAs.length;d++)l[s.exportAs[d]]=n;bi(s)&&(l[""]=n)}}function qb(n,s,l,d,f){n.data[d]=f;const _=f.factory||(f.factory=fi(f.type)),w=new Bc(_,bi(f),om);n.blueprint[d]=w,l[d]=w,function JR(n,s,l,d,f){const _=f.hostBindings;if(_){let w=n.hostBindingOpCodes;null===w&&(w=n.hostBindingOpCodes=[]);const S=~s.index;(function mh(n){let s=n.length;for(;s>0;){const l=n[--s];if("number"==typeof l&&l<0)return l}return 0})(w)!=S&&w.push(S),w.push(l,d,_)}}(n,s,d,am(n,l,f.hostVars,ri),f)}function Il(n,s,l,d,f,_){const w=$s(n,s);!function rT(n,s,l,d,f,_,w){if(null==_)n.removeAttribute(s,f,l);else{const S=null==w?Cn(_):w(_,d||"",f);n.setAttribute(s,f,S,l)}}(s[Hn],w,_,n.value,l,d,f)}function Kb(n,s,l,d,f,_){const w=_[s];if(null!==w)for(let S=0;S<w.length;)ky(d,l,w[S++],w[S++],w[S++])}function ky(n,s,l,d,f){const _=z(null);try{const w=n.inputTransforms;null!==w&&w.hasOwnProperty(d)&&(f=w[d].call(s,f)),null!==n.setInput?n.setInput(s,f,l,d):s[d]=f}finally{z(_)}}function gP(n,s,l){let d=null,f=0;for(;f<l.length;){const _=l[f];if(0!==_)if(5!==_){if("number"==typeof _)break;if(n.hasOwnProperty(_)){null===d&&(d=[]);const w=n[_];for(let S=0;S<w.length;S+=2)if(w[S]===s){d.push(_,w[S+1],l[f+1]);break}}f+=2}else f+=2;else f+=4}return d}function cp(n,s,l,d){return[n,!0,0,s,null,d,null,l,null,null]}function sT(n,s){const l=n.contentQueries;if(null!==l){const d=z(null);try{for(let f=0;f<l.length;f+=2){const w=l[f+1];if(-1!==w){const S=n.data[w];F(l[f]),S.contentQueries(2,s[w],w)}}}finally{z(d)}}}function Ly(n,s){return n[Rl]?n[Ou][kn]=s:n[Rl]=s,n[Ou]=s,s}function um(n,s,l){F(0);const d=z(null);try{s(n,l)}finally{z(d)}}function Fy(n){return n[jo]||(n[jo]=[])}function mP(n){return n.cleanup||(n.cleanup=[])}function dm(n,s){const l=n[fr],d=l?l.get(Ec,null):null;d&&d.handleError(s)}function Vy(n,s,l,d,f){for(let _=0;_<l.length;){const w=l[_++],S=l[_++];ky(n.data[w],s[w],d,S,f)}}function fd(n,s,l){const d=hc(s,n);!function dy(n,s,l){n.setValue(s,l)}(n[Hn],d,l)}function Yb(n,s,l,d){const f=s[_e];if(256==(256&f))return;s[hl].inlineEffectRunner?.flush(),ve(s);let w=null,S=null;(function s1(n){return 2!==n.type})(n)&&(S=function HC(n){return n[zs]??function eP(n){const s=JD.pop()??Object.create(Ob);return s.lView=n,s}(n)}(s),w=gt(S));try{ui(s),function yg(n){return xn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==l&&lm(n,s,l,2,d);const R=3==(3&f);if(R){const de=n.preOrderCheckHooks;null!==de&&Vl(s,de,null)}else{const de=n.preOrderHooks;null!==de&&aa(s,de,0,null),yi(s,0)}if(function Qb(n){for(let s=Wg(n);null!==s;s=qg(s)){if(!(s[_e]&$a.HasTransplantedViews))continue;const l=s[cc];for(let d=0;d<l.length;d++){Ps(l[d])}}}(s),lT(s,0),null!==n.contentQueries&&sT(n,s),R){const de=n.contentCheckHooks;null!==de&&Vl(s,de)}else{const de=n.contentHooks;null!==de&&aa(s,de,1),yi(s,1)}!function sP(n,s){const l=n.hostBindingOpCodes;if(null!==l)try{for(let d=0;d<l.length;d++){const f=l[d];if(f<0)Si(~f);else{const _=f,w=l[++d],S=l[++d];RE(w,_),S(2,s[_])}}}finally{Si(-1)}}(n,s);const $=n.components;null!==$&&jy(s,$,0);const te=n.viewQuery;if(null!==te&&um(2,te,d),R){const de=n.viewCheckHooks;null!==de&&Vl(s,de)}else{const de=n.viewHooks;null!==de&&aa(s,de,2),yi(s,2)}if(!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),s[za]){for(const de of s[za])de();s[za]=null}s[_e]&=-73}catch(R){throw Bu(s),R}finally{null!==S&&($t(S,w),function tP(n){n.lView[zs]!==n&&(n.lView=null,JD.push(n))}(S)),ii()}}function lT(n,s){for(let l=Wg(n);null!==l;l=qg(l)){l[_e]&=~$a.HasChildViewsToRefresh;for(let d=Wi;d<l.length;d++)By(l[d],s)}}function o1(n,s,l){By(ro(s,n),l)}function By(n,s){Io(n)&&Uy(n,s)}function Uy(n,s){const d=n[J],f=n[_e],_=n[zs];let w=!!(0===s&&16&f);if(w||=!!(64&f&&0===s),w||=!!(1024&f),w||=!(!_?.dirty||!pn(_)),_&&(_.dirty=!1),n[_e]&=-9217,w)Yb(d,n,d.template,n[xi]);else if(8192&f){lT(n,1);const S=d.components;null!==S&&jy(n,S,1)}}function jy(n,s,l){for(let d=0;d<s.length;d++)o1(n,s[d],l)}function up(n){for(;n;){n[_e]|=64;const s=sh(n);if(ku(n)&&!s)return n;n=s}return null}class _h{get rootNodes(){const s=this._lView,l=s[J];return Dy(l,s,l.firstChild,[])}constructor(s,l,d=!0){this._lView=s,this._cdRefInjectingView=l,this.notifyErrorHandler=d,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[xi]}set context(s){this._lView[xi]=s}get destroyed(){return 256==(256&this._lView[_e])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[Rt];if(Lr(s)){const l=s[8],d=l?l.indexOf(this):-1;d>-1&&(C(s,d),Df(l,d))}this._attachedToViewContainer=!1}i(this._lView[J],this._lView)}onDestroy(s){mf(this._lView,s)}markForCheck(){up(this._cdRefInjectingView||this._lView)}detach(){this._lView[_e]&=-129}reattach(){Yr(this._lView),this._lView[_e]|=128}detectChanges(){this._lView[_e]|=1024,function hm(n,s=!0){const l=n[hl],d=l.rendererFactory,f=l.afterRenderEventManager;d.begin?.(),f?.begin();try{!function i1(n){Uy(n,0);let s=0;for(;pg(n);){if(100===s)throw new Jt(103,!1);s++,Uy(n,1)}}(n)}catch(w){throw s&&dm(n,w),w}finally{d.end?.(),l.inlineEffectRunner?.flush(),f?.end()}}(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Jt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function nu(n,s){Ft(n,s,s[Hn],2,null,null)}(this._lView[J],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Jt(902,!1);this._appRef=s}}let cT=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=yP}return n})();function yP(n){return function uT(n,s,l){if(gl(n)&&!l){const d=ro(n.index,s);return new _h(d,d)}return 47&n.type?new _h(s[Ri],s):null}(qi(),Ct(),16==(16&n))}let Hy=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=bP;static#t=this.__NG_ENV_ID__=l=>l}return n})();class EP extends Hy{constructor(s){super(),this._lView=s}onDestroy(s){return mf(this._lView,s),()=>function Uu(n,s){if(null===n[Hs])return;const l=n[Hs].indexOf(s);-1!==l&&n[Hs].splice(l,1)}(this._lView,s)}}function bP(){return new EP(Ct())}const wP=new on("",{providedIn:"root",factory:()=>li(AP)});let AP=(()=>{class n{static#e=this.\u0275prov=vi({token:n,providedIn:"root",factory:()=>new CP})}return n})(),pT=(()=>{class n{constructor(){this.queuedEffectCount=0,this.queues=new Map}scheduleEffect(l){const d=l.creationZone;this.queues.has(d)||this.queues.set(d,new Set);const f=this.queues.get(d);f.has(l)||(this.queuedEffectCount++,f.add(l))}flush(){for(;this.queuedEffectCount>0;)for(const[l,d]of this.queues)null===l?this.flushQueue(d):l.run(()=>this.flushQueue(d))}flushQueue(l){for(const d of l)l.delete(d),this.queuedEffectCount--,d.run()}static#e=this.\u0275prov=vi({token:n,providedIn:"root",factory:()=>new n})}return n})();class CP{constructor(){this.hasQueuedFlush=!1,this.delegate=new pT,this.flushTask=()=>{this.delegate.flush(),this.hasQueuedFlush=!1}}scheduleEffect(s){this.delegate.scheduleEffect(s),this.hasQueuedFlush||(queueMicrotask(this.flushTask),this.hasQueuedFlush=!0)}}class zy{constructor(s,l,d,f,_,w){this.scheduler=s,this.effectFn=l,this.creationZone=d,this.errorHandler=_,this.watcher=function mn(n,s,l){const d=Object.create(Ln);l&&(d.consumerAllowSignalWrites=!0),d.fn=n,d.schedule=s;const f=R=>{d.cleanupFn=R};return d.ref={notify:()=>wt(d),run:()=>{if(null===d.fn)return;if(function ce(){return re}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(d.dirty=!1,d.hasRun&&!pn(d))return;d.hasRun=!0;const R=gt(d);try{d.cleanupFn(),d.cleanupFn=Zt,d.fn(f)}finally{$t(d,R)}},cleanup:()=>d.cleanupFn(),destroy:()=>function w(R){(function _(R){return null===R.fn&&null===R.schedule})(R)||(sn(R),R.cleanupFn(),R.fn=null,R.schedule=null,R.cleanupFn=Zt)}(d),[G]:d},d.ref}(S=>this.runEffect(S),()=>this.schedule(),w),this.unregisterOnDestroy=f?.onDestroy(()=>this.destroy())}runEffect(s){try{this.effectFn(s)}catch(l){this.errorHandler?.handleError(l)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function gT(n,s){!s?.injector&&kg();const l=s?.injector??li(Qa),d=l.get(Ec,null,{optional:!0}),f=!0!==s?.manualCleanup?l.get(Hy):null,_=new zy(l.get(wP),n,typeof Zone>"u"?null:Zone.current,f,d,s?.allowSignalWrites??!1),w=l.get(cT,null,{optional:!0});return w&&8&w._lView[_e]?(w._lView[za]??=[]).push(_.watcher.notify):_.watcher.notify(),_}const mT=new Set;function yh(n){mT.has(n)||(mT.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function Zb(n){return s=>{setTimeout(n,void 0,s)}}const bc=class TP extends jn.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,l,d){let f=s,_=l||(()=>null),w=d;if(s&&"object"==typeof s){const R=s;f=R.next?.bind(R),_=R.error?.bind(R),w=R.complete?.bind(R)}this.__isAsync&&(_=Zb(_),f&&(f=Zb(f)),w&&(w=Zb(w)));const S=super.subscribe({next:f,error:_,complete:w});return s instanceof gn.w0&&s.add(S),S}};function _T(...n){}class Rs{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new bc(!1),this.onMicrotaskEmpty=new bc(!1),this.onStable=new bc(!1),this.onError=new bc(!1),typeof Zone>"u")throw new Jt(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&l,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function IP(){const n="function"==typeof Dt.requestAnimationFrame;let s=Dt[n?"requestAnimationFrame":"setTimeout"],l=Dt[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&s&&l){const d=s[Zone.__symbol__("OriginalDelegate")];d&&(s=d);const f=l[Zone.__symbol__("OriginalDelegate")];f&&(l=f)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function PP(n){const s=()=>{!function DP(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Dt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,$y(n),n.isCheckStableRunning=!0,Xb(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),$y(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,d,f,_,w,S)=>{if(function AT(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(S))return l.invokeTask(f,_,w,S);try{return vT(n),l.invokeTask(f,_,w,S)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||n.shouldCoalesceRunChangeDetection)&&s(),ET(n)}},onInvoke:(l,d,f,_,w,S,R)=>{try{return vT(n),l.invoke(f,_,w,S,R)}finally{n.shouldCoalesceRunChangeDetection&&s(),ET(n)}},onHasTask:(l,d,f,_)=>{l.hasTask(f,_),d===f&&("microTask"==_.change?(n._hasPendingMicrotasks=_.microTask,$y(n),Xb(n)):"macroTask"==_.change&&(n.hasPendingMacrotasks=_.macroTask))},onHandleError:(l,d,f,_)=>(l.handleError(f,_),n.runOutsideAngular(()=>n.onError.emit(_)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Rs.isInAngularZone())throw new Jt(909,!1)}static assertNotInAngularZone(){if(Rs.isInAngularZone())throw new Jt(909,!1)}run(s,l,d){return this._inner.run(s,l,d)}runTask(s,l,d,f){const _=this._inner,w=_.scheduleEventTask("NgZoneEvent: "+f,s,SP,_T,_T);try{return _.runTask(w,l,d)}finally{_.cancelTask(w)}}runGuarded(s,l,d){return this._inner.runGuarded(s,l,d)}runOutsideAngular(s){return this._outer.run(s)}}const SP={};function Xb(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function $y(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function vT(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function ET(n){n._nesting--,Xb(n)}class MP{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new bc,this.onMicrotaskEmpty=new bc,this.onStable=new bc,this.onError=new bc}run(s,l,d){return s.apply(l,d)}runGuarded(s,l,d){return s.apply(l,d)}runOutsideAngular(s){return s()}runTask(s,l,d,f){return s.apply(l,d)}}const bT=new on("",{providedIn:"root",factory:wT});function wT(){const n=li(Rs);let s=!0;const l=new Ti.y(f=>{s=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{f.next(s),f.complete()})}),d=new Ti.y(f=>{let _;n.runOutsideAngular(()=>{_=n.onStable.subscribe(()=>{Rs.assertNotInAngularZone(),queueMicrotask(()=>{!s&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(s=!0,f.next(!0))})})});const w=n.onUnstable.subscribe(()=>{Rs.assertInAngularZone(),s&&(s=!1,n.runOutsideAngular(()=>{f.next(!1)}))});return()=>{_.unsubscribe(),w.unsubscribe()}});return(0,ki.T)(l,d.pipe((0,us.B)()))}var vh=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(vh||{});const Gy={destroy(){}};function RP(n,s){!s&&kg();const l=s?.injector??li(Qa);if(!function Al(n){return"browser"===(n??li(Qa)).get(Jd)}(l))return Gy;yh("NgAfterNextRender");const d=l.get(t0),f=d.handler??=new OP,_=s?.phase??vh.MixedReadWrite,w=()=>{f.unregister(R),S()},S=l.get(Hy).onDestroy(w),R=new e0(l,_,()=>{w(),n()});return f.register(R),{destroy:w}}class e0{constructor(s,l,d){this.phase=l,this.callbackFn=d,this.zone=s.get(Rs),this.errorHandler=s.get(Ec,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(s){this.errorHandler?.handleError(s)}}}class OP{constructor(){this.executingCallbacks=!1,this.buckets={[vh.EarlyRead]:new Set,[vh.Write]:new Set,[vh.MixedReadWrite]:new Set,[vh.Read]:new Set},this.deferredCallbacks=new Set}validateBegin(){if(this.executingCallbacks)throw new Jt(102,!1)}register(s){(this.executingCallbacks?this.deferredCallbacks:this.buckets[s.phase]).add(s)}unregister(s){this.buckets[s.phase].delete(s),this.deferredCallbacks.delete(s)}execute(){this.executingCallbacks=!0;for(const s of Object.values(this.buckets))for(const l of s)l.invoke();this.executingCallbacks=!1;for(const s of this.deferredCallbacks)this.buckets[s.phase].add(s);this.deferredCallbacks.clear()}destroy(){for(const s of Object.values(this.buckets))s.clear();this.deferredCallbacks.clear()}}let t0=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null,this.internalCallbacks=[]}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth){for(const l of this.internalCallbacks)l();this.internalCallbacks.length=0,this.handler?.execute()}}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=vi({token:n,providedIn:"root",factory:()=>new n})}return n})();function n0(n,s){const l=ro(s,n),d=l[J];!function TT(n,s){for(let l=s.length;l<n.blueprint.length;l++)s.push(n.blueprint[l])}(d,l);const f=l[V];null!==f&&null===l[Wr]&&(l[Wr]=im(f,l[fr])),dp(d,l,l[xi])}function dp(n,s,l){ve(s);try{const d=n.viewQuery;null!==d&&um(1,d,l);const f=n.template;null!==f&&lm(n,s,f,1,l),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&sT(n,s),n.staticViewQueries&&um(2,n.viewQuery,l);const _=n.components;null!==_&&function IT(n,s){for(let l=0;l<s.length;l++)n0(n,s[l])}(s,_)}catch(d){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),d}finally{s[_e]&=-5,ii()}}function fm(n,s,l){let d=l?n.styles:null,f=l?n.classes:null,_=0;if(null!==s)for(let w=0;w<s.length;w++){const S=s[w];"number"==typeof S?_=S:1==_?f=Jn(f,S):2==_&&(d=Jn(d,S+": "+s[++w]+";"))}l?n.styles=d:n.stylesWithoutHost=d,l?n.classes=f:n.classesWithoutHost=f}class ST extends sm{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const l=Wn(s);return new pm(l,this.ngModule)}}function DT(n){const s=[];for(let l in n)n.hasOwnProperty(l)&&s.push({propName:n[l],templateName:l});return s}class kP{constructor(s,l){this.injector=s,this.parentInjector=l}get(s,l,d){d=ps(d);const f=this.injector.get(s,LC,d);return f!==LC||l===LC?f:this.parentInjector.get(s,l,d)}}class pm extends Cy{get inputs(){const s=this.componentDef,l=s.inputTransforms,d=DT(s.inputs);if(null!==l)for(const f of d)l.hasOwnProperty(f.propName)&&(f.transform=l[f.propName]);return d}get outputs(){return DT(this.componentDef.outputs)}constructor(s,l){super(),this.componentDef=s,this.ngModule=l,this.componentType=s.type,this.selector=function ll(n){return n.map(wa).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!l}create(s,l,d,f){let _=(f=f||this.ngModule)instanceof Po?f:f?.injector;_&&null!==this.componentDef.getStandaloneInjector&&(_=this.componentDef.getStandaloneInjector(_)||_);const w=_?new kP(s,_):s,S=w.get(kC,null);if(null===S)throw new Jt(407,!1);const te={rendererFactory:S,sanitizer:w.get($D,null),inlineEffectRunner:null,afterRenderEventManager:w.get(t0,null)},de=S.createRenderer(null,this.componentDef),Pe=this.componentDef.selectors[0][0]||"div",Le=d?function aP(n,s,l,d){const _=d.get(WC,!1)||l===Bs.ShadowDom,w=n.selectRootElement(s,_);return function lP(n){jb(n)}(w),w}(de,d,this.componentDef.encapsulation,w):Xf(de,Pe,function NP(n){const s=n.toLowerCase();return"svg"===s?fg:"math"===s?"math":null}(Pe)),Qt=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let En=null;null!==Le&&(En=im(Le,w,!0));const Nt=Ub(0,null,null,1,0,null,null,null,null,null,null),Kn=xy(null,Nt,null,Qt,null,null,te,de,w,null,En);let Ui,nr;ve(Kn);try{const cs=this.componentDef;let Su,aD=null;cs.findHostDirectiveDefs?(Su=[],aD=new Map,cs.findHostDirectiveDefs(cs,Su,aD),Su.push(cs)):Su=[cs];const sR=function LP(n,s){const l=n[J],d=qn;return n[d]=s,lp(l,d,2,"#host",null)}(Kn,Le),oR=function FP(n,s,l,d,f,_,w){const S=f[J];!function VP(n,s,l,d){for(const f of n)s.mergedAttrs=ia(s.mergedAttrs,f.hostAttrs);null!==s.mergedAttrs&&(fm(s,s.mergedAttrs,!0),null!==l&&Qn(d,l,s))}(d,n,s,w);let R=null;null!==s&&(R=im(s,f[fr]));const $=_.rendererFactory.createRenderer(s,l);let te=16;l.signals?te=4096:l.onPush&&(te=64);const de=xy(f,Ry(l),null,te,f[n.index],n,_,$,null,null,R);return S.firstCreatePass&&cm(S,n,d.length-1),Ly(f,de),f[n.index]=de}(sR,Le,cs,Su,Kn,te,de);nr=Zi(Nt,qn),Le&&function r0(n,s,l,d){if(d)Ua(n,l,["ng-version",WD.full]);else{const{attrs:f,classes:_}=function no(n){const s=[],l=[];let d=1,f=2;for(;d<n.length;){let _=n[d];if("string"==typeof _)2===f?""!==_&&s.push(_,n[++d]):8===f&&l.push(_);else{if(!$r(f))break;f=_}d++}return{attrs:s,classes:l}}(s.selectors[0]);f&&Ua(n,l,f),_&&_.length>0&&vs(n,l,_.join(" "))}}(de,cs,Le,d),void 0!==l&&function xT(n,s,l){const d=n.projection=[];for(let f=0;f<s.length;f++){const _=l[f];d.push(null!=_?Array.from(_):null)}}(nr,this.ngContentSelectors,l),Ui=function MT(n,s,l,d,f,_){const w=qi(),S=f[J],R=$s(w,f);Ny(S,f,w,l,null,d);for(let te=0;te<l.length;te++)Ws(Hc(f,S,w.directiveStart+te,w),f);iT(S,f,w),R&&Ws(R,f);const $=Hc(f,S,w.directiveStart+w.componentOffset,w);if(n[xi]=f[xi]=$,null!==_)for(const te of _)te($,s);return Fb(S,w,n),$}(oR,cs,Su,aD,Kn,[l1]),dp(Nt,Kn,null)}finally{ii()}return new PT(this.componentType,Ui,sp(nr,Kn),Kn,nr)}}class PT extends jD{constructor(s,l,d,f,_){super(),this.location=d,this._rootLView=f,this._tNode=_,this.previousInputValues=null,this.instance=l,this.hostView=this.changeDetectorRef=new _h(f,void 0,!1),this.componentType=s}setInput(s,l){const d=this._tNode.inputs;let f;if(null!==d&&(f=d[s])){if(this.previousInputValues??=new Map,this.previousInputValues.has(s)&&Object.is(this.previousInputValues.get(s),l))return;const _=this._rootLView;Vy(_[J],_,f,s,l),this.previousInputValues.set(s,l),up(ro(this._tNode.index,_))}}get injector(){return new as(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function l1(){const n=qi();yl(Ct()[J],n)}function s0(n){let s=function Wy(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),l=!0;const d=[n];for(;s;){let f;if(bi(n))f=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Jt(903,!1);f=s.\u0275dir}if(f){if(l){d.push(f);const w=n;w.inputs=qy(n.inputs),w.inputTransforms=qy(n.inputTransforms),w.declaredInputs=qy(n.declaredInputs),w.outputs=qy(n.outputs);const S=f.hostBindings;S&&jP(n,S);const R=f.viewQuery,$=f.contentQueries;if(R&&UP(n,R),$&&c1(n,$),Xs(n.inputs,f.inputs),Xs(n.declaredInputs,f.declaredInputs),Xs(n.outputs,f.outputs),null!==f.inputTransforms&&(null===w.inputTransforms&&(w.inputTransforms={}),Xs(w.inputTransforms,f.inputTransforms)),bi(f)&&f.data.animation){const te=n.data;te.animation=(te.animation||[]).concat(f.data.animation)}}const _=f.features;if(_)for(let w=0;w<_.length;w++){const S=_[w];S&&S.ngInherit&&S(n),S===s0&&(l=!1)}}s=Object.getPrototypeOf(s)}!function BP(n){let s=0,l=null;for(let d=n.length-1;d>=0;d--){const f=n[d];f.hostVars=s+=f.hostVars,f.hostAttrs=ia(f.hostAttrs,l=ia(l,f.hostAttrs))}}(d)}function qy(n){return n===Is?{}:n===Bn?[]:n}function UP(n,s){const l=n.viewQuery;n.viewQuery=l?(d,f)=>{s(d,f),l(d,f)}:s}function c1(n,s){const l=n.contentQueries;n.contentQueries=l?(d,f,_)=>{s(d,f,_),l(d,f,_)}:s}function jP(n,s){const l=n.hostBindings;n.hostBindings=l?(d,f)=>{s(d,f),l(d,f)}:s}function GP(n){const s=n.inputConfig,l={};for(const d in s)if(s.hasOwnProperty(d)){const f=s[d];Array.isArray(f)&&f[2]&&(l[d]=f[2])}n.inputTransforms=l}function su(n,s,l){return n[s]=l}function Ky(n,s){return n[s]}function Os(n,s,l){return!Object.is(n[s],l)&&(n[s]=l,!0)}function hp(n,s,l,d){const f=Os(n,s,l);return Os(n,s+1,d)||f}function o0(n,s,l,d,f){const _=hp(n,s,l,d);return Os(n,s+2,f)||_}function Kl(n,s,l,d,f,_){const w=hp(n,s,l,d);return hp(n,s+2,f,_)||w}function RT(n,s,l,d){const f=Ct();return Os(f,_l(),s)&&(Ci(),Il(Hi(),f,n,s,l,d)),RT}function mm(n,s,l,d){return Os(n,_l(),l)?s+Cn(l)+d:ri}function _m(n,s,l,d,f,_){const S=hp(n,function So(){return xn.lFrame.bindingIndex}(),l,f);return Fl(2),S?s+Cn(l)+d+Cn(f)+_:ri}function a0(n,s){return n<<17|s<<2}function Eh(n){return n>>17&32767}function OT(n){return 2|n}function fp(n){return(131068&n)>>2}function NT(n,s){return-131069&n|s<<2}function kT(n){return 1|n}function tM(n,s,l,d,f){const _=n[l+1],w=null===s;let S=d?Eh(_):fp(_),R=!1;for(;0!==S&&(!1===R||w);){const te=n[S+1];E1(n[S],s)&&(R=!0,n[S+1]=d?kT(te):OT(te)),S=d?Eh(te):fp(te)}R&&(n[l+1]=d?OT(_):kT(_))}function E1(n,s){return null===n||null==s||(Array.isArray(n)?n[1]:n)===s||!(!Array.isArray(n)||"string"!=typeof s)&&qc(n,s)>=0}const co={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function nM(n){return n.substring(co.key,co.keyEnd)}function b1(n){return n.substring(co.value,co.valueEnd)}function iM(n,s){const l=co.textEnd;return l===s?-1:(s=co.keyEnd=function LT(n,s,l){for(;s<l&&n.charCodeAt(s)>32;)s++;return s}(n,co.key=s,l),bh(n,s,l))}function rM(n,s){const l=co.textEnd;let d=co.key=bh(n,s,l);return l===d?-1:(d=co.keyEnd=function sM(n,s,l){let d;for(;s<l&&(45===(d=n.charCodeAt(s))||95===d||(-33&d)>=65&&(-33&d)<=90||d>=48&&d<=57);)s++;return s}(n,d,l),d=Cm(n,d,l),d=co.value=bh(n,d,l),d=co.valueEnd=function ou(n,s,l){let d=-1,f=-1,_=-1,w=s,S=w;for(;w<l;){const R=n.charCodeAt(w++);if(59===R)return S;34===R||39===R?S=w=FT(n,R,w,l):s===w-4&&85===_&&82===f&&76===d&&40===R?S=w=FT(n,41,w,l):R>32&&(S=w),_=f,f=d,d=-33&R}return S}(n,d,l),Cm(n,d,l))}function l0(n){co.key=0,co.keyEnd=0,co.value=0,co.valueEnd=0,co.textEnd=n.length}function bh(n,s,l){for(;s<l&&n.charCodeAt(s)<=32;)s++;return s}function Cm(n,s,l,d){return(s=bh(n,s,l))<l&&s++,s}function FT(n,s,l,d){let f=-1,_=l;for(;_<d;){const w=n.charCodeAt(_++);if(w==s&&92!==f)return _;f=92==w&&92===f?0:w}throw new Error}function c0(n,s,l){const d=Ct();return Os(d,_l(),s)&&Tl(Ci(),Hi(),d,n,s,d[Hn],l,!1),c0}function u0(n,s,l,d,f){const w=f?"class":"style";Vy(n,l,s.inputs[w],w,d)}function d0(n,s,l){return mr(n,s,l,!1),d0}function h0(n,s){return mr(n,s,null,!0),h0}function Yl(n){ha(aM,oM,n,!1)}function oM(n,s){for(let l=function A1(n){return l0(n),rM(n,bh(n,0,co.textEnd))}(s);l>=0;l=rM(s,l))aM(n,nM(s),b1(s))}function VT(n){ha(Xt,Ql,n,!0)}function Ql(n,s){for(let l=function w1(n){return l0(n),iM(n,bh(n,0,co.textEnd))}(s);l>=0;l=iM(s,l))ua(n,nM(s),!0)}function mr(n,s,l,d){const f=Ct(),_=Ci(),w=Fl(2);_.firstUpdatePass&&wh(_,n,w,d),s!==ri&&Os(f,w,s)&&Vt(_,_.data[br()],f,f[Hn],n,f[w+1]=function lM(n,s){return null==n||""===n||("string"==typeof s?n+=s:"object"==typeof n&&(n=si(iu(n)))),n}(s,l),d,w)}function ha(n,s,l,d){const f=Ci(),_=Fl(2);f.firstUpdatePass&&wh(f,null,_,d);const w=Ct();if(l!==ri&&Os(w,_,l)){const S=f.data[br()];if(BT(S,d)&&!au(f,_)){let R=d?S.classesWithoutHost:S.stylesWithoutHost;null!==R&&(l=Jn(R,l||"")),u0(f,S,w,l,d)}else!function ft(n,s,l,d,f,_,w,S){f===ri&&(f=Bn);let R=0,$=0,te=0<f.length?f[0]:null,de=0<_.length?_[0]:null;for(;null!==te||null!==de;){const Pe=R<f.length?f[R+1]:void 0,Le=$<_.length?_[$+1]:void 0;let Bt,mt=null;te===de?(R+=2,$+=2,Pe!==Le&&(mt=de,Bt=Le)):null===de||null!==te&&te<de?(R+=2,mt=te):($+=2,mt=de,Bt=Le),null!==mt&&Vt(n,s,l,d,mt,Bt,w,S),te=R<f.length?f[R]:null,de=$<_.length?_[$]:null}}(f,S,w,w[Hn],w[_+1],w[_+1]=function In(n,s,l){if(null==l||""===l)return Bn;const d=[],f=iu(l);if(Array.isArray(f))for(let _=0;_<f.length;_++)n(d,f[_],!0);else if("object"==typeof f)for(const _ in f)f.hasOwnProperty(_)&&n(d,_,f[_]);else"string"==typeof f&&s(d,f);return d}(n,s,l),d,_)}}function au(n,s){return s>=n.expandoStartIndex}function wh(n,s,l,d){const f=n.data;if(null===f[l+1]){const _=f[br()],w=au(n,l);BT(_,d)&&null===s&&!w&&(s=!1),s=function T1(n,s,l,d){const f=function L(n){const s=xn.lFrame.currentDirectiveIndex;return-1===s?null:n[s]}(n);let _=d?s.residualClasses:s.residualStyles;if(null===f)0===(d?s.classBindings:s.styleBindings)&&(l=fn(l=Tm(null,n,s,l,d),s.attrs,d),_=null);else{const w=s.directiveStylingLast;if(-1===w||n[w]!==f)if(l=Tm(f,n,s,l,d),null===_){let R=function Ut(n,s,l){const d=l?s.classBindings:s.styleBindings;if(0!==fp(d))return n[Eh(d)]}(n,s,d);void 0!==R&&Array.isArray(R)&&(R=Tm(null,n,s,R[1],d),R=fn(R,s.attrs,d),function Es(n,s,l,d){n[Eh(l?s.classBindings:s.styleBindings)]=d}(n,s,d,R))}else _=function Sl(n,s,l){let d;const f=s.directiveEnd;for(let _=1+s.directiveStylingLast;_<f;_++)d=fn(d,n[_].hostAttrs,l);return fn(d,s.attrs,l)}(n,s,d)}return void 0!==_&&(d?s.residualClasses=_:s.residualStyles=_),l}(f,_,s,d),function y1(n,s,l,d,f,_){let w=_?s.classBindings:s.styleBindings,S=Eh(w),R=fp(w);n[d]=l;let te,$=!1;if(Array.isArray(l)?(te=l[1],(null===te||qc(l,te)>0)&&($=!0)):te=l,f)if(0!==R){const Pe=Eh(n[S+1]);n[d+1]=a0(Pe,S),0!==Pe&&(n[Pe+1]=NT(n[Pe+1],d)),n[S+1]=function m1(n,s){return 131071&n|s<<17}(n[S+1],d)}else n[d+1]=a0(S,0),0!==S&&(n[S+1]=NT(n[S+1],d)),S=d;else n[d+1]=a0(R,0),0===S?S=d:n[R+1]=NT(n[R+1],d),R=d;$&&(n[d+1]=OT(n[d+1])),tM(n,te,d,!0),tM(n,te,d,!1),function v1(n,s,l,d,f){const _=f?n.residualClasses:n.residualStyles;null!=_&&"string"==typeof s&&qc(_,s)>=0&&(l[d+1]=kT(l[d+1]))}(s,te,n,d,_),w=a0(S,R),_?s.classBindings=w:s.styleBindings=w}(f,_,s,l,w,d)}}function Tm(n,s,l,d,f){let _=null;const w=l.directiveEnd;let S=l.directiveStylingLast;for(-1===S?S=l.directiveStart:S++;S<w&&(_=s[S],d=fn(d,_.hostAttrs,f),_!==n);)S++;return null!==n&&(l.directiveStylingLast=S),d}function fn(n,s,l){const d=l?1:2;let f=-1;if(null!==s)for(let _=0;_<s.length;_++){const w=s[_];"number"==typeof w?f=w:f===d&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ua(n,w,!!l||s[++_]))}return void 0===n?null:n}function aM(n,s,l){ua(n,s,iu(l))}function Xt(n,s,l){const d=String(s);""!==d&&!d.includes(" ")&&ua(n,d,l)}function Vt(n,s,l,d,f,_,w,S){if(!(3&s.type))return;const R=n.data,$=R[S+1],te=function _1(n){return 1==(1&n)}($)?Ns(R,s,l,f,fp($),w):void 0;Im(te)||(Im(_)||function g1(n){return 2==(2&n)}($)&&(_=Ns(R,null,l,f,S,w)),function Bi(n,s,l,d,f){if(s)f?n.addClass(l,d):n.removeClass(l,d);else{let _=-1===d.indexOf("-")?void 0:ih.DashCase;null==f?n.removeStyle(l,d,_):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),_|=ih.Important),n.setStyle(l,d,f,_))}}(d,w,hc(br(),l),f,_))}function Ns(n,s,l,d,f,_){const w=null===s;let S;for(;f>0;){const R=n[f],$=Array.isArray(R),te=$?R[1]:R,de=null===te;let Pe=l[f+1];Pe===ri&&(Pe=de?Bn:void 0);let Le=de?Ig(Pe,d):te===d?Pe:void 0;if($&&!Im(Le)&&(Le=Ig(R,d)),Im(Le)&&(S=Le,w))return S;const mt=n[f+1];f=w?Eh(mt):fp(mt)}if(null!==s){let R=_?s.residualClasses:s.residualStyles;null!=R&&(S=Ig(R,d))}return S}function Im(n){return void 0!==n}function BT(n,s){return 0!=(n.flags&(s?8:16))}function UT(n,s,l){ha(ua,Ql,mm(Ct(),n,s,l),!0)}let v0=(n,s)=>null;function uu(n,s){return v0(n,s)}function Om(n,s,l,d){const f=s.tView,S=xy(n,f,l,4096&n[_e]?4096:16,null,s,null,null,null,d?.injector??null,d?.dehydratedView??null);S[Ol]=n[s.index];const $=n[js];return null!==$&&(S[js]=$.createEmbeddedView(f)),dp(f,S,l),S}function mp(n,s){return!s||null===s.firstChild||Pa(n)}function Nm(n,s,l,d=!0){const f=s[J];if(function ah(n,s,l,d){const f=Wi+d,_=l.length;d>0&&(l[f-1][kn]=s),d<_-Wi?(s[kn]=l[f],la(l,Wi+d,s)):(l.push(s),s[kn]=null),s[Rt]=l;const w=s[Ol];null!==w&&l!==w&&function ub(n,s){const l=n[cc];s[Ri]!==s[Rt][Rt][Ri]&&(n[_e]|=$a.HasTransplantedViews),null===l?n[cc]=[s]:l.push(s)}(w,s);const S=s[js];null!==S&&S.insertView(n),Yr(s),s[_e]|=128}(f,s,n,l),d){const w=Et(l,n),S=s[Hn],R=Y(S,n[Ho]);null!==R&&function hy(n,s,l,d,f,_){d[V]=f,d[Yi]=s,Ft(n,d,l,1,f,_)}(f,n[Yi],S,s,R,w)}const _=s[Wr];null!==_&&null!==_.firstChild&&(_.firstChild=null)}let Xy=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=vM}return n})();function vM(){return T0(qi(),Ct())}const EM=Xy,ZT=class extends EM{constructor(s,l,d){super(),this._lContainer=s,this._hostTNode=l,this._hostLView=d}get element(){return sp(this._hostTNode,this._hostLView)}get injector(){return new as(this._hostTNode,this._hostLView)}get parentInjector(){const s=wg(this._hostTNode,this._hostLView);if(bf(s)){const l=jc(s,this._hostLView),d=$d(s);return new as(l[J].data[d+8],l)}return new as(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const l=A0(this._lContainer);return null!==l&&l[s]||null}get length(){return this._lContainer.length-Wi}createEmbeddedView(s,l,d){let f,_;"number"==typeof d?f=d:null!=d&&(f=d.index,_=d.injector);const w=uu(this._lContainer,s.ssrId),S=s.createEmbeddedViewImpl(l||{},_,w);return this.insertImpl(S,f,mp(this._hostTNode,w)),S}createComponent(s,l,d,f,_){const w=s&&!function qd(n){return"function"==typeof n}(s);let S;if(w)S=l;else{const mt=l||{};S=mt.index,d=mt.injector,f=mt.projectableNodes,_=mt.environmentInjector||mt.ngModuleRef}const R=w?s:new pm(Wn(s)),$=d||this.parentInjector;if(!_&&null==R.ngModule){const Bt=(w?$:this.parentInjector).get(Po,null);Bt&&(_=Bt)}const te=Wn(R.componentType??{}),de=uu(this._lContainer,te?.id??null),Le=R.create($,f,de?.firstChild??null,_);return this.insertImpl(Le.hostView,S,mp(this._hostTNode,de)),Le}insert(s,l){return this.insertImpl(s,l,!0)}insertImpl(s,l,d){const f=s._lView;if(function Lc(n){return Lr(n[Rt])}(f)){const S=this.indexOf(s);if(-1!==S)this.detach(S);else{const R=f[Rt],$=new ZT(R,R[Yi],R[Rt]);$.detach($.indexOf(s))}}const _=this._adjustIndex(l),w=this._lContainer;return Nm(w,f,_,d),s.attachToViewContainerRef(),la(C0(w),_,s),s}move(s,l){return this.insert(s,l)}indexOf(s){const l=A0(this._lContainer);return null!==l?l.indexOf(s):-1}remove(s){const l=this._adjustIndex(s,-1),d=C(this._lContainer,l);d&&(Df(C0(this._lContainer),l),i(d[J],d))}detach(s){const l=this._adjustIndex(s,-1),d=C(this._lContainer,l);return d&&null!=Df(C0(this._lContainer),l)?new _h(d):null}_adjustIndex(s,l=0){return s??this.length+l}};function A0(n){return n[8]}function C0(n){return n[8]||(n[8]=[])}function T0(n,s){let l;const d=s[n.index];return Lr(d)?l=d:(l=cp(d,s,null,n),s[n.index]=l,Ly(s,l)),I0(l,s,n,d),new ZT(l,n,s)}let I0=function Jy(n,s,l,d){if(n[Ho])return;let f;f=8&l.type?Qi(d):function XT(n,s){const l=n[Hn],d=l.createComment(""),f=$s(s,n);return E(l,Y(l,f),d,function se(n,s){return n.nextSibling(s)}(l,f),!1),d}(s,l),n[Ho]=f},S0=(n,s,l)=>!1;function Ih(n,s,l,d,f,_,w,S){const R=Ct(),$=Ci(),te=n+qn,de=$.firstCreatePass?function tI(n,s,l,d,f,_,w,S,R){const $=s.consts,te=lp(s,n,4,w||null,Kr($,S));nT(s,l,te,Kr($,R)),yl(s,te);const de=te.tView=Ub(2,te,d,f,_,s.directiveRegistry,s.pipeRegistry,null,s.schemas,$,null);return null!==s.queries&&(s.queries.template(s,te),de.queries=s.queries.embeddedTView(te)),te}(te,$,R,s,l,d,f,_,w):$.data[te];Ka(de,!1);const Pe=Ar($,R,de,n);jd()&&ht($,R,Pe,de),Ws(Pe,R);const Le=cp(Pe,R,Pe,de);return R[te]=Le,Ly(R,Le),function JT(n,s,l){return S0(n,s,l)}(Le,de,R),uc(de)&&Vb($,R,de),null!=w&&Bb(R,de,S),Ih}let Ar=function km(n,s,l,d){return Ya(!0),s[Hn].createComment("")};function D0(n,s,l){yh("NgControlFlow");const d=Ct(),f=_l(),_=function Ir(n,s){return n[s]}(d,qn+n);if(Os(d,f,s)){const S=z(null);try{if(function w0(n,s){const l=C(n,s);return void 0!==l&&i(l[J],l),l}(_,0),-1!==s){const R=function yp(n,s){return Zi(n,s)}(d[J],qn+s),$=uu(_,R.tView.ssrId);Nm(_,Om(d,R,l,{dehydratedView:$}),0,mp(R,$))}}finally{z(S)}}else{const S=function QT(n,s){const l=Wi+s;if(l<n.length)return n[l]}(_,0);void 0!==S&&(S[xi]=l)}}function cv(n,s,l,d){const f=Ct(),_=Ci(),w=qn+n,S=f[Hn],R=_.firstCreatePass?function _u(n,s,l,d,f,_){const w=s.consts,R=lp(s,n,2,d,Kr(w,f));return nT(s,l,R,Kr(w,_)),null!==R.attrs&&fm(R,R.attrs,!1),null!==R.mergedAttrs&&fm(R,R.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,R),R}(w,_,f,s,l,d):_.data[w],$=Sp(_,f,R,S,s,n);f[w]=$;const te=uc(R);return Ka(R,!0),Qn(S,$,R),32!=(32&R.flags)&&jd()&&ht(_,f,$,R),0===function ME(){return xn.lFrame.elementDepthCount}()&&Ws($,f),function xE(){xn.lFrame.elementDepthCount++}(),te&&(Vb(_,f,R),Fb(_,R,f)),null!==d&&Bb(f,R),cv}function No(){let n=qi();vf()?Vd():(n=n.parent,Ka(n,!1));const s=n;(function gg(n){return xn.skipHydrationRootTNode===n})(s)&&function mg(){xn.skipHydrationRootTNode=null}(),function yf(){xn.lFrame.elementDepthCount--}();const l=Ci();return l.firstCreatePass&&(yl(l,n),xc(n)&&l.queries.elementEnd(n)),null!=s.classesWithoutHost&&function Hd(n){return 0!=(8&n.flags)}(s)&&u0(l,s,Ct(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Uc(n){return 0!=(16&n.flags)}(s)&&u0(l,s,Ct(),s.stylesWithoutHost,!1),No}function uv(n,s,l,d){return cv(n,s,l,d),No(),uv}let Sp=(n,s,l,d,f,_)=>(Ya(!0),Xf(d,f,function Ef(){return xn.lFrame.currentNamespace}()));function Ed(n,s,l){const d=Ct(),f=Ci(),_=n+qn,w=f.firstCreatePass?function mI(n,s,l,d,f){const _=s.consts,w=Kr(_,d),S=lp(s,n,8,"ng-container",w);return null!==w&&fm(S,w,!0),nT(s,l,S,Kr(_,f)),null!==s.queries&&s.queries.elementStart(s,S),S}(_,f,d,s,l):f.data[_];Ka(w,!0);const S=ci(f,d,w,n);return d[_]=S,jd()&&ht(f,d,S,w),Ws(S,d),uc(w)&&(Vb(f,d,w),Fb(f,w,d)),null!=l&&Bb(d,w),Ed}function dv(){let n=qi();const s=Ci();return vf()?Vd():(n=n.parent,Ka(n,!1)),s.firstCreatePass&&(yl(s,n),xc(n)&&s.queries.elementEnd(n)),dv}function $0(n,s,l){return Ed(n,s,l),dv(),$0}let ci=(n,s,l,d)=>(Ya(!0),Kg(s[Hn],""));function hv(){return Ct()}const Dp=void 0;var MM=["en",[["a","p"],["AM","PM"],Dp],[["AM","PM"],Dp,Dp],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Dp,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Dp,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Dp,"{1} 'at' {0}",Dp],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function PM(n){const l=Math.floor(Math.abs(n)),d=n.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===d?1:5}];let kh={};function yu(n){const s=function _I(n){return n.toLowerCase().replace(/_/g,"-")}(n);let l=K0(s);if(l)return l;const d=s.split("-")[0];if(l=K0(d),l)return l;if("en"===d)return MM;throw new Jt(701,!1)}function bd(n){return yu(n)[Lh.PluralCase]}function K0(n){return n in kh||(kh[n]=Dt.ng&&Dt.ng.common&&Dt.ng.common.locales&&Dt.ng.common.locales[n]),kh[n]}var Lh=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Lh||{});const Pp="en-US";let yI=Pp;function $h(n){return!!n&&"function"==typeof n.then}function uw(n){return!!n&&"function"==typeof n.subscribe}function $m(n,s,l,d){const f=Ct(),_=Ci(),w=qi();return function dw(n,s,l,d,f,_,w){const S=uc(d),$=n.firstCreatePass&&mP(n),te=s[xi],de=Fy(s);let Pe=!0;if(3&d.type||w){const Bt=$s(d,s),Qt=w?w(Bt):Bt,En=de.length,Nt=w?Ui=>w(Qi(Ui[d.index])):d.index;let Kn=null;if(!w&&S&&(Kn=function HI(n,s,l,d){const f=n.cleanup;if(null!=f)for(let _=0;_<f.length-1;_+=2){const w=f[_];if(w===l&&f[_+1]===d){const S=s[jo],R=f[_+2];return S.length>R?S[R]:null}"string"==typeof w&&(_+=2)}return null}(n,s,f,d.index)),null!==Kn)(Kn.__ngLastListenerFn__||Kn).__ngNextListenerFn__=_,Kn.__ngLastListenerFn__=_,Pe=!1;else{_=hw(d,s,te,_,!1);const Ui=l.listen(Qt,f,_);de.push(_,Ui),$&&$.push(f,Nt,En,En+1)}}else _=hw(d,s,te,_,!1);const Le=d.outputs;let mt;if(Pe&&null!==Le&&(mt=Le[f])){const Bt=mt.length;if(Bt)for(let Qt=0;Qt<Bt;Qt+=2){const nr=s[mt[Qt]][mt[Qt+1]].subscribe(_),cs=de.length;de.push(_,nr),$&&$.push(f,d.index,cs,-(cs+1))}}}(_,f,f[Hn],w,n,s,d),$m}function zI(n,s,l,d){try{return To(6,s,l),!1!==l(d)}catch(f){return dm(n,f),!1}finally{To(7,s,l)}}function hw(n,s,l,d,f){return function _(w){if(w===Function)return d;up(n.componentOffset>-1?ro(n.index,s):s);let R=zI(s,l,d,w),$=_.__ngNextListenerFn__;for(;$;)R=zI(s,l,$,w)&&R,$=$.__ngNextListenerFn__;return f&&!1===R&&w.preventDefault(),R}}function fw(n=1){return function gr(n){return(xn.lFrame.contextLView=function kd(n,s){for(;n>0;)s=s[os],n--;return s}(n,xn.lFrame.contextLView))[xi]}(n)}function Ev(n,s){let l=null;const d=function Ha(n){const s=n.attrs;if(null!=s){const l=s.indexOf(5);if(!(1&l))return s[l+1]}return null}(n);for(let f=0;f<s.length;f++){const _=s[f];if("*"!==_){if(null===d?Uo(n,_,!0):sr(d,_))return f}else l=f}return l}function Vp(n){const s=Ct()[Ri][Yi];if(!s.projection){const d=s.projection=ca(n?n.length:1,null),f=d.slice();let _=s.child;for(;null!==_;){const w=n?Ev(_,n):0;null!==w&&(f[w]?f[w].projectionNext=_:d[w]=_,f[w]=_),_=_.next}}}function $I(n,s=0,l){const d=Ct(),f=Ci(),_=lp(f,qn+n,16,null,l||null);null===_.projection&&(_.projection=s),Vd(),(!d[Wr]||Ll())&&32!=(32&_.flags)&&function hn(n,s,l){Di(s[Hn],0,s,l,g(n,l,s),le(l.parent||s[Yi],l,s))}(f,d,_)}function Eu(n,s,l){return bv(n,"",s,"",l),Eu}function bv(n,s,l,d,f){const _=Ct(),w=mm(_,s,l,d);return w!==ri&&Tl(Ci(),Hi(),_,n,w,_[Hn],f,!1),bv}function mw(n){return qr(function v_(){return xn.lFrame.contextLView}(),qn+n)}function ko(n,s=""){const l=Ct(),d=Ci(),f=n+qn,_=d.firstCreatePass?lp(d,f,1,s,null):d.data[f],w=Cw(d,l,_,s,n);l[f]=w,jd()&&ht(d,l,w,_),Ka(_,!1)}let Cw=(n,s,l,d,f)=>(Ya(!0),function sd(n,s){return n.createText(s)}(s[Hn],d));function Iv(n){return ec("",n,""),Iv}function ec(n,s,l){const d=Ct(),f=mm(d,n,s,l);return f!==ri&&fd(d,br(),f),ec}function Id(n,s,l,d,f){const _=Ct(),w=_m(_,n,s,l,d,f);return w!==ri&&fd(_,br(),w),Id}function Sv(n,s,l,d,f){if(n=_n(n),Array.isArray(n))for(let _=0;_<n.length;_++)Sv(n[_],s,l,d,f);else{const _=Ci(),w=Ct(),S=qi();let R=Do(n)?n:_n(n.provide);const $=$_(n),te=1048575&S.providerIndexes,de=S.directiveStart,Pe=S.providerIndexes>>20;if(Do(n)||!n.multi){const Le=new Bc($,f,om),mt=Mw(R,s,f?te:te+Pe,de);-1===mt?(I_(wf(S,w),_,R),Dw(_,n,s.length),s.push(R),S.directiveStart++,S.directiveEnd++,f&&(S.providerIndexes+=1048576),l.push(Le),w.push(Le)):(l[mt]=Le,w[mt]=Le)}else{const Le=Mw(R,s,te+Pe,de),mt=Mw(R,s,te,te+Pe),Qt=mt>=0&&l[mt];if(f&&!Qt||!f&&!(Le>=0&&l[Le])){I_(wf(S,w),_,R);const En=function JI(n,s,l,d,f){const _=new Bc(n,l,om);return _.multi=[],_.index=s,_.componentProviders=0,Pw(_,f,d&&!l),_}(f?R1:Dv,l.length,f,d,$);!f&&Qt&&(l[mt].providerFactory=En),Dw(_,n,s.length,0),s.push(R),S.directiveStart++,S.directiveEnd++,f&&(S.providerIndexes+=1048576),l.push(En),w.push(En)}else Dw(_,n,Le>-1?Le:mt,Pw(l[f?mt:Le],$,!f&&d));!f&&d&&Qt&&l[mt].componentProviders++}}}function Dw(n,s,l,d){const f=Do(s),_=function Rf(n){return!!n.useClass}(s);if(f||_){const R=(_?_n(s.useClass):s).prototype.ngOnDestroy;if(R){const $=n.destroyHooks||(n.destroyHooks=[]);if(!f&&s.multi){const te=$.indexOf(l);-1===te?$.push(l,[d,R]):$[te+1].push(d,R)}else $.push(l,R)}}}function Pw(n,s,l){return l&&n.componentProviders++,n.multi.push(s)-1}function Mw(n,s,l,d){for(let f=l;f<d;f++)if(s[f]===n)return f;return-1}function Dv(n,s,l,d){return xw(this.multi,[])}function R1(n,s,l,d){const f=this.multi;let _;if(this.providerFactory){const w=this.providerFactory.componentProviders,S=Hc(l,l[J],this.providerFactory.index,d);_=S.slice(0,w),xw(f,_);for(let R=w;R<S.length;R++)_.push(S[R])}else _=[],xw(f,_);return _}function xw(n,s){for(let l=0;l<n.length;l++)s.push((0,n[l])());return s}function eS(n,s=[]){return l=>{l.providersResolver=(d,f)=>function qM(n,s,l){const d=Ci();if(d.firstCreatePass){const f=bi(n);Sv(l,d.data,d.blueprint,f,!0),Sv(s,d.data,d.blueprint,f,!1)}}(d,f?f(n):n,s)}}class Dd{}class Pd{}function Wm(n,s){return new Pv(n,s??null,[])}class Pv extends Dd{constructor(s,l,d){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ST(this);const f=hr(s);this._bootstrapComponents=oo(f.bootstrap),this._r3Injector=Q_(s,l,[{provide:Dd,useValue:this},{provide:sm,useValue:this.componentFactoryResolver},...d],si(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Rw extends Pd{constructor(s){super(),this.moduleType=s}create(s){return new Pv(this.moduleType,s,[])}}class nS extends Dd{constructor(s){super(),this.componentFactoryResolver=new ST(this),this.instance=null;const l=new da([...s.providers,{provide:Dd,useValue:this},{provide:sm,useValue:this.componentFactoryResolver}],s.parent||Xu(),s.debugName,new Set(["environment"]));this.injector=l,s.runEnvironmentInitializers&&l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function iS(n,s,l=null){return new nS({providers:n,parent:s,debugName:l,runEnvironmentInitializers:!0}).injector}let YM=(()=>{class n{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l)){const d=Kc(0,l.type),f=d.length>0?iS([d],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l,f)}return this.cachedInjectors.get(l)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=vi({token:n,providedIn:"environment",factory:()=>new n(Dr(Po))})}return n})();function Mv(n){yh("NgStandalone"),n.getStandaloneInjector=s=>s.get(YM).getOrCreateStandaloneInjector(n)}function Vw(n,s,l){const d=Gs()+n,f=Ct();return f[d]===ri?su(f,d,l?s.call(l):s()):Ky(f,d)}function lS(n,s,l,d){return dS(Ct(),Gs(),n,s,l,d)}function Bw(n,s,l,d,f){return kv(Ct(),Gs(),n,s,l,d,f)}function cS(n,s,l,d,f,_){return hS(Ct(),Gs(),n,s,l,d,f,_)}function Kh(n,s,l,d,f,_,w){return function Lv(n,s,l,d,f,_,w,S,R){const $=s+l;return Kl(n,$,f,_,w,S)?su(n,$+4,R?d.call(R,f,_,w,S):d(f,_,w,S)):Hp(n,$+4)}(Ct(),Gs(),n,s,l,d,f,_,w)}function Yh(n,s,l,d,f,_,w,S){const R=Gs()+n,$=Ct(),te=Kl($,R,l,d,f,_);return Os($,R+4,w)||te?su($,R+5,S?s.call(S,l,d,f,_,w):s(l,d,f,_,w)):Ky($,R+5)}function Nv(n,s,l,d,f,_,w,S,R){const $=Gs()+n,te=Ct(),de=Kl(te,$,l,d,f,_);return hp(te,$+4,w,S)||de?su(te,$+6,R?s.call(R,l,d,f,_,w,S):s(l,d,f,_,w,S)):Ky(te,$+6)}function Qm(n,s,l,d,f,_,w,S,R,$){const te=Gs()+n,de=Ct();let Pe=Kl(de,te,l,d,f,_);return o0(de,te+4,w,S,R)||Pe?su(de,te+7,$?s.call($,l,d,f,_,w,S,R):s(l,d,f,_,w,S,R)):Ky(de,te+7)}function Uw(n,s,l,d){return function jw(n,s,l,d,f,_){let w=s+l,S=!1;for(let R=0;R<f.length;R++)Os(n,w++,f[R])&&(S=!0);return S?su(n,w,d.apply(_,f)):Hp(n,w)}(Ct(),Gs(),n,s,l,d)}function Hp(n,s){const l=n[s];return l===ri?void 0:l}function dS(n,s,l,d,f,_){const w=s+l;return Os(n,w,f)?su(n,w+1,_?d.call(_,f):d(f)):Hp(n,w+1)}function kv(n,s,l,d,f,_,w){const S=s+l;return hp(n,S,f,_)?su(n,S+2,w?d.call(w,f,_):d(f,_)):Hp(n,S+2)}function hS(n,s,l,d,f,_,w,S){const R=s+l;return o0(n,R,f,_,w)?su(n,R+3,S?d.call(S,f,_,w):d(f,_,w)):Hp(n,R+3)}function Hw(n,s){const l=Ci();let d;const f=n+qn;l.firstCreatePass?(d=function zw(n,s){if(s)for(let l=s.length-1;l>=0;l--){const d=s[l];if(n===d.name)return d}}(s,l.pipeRegistry),l.data[f]=d,d.onDestroy&&(l.destroyHooks??=[]).push(f,d.onDestroy)):d=l.data[f];const _=d.factory||(d.factory=fi(d.type)),S=Mi(om);try{const R=Gd(!1),$=_();return Gd(R),function KI(n,s,l,d){l>=n.data.length&&(n.data[l]=null,n.blueprint[l]=null),s[l]=d}(l,Ct(),f,$),$}finally{Mi(S)}}function Zm(n,s,l){const d=n+qn,f=Ct(),_=qr(f,d);return Xm(f,d)?dS(f,Gs(),s,_.transform,l,_):_.transform(l)}function Vv(n,s,l,d){const f=n+qn,_=Ct(),w=qr(_,f);return Xm(_,f)?kv(_,Gs(),s,w.transform,l,d,w):w.transform(l,d)}function Bv(n,s,l,d,f){const _=n+qn,w=Ct(),S=qr(w,_);return Xm(w,_)?hS(w,Gs(),s,S.transform,l,d,f,S):S.transform(l,d,f)}function Xm(n,s){return n[J].data[s].pure}function pS(){return this._results[Symbol.iterator]()}class zp{static#e=Symbol.iterator;get changes(){return this._changes??=new bc}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const l=zp.prototype;l[Symbol.iterator]||(l[Symbol.iterator]=pS)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,l){return this._results.reduce(s,l)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,l){this.dirty=!1;const d=function Ia(n){return n.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function pc(n,s,l){if(n.length!==s.length)return!1;for(let d=0;d<n.length;d++){let f=n[d],_=s[d];if(l&&(f=l(f),_=l(_)),_!==f)return!1}return!0}(this._results,d,l))&&(this._results=d,this.length=d.length,this.last=d[this.length-1],this.first=d[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}let $p=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Ko}return n})();const O1=$p,ix=class extends O1{constructor(s,l,d){super(),this._declarationLView=s,this._declarationTContainer=l,this.elementRef=d}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(s,l){return this.createEmbeddedViewImpl(s,l)}createEmbeddedViewImpl(s,l,d){const f=Om(this._declarationLView,this._declarationTContainer,s,{injector:l,dehydratedView:d});return new _h(f)}};function Ko(){return Uv(qi(),Ct())}function Uv(n,s){return 4&n.type?new ix(s,n,sp(n,s)):null}class jv{constructor(s){this.queryList=s,this.matches=null}clone(){return new jv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Gp{constructor(s=[]){this.queries=s}createEmbeddedView(s){const l=s.queries;if(null!==l){const d=null!==s.contentQueries?s.contentQueries[0]:l.length,f=[];for(let _=0;_<d;_++){const w=l.getByIndex(_);f.push(this.queries[w.indexInDeclarationView].clone())}return new Gp(f)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let l=0;l<this.queries.length;l++)null!==Gv(s,l).matches&&this.queries[l].setDirty()}}class Wp{constructor(s,l,d=null){this.predicate=s,this.flags=l,this.read=d}}class Jm{constructor(s=[]){this.queries=s}elementStart(s,l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(s,l)}elementEnd(s){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(s)}embeddedTView(s){let l=null;for(let d=0;d<this.length;d++){const f=null!==l?l.length:0,_=this.getByIndex(d).embeddedTView(s,f);_&&(_.indexInDeclarationView=d,null!==l?l.push(_):l=[_])}return null!==l?new Jm(l):null}template(s,l){for(let d=0;d<this.queries.length;d++)this.queries[d].template(s,l)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class gS{constructor(s,l=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(s,l){this.isApplyingToNode(l)&&this.matchTNode(s,l)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,l){this.elementStart(s,l)}embeddedTView(s,l){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,l),new gS(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let d=s.parent;for(;null!==d&&8&d.type&&d.index!==l;)d=d.parent;return l===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(s,l){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const _=d[f];this.matchTNodeWithReadOption(s,l,rx(l,_)),this.matchTNodeWithReadOption(s,l,Cf(l,s,_,!1,!1))}else d===$p?4&l.type&&this.matchTNodeWithReadOption(s,l,-1):this.matchTNodeWithReadOption(s,l,Cf(l,s,d,!1,!1))}matchTNodeWithReadOption(s,l,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===ph||f===Xy||f===$p&&4&l.type)this.addMatch(l.index,-2);else{const _=Cf(l,s,f,!1,!1);null!==_&&this.addMatch(l.index,_)}else this.addMatch(l.index,d)}}addMatch(s,l){null===this.matches?this.matches=[s,l]:this.matches.push(s,l)}}function rx(n,s){const l=n.localNames;if(null!==l)for(let d=0;d<l.length;d+=2)if(l[d]===s)return l[d+1];return null}function ox(n,s,l,d){return-1===l?function sx(n,s){return 11&n.type?sp(n,s):4&n.type?Uv(n,s):null}(s,n):-2===l?function ax(n,s,l){return l===ph?sp(s,n):l===$p?Uv(s,n):l===Xy?T0(s,n):void 0}(n,s,d):Hc(n,n[J],l,s)}function mS(n,s,l,d){const f=s[js].queries[d];if(null===f.matches){const _=n.data,w=l.matches,S=[];for(let R=0;R<w.length;R+=2){const $=w[R];S.push($<0?null:ox(s,_[$],w[R+1],l.metadata.read))}f.matches=S}return f.matches}function Qh(n,s,l,d){const f=n.queries.getByIndex(l),_=f.matches;if(null!==_){const w=mS(n,s,f,l);for(let S=0;S<_.length;S+=2){const R=_[S];if(R>0)d.push(w[S/2]);else{const $=_[S+1],te=s[-R];for(let de=Wi;de<te.length;de++){const Pe=te[de];Pe[Ol]===Pe[Rt]&&Qh(Pe[J],Pe,$,d)}if(null!==te[cc]){const de=te[cc];for(let Pe=0;Pe<de.length;Pe++){const Le=de[Pe];Qh(Le[J],Le,$,d)}}}}}return d}function Hv(n){const s=Ct(),l=Ci(),d=M();F(d+1);const f=Gv(l,d);if(n.dirty&&function gf(n){return 4==(4&n[_e])}(s)===(2==(2&f.metadata.flags))){if(null===f.matches)n.reset([]);else{const _=f.crossesNgTemplate?Qh(l,s,d,[]):mS(l,s,f,d);n.reset(_,WR),n.notifyOnChanges()}return!0}return!1}function Zh(n,s,l){const d=Ci();d.firstCreatePass&&(Ww(d,new Wp(n,s,l),-1),2==(2&s)&&(d.staticViewQueries=!0)),$v(d,Ct(),s)}function zv(n,s,l,d){const f=Ci();if(f.firstCreatePass){const _=qi();Ww(f,new Wp(s,l,d),_.index),function qw(n,s){const l=n.contentQueries||(n.contentQueries=[]);s!==(l.length?l[l.length-1]:-1)&&l.push(n.queries.length-1,s)}(f,n),2==(2&l)&&(f.staticContentQueries=!0)}$v(f,Ct(),l)}function e_(){return function qp(n,s){return n[js].queries[s].queryList}(Ct(),M())}function $v(n,s,l){const d=new zp(4==(4&l));(function uP(n,s,l,d){const f=Fy(s);f.push(l),n.firstCreatePass&&mP(n).push(d,f.length-1)})(n,s,d,d.destroy),null===s[js]&&(s[js]=new Gp),s[js].queries.push(new jv(d))}function Ww(n,s,l){null===n.queries&&(n.queries=new Jm),n.queries.track(new gS(s,l))}function Gv(n,s){return n.queries.getByIndex(s)}function Au(n,s){return Uv(n,s)}let MS=(()=>{class n{log(l){console.log(l)}warn(l){console.warn(l)}static#e=this.\u0275fac=function(d){return new(d||n)};static#t=this.\u0275prov=vi({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),xS=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Or.X(!1)}add(){this.hasPendingTasks.next(!0);const l=this.taskId++;return this.pendingTasks.add(l),l}remove(l){this.pendingTasks.delete(l),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(d){return new(d||n)};static#t=this.\u0275prov=vi({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class iA{constructor(s,l){this.ngModuleFactory=s,this.componentFactories=l}}let Ex=(()=>{class n{compileModuleSync(l){return new Rw(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const d=this.compileModuleSync(l),_=oo(hr(l).declarations).reduce((w,S)=>{const R=Wn(S);return R&&w.push(new pm(R)),w},[]);return new iA(d,_)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}static#e=this.\u0275fac=function(d){return new(d||n)};static#t=this.\u0275prov=vi({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const FS=new on(""),nE=new on("");let i_,Px=(()=>{class n{constructor(l,d,f){this._ngZone=l,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,i_||(function Mx(n){i_=n}(f),f.addToWindow(d)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Rs.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(l)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,d,f){let _=-1;d&&d>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==_),l(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:l,timeoutId:_,updateCb:f})}whenStable(l,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,d,f){return[]}static#e=this.\u0275fac=function(d){return new(d||n)(Dr(Rs),Dr(iE),Dr(nE))};static#t=this.\u0275prov=vi({token:n,factory:n.\u0275fac})}return n})(),iE=(()=>{class n{constructor(){this._applications=new Map}registerApplication(l,d){this._applications.set(l,d)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,d=!0){return i_?.findTestabilityInTree(this,l,d)??null}static#e=this.\u0275fac=function(d){return new(d||n)};static#t=this.\u0275prov=vi({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const VS=new on("Application Initializer");let r_=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d}),this.appInits=li(VS,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const l=[];for(const f of this.appInits){const _=f();if($h(_))l.push(_);else if(uw(_)){const w=new Promise((S,R)=>{_.subscribe({complete:S,error:R})});l.push(w)}}const d=()=>{this.done=!0,this.resolve()};Promise.all(l).then(()=>{d()}).catch(f=>{this.reject(f)}),0===l.length&&d(),this.initialized=!0}static#e=this.\u0275fac=function(d){return new(d||n)};static#t=this.\u0275prov=vi({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const rE=new on("appBootstrapListener");function sE(n,s){return Array.isArray(s)?s.reduce(sE,n):{...n,...s}}let Tu=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=li($C),this.zoneIsStable=li(bT),this.componentTypes=[],this.components=[],this.isStable=li(xS).hasPendingTasks.pipe((0,ds.w)(l=>l?(0,rr.of)(!1):this.zoneIsStable),(0,fo.x)()),this._injector=li(Po)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,d){const f=l instanceof Cy;if(!this._injector.get(r_).done)throw!f&&Gr(l),new Jt(405,!1);let w;w=f?l:this._injector.get(sm).resolveComponentFactory(l),this.componentTypes.push(w.componentType);const S=function Rx(n){return n.isBoundToModule}(w)?void 0:this._injector.get(Dd),$=w.create(Qa.NULL,[],d||w.selector,S),te=$.location.nativeElement,de=$.injector.get(FS,null);return de?.registerApplication(te),$.onDestroy(()=>{this.detachView($.hostView),Jp(this.components,$),de?.unregisterApplication(te)}),this._loadComponent($),$}tick(){if(this._runningTick)throw new Jt(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this.internalErrorHandler(l)}finally{this._runningTick=!1}}attachView(l){const d=l;this._views.push(d),d.attachToAppRef(this)}detachView(l){const d=l;Jp(this._views,d),d.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l);const d=this._injector.get(rE,[]);[...this._bootstrapListeners,...d].forEach(f=>f(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>Jp(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new Jt(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(d){return new(d||n)};static#t=this.\u0275prov=vi({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Jp(n,s){const l=n.indexOf(s);l>-1&&n.splice(l,1)}let zS=(()=>{class n{constructor(){this.zone=li(Rs),this.applicationRef=li(Tu)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(d){return new(d||n)};static#t=this.\u0275prov=vi({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function $S(){const n=li(Rs),s=li(Ec);return l=>n.runOutsideAngular(()=>s.handleError(l))}const aE=new on("LocaleId",{providedIn:"root",factory:()=>li(aE,cn.Optional|cn.SkipSelf)||function kx(){return typeof $localize<"u"&&$localize.locale||Pp}()}),Lx=new on("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"}),s_=new on("PlatformDestroyListeners");let EA=(()=>{class n{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,d){const f=function Jb(n="zone.js",s){return"noop"===n?new MP:"zone.js"===n?new Rs(s):n}(d?.ngZone,function GS(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:d?.ngZoneEventCoalescing,runCoalescing:d?.ngZoneRunCoalescing}));return f.run(()=>{const _=function tS(n,s,l){return new Pv(n,s,l)}(l.moduleType,this.injector,function af(n){return[{provide:Rs,useFactory:n},{provide:Zu,multi:!0,useFactory:()=>{const s=li(zS,{optional:!0});return()=>s.initialize()}},{provide:$C,useFactory:$S},{provide:bT,useFactory:wT}]}(()=>f)),w=_.injector.get(Ec,null);return f.runOutsideAngular(()=>{const S=f.onError.subscribe({next:R=>{w.handleError(R)}});_.onDestroy(()=>{Jp(this._modules,_),S.unsubscribe()})}),function jS(n,s,l){try{const d=l();return $h(d)?d.catch(f=>{throw s.runOutsideAngular(()=>n.handleError(f)),f}):d}catch(d){throw s.runOutsideAngular(()=>n.handleError(d)),d}}(w,f,()=>{const S=_.injector.get(r_);return S.runInitializers(),S.donePromise.then(()=>(function Mp(n){Li(n,"Expected localeId to be defined"),"string"==typeof n&&(yI=n.toLowerCase().replace(/_/g,"-"))}(_.injector.get(aE,Pp)||Pp),this._moduleDoBootstrap(_),_))})})}bootstrapModule(l,d=[]){const f=sE({},d);return function _A(n,s,l){const d=new Rw(l);return Promise.resolve(d)}(0,0,l).then(_=>this.bootstrapModuleFactory(_,f))}_moduleDoBootstrap(l){const d=l.injector.get(Tu);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!l.instance.ngDoBootstrap)throw new Jt(-403,!1);l.instance.ngDoBootstrap(d)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Jt(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const l=this._injector.get(s_,null);l&&(l.forEach(d=>d()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(d){return new(d||n)(Dr(Qa))};static#t=this.\u0275prov=vi({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),Dc=null;const lE=new on("AllowMultipleToken");function uE(n,s,l=[]){const d=`Platform: ${s}`,f=new on(d);return(_=[])=>{let w=dE();if(!w||w.injector.get(lE,!1)){const S=[...l,..._,{provide:f,useValue:!0}];n?n(S):function cE(n){if(Dc&&!Dc.get(lE,!1))throw new Jt(400,!1);(function BS(){!function Vn(n){Mt=n}(()=>{throw new Jt(600,!1)})})(),Dc=n;const s=n.get(EA);(function lf(n){n.get(Xc,null)?.forEach(l=>l())})(n)}(function bA(n=[],s){return Qa.create({name:s,providers:[{provide:H_,useValue:"platform"},{provide:s_,useValue:new Set([()=>Dc=null])},...n]})}(S,d))}return function eg(n){const s=dE();if(!s)throw new Jt(401,!1);return s}()}}function dE(){return Dc?.get(EA)??null}function Fx(){}const Yo=uE(null,"core",[]);let As=(()=>{class n{constructor(l){}static#e=this.\u0275fac=function(d){return new(d||n)(Dr(Tu))};static#t=this.\u0275mod=Ru({type:n});static#n=this.\u0275inj=ze({})}return n})();function oO(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function aO(n){const s=Wn(n);if(!s)return null;const l=new pm(s);return{get selector(){return l.selector},get type(){return l.componentType},get inputs(){return l.inputs},get outputs(){return l.outputs},get ngContentSelectors(){return l.ngContentSelectors},get isStandalone(){return s.standalone},get isSignal(){return s.signals}}}},6223:(Ht,Ue,H)=>{H.d(Ue,{Fj:()=>$e,JJ:()=>rr,JL:()=>us,JU:()=>ce,On:()=>Pu,Q7:()=>Uo,UX:()=>sa,_Y:()=>fs,a5:()=>gn,kI:()=>sn,qu:()=>Pr,sg:()=>Eo,u:()=>Ea,u5:()=>ac});var v=H(9212),D=H(6814),re=H(2459),fe=H(9315),G=H(7398);let z=(()=>{class K{constructor(V,J){this._renderer=V,this._elementRef=J,this.onChange=_e=>{},this.onTouched=()=>{}}setProperty(V,J){this._renderer.setProperty(this._elementRef.nativeElement,V,J)}registerOnTouched(V){this.onTouched=V}registerOnChange(V){this.onChange=V}setDisabledState(V){this.setProperty("disabled",V)}static#e=this.\u0275fac=function(J){return new(J||K)(v.Y36(v.Qsj),v.Y36(v.SBq))};static#t=this.\u0275dir=v.lG2({type:K})}return K})(),Z=(()=>{class K extends z{static#e=this.\u0275fac=(()=>{let V;return function(_e){return(V||(V=v.n5z(K)))(_e||K)}})();static#t=this.\u0275dir=v.lG2({type:K,features:[v.qOj]})}return K})();const ce=new v.OlP("NgValueAccessor"),Ee={provide:ce,useExisting:(0,v.Gpc)(()=>$e),multi:!0},De=new v.OlP("CompositionEventMode");let $e=(()=>{class K extends z{constructor(V,J,_e){super(V,J),this._compositionMode=_e,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function be(){const K=(0,D.q)()?(0,D.q)().getUserAgent():"";return/android (\d+)/.test(K.toLowerCase())}())}writeValue(V){this.setProperty("value",V??"")}_handleInput(V){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(V)}_compositionStart(){this._composing=!0}_compositionEnd(V){this._composing=!1,this._compositionMode&&this.onChange(V)}static#e=this.\u0275fac=function(J){return new(J||K)(v.Y36(v.Qsj),v.Y36(v.SBq),v.Y36(De,8))};static#t=this.\u0275dir=v.lG2({type:K,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(J,_e){1&J&&v.NdJ("input",function(kn){return _e._handleInput(kn.target.value)})("blur",function(){return _e.onTouched()})("compositionstart",function(){return _e._compositionStart()})("compositionend",function(kn){return _e._compositionEnd(kn.target.value)})},features:[v._Bn([Ee]),v.qOj]})}return K})();function xe(K){return null==K||("string"==typeof K||Array.isArray(K))&&0===K.length}function wt(K){return null!=K&&"number"==typeof K.length}const gt=new v.OlP("NgValidators"),$t=new v.OlP("NgAsyncValidators"),pn=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class sn{static min(ee){return function Ot(K){return ee=>{if(xe(ee.value)||xe(K))return null;const V=parseFloat(ee.value);return!isNaN(V)&&V<K?{min:{min:K,actual:ee.value}}:null}}(ee)}static max(ee){return function Ve(K){return ee=>{if(xe(ee.value)||xe(K))return null;const V=parseFloat(ee.value);return!isNaN(V)&&V>K?{max:{max:K,actual:ee.value}}:null}}(ee)}static required(ee){return Xe(ee)}static requiredTrue(ee){return function pe(K){return!0===K.value?null:{required:!0}}(ee)}static email(ee){return function ke(K){return xe(K.value)||pn.test(K.value)?null:{email:!0}}(ee)}static minLength(ee){return function We(K){return ee=>xe(ee.value)||!wt(ee.value)?null:ee.value.length<K?{minlength:{requiredLength:K,actualLength:ee.value.length}}:null}(ee)}static maxLength(ee){return function Ie(K){return ee=>wt(ee.value)&&ee.value.length>K?{maxlength:{requiredLength:K,actualLength:ee.value.length}}:null}(ee)}static pattern(ee){return function je(K){if(!K)return tt;let ee,V;return"string"==typeof K?(V="","^"!==K.charAt(0)&&(V+="^"),V+=K,"$"!==K.charAt(K.length-1)&&(V+="$"),ee=new RegExp(V)):(V=K.toString(),ee=K),J=>{if(xe(J.value))return null;const _e=J.value;return ee.test(_e)?null:{pattern:{requiredPattern:V,actualValue:_e}}}}(ee)}static nullValidator(ee){return null}static compose(ee){return Ke(ee)}static composeAsync(ee){return _t(ee)}}function Xe(K){return xe(K.value)?{required:!0}:null}function tt(K){return null}function Ge(K){return null!=K}function ln(K){return(0,v.QGY)(K)?(0,re.D)(K):K}function Mt(K){let ee={};return K.forEach(V=>{ee=null!=V?{...ee,...V}:ee}),0===Object.keys(ee).length?null:ee}function yn(K,ee){return ee.map(V=>V(K))}function di(K){return K.map(ee=>function Vn(K){return!K.validate}(ee)?ee:V=>ee.validate(V))}function Ke(K){if(!K)return null;const ee=K.filter(Ge);return 0==ee.length?null:function(V){return Mt(yn(V,ee))}}function at(K){return null!=K?Ke(di(K)):null}function _t(K){if(!K)return null;const ee=K.filter(Ge);return 0==ee.length?null:function(V){const J=yn(V,ee).map(ln);return(0,fe.D)(J).pipe((0,G.U)(Mt))}}function vt(K){return null!=K?_t(di(K)):null}function kt(K,ee){return null===K?[ee]:Array.isArray(K)?[...K,ee]:[K,ee]}function zt(K){return K._rawValidators}function Rn(K){return K._rawAsyncValidators}function Un(K){return K?Array.isArray(K)?K:[K]:[]}function mn(K,ee){return Array.isArray(K)?K.includes(ee):K===ee}function Zt(K,ee){const V=Un(ee);return Un(K).forEach(_e=>{mn(V,_e)||V.push(_e)}),V}function Ln(K,ee){return Un(ee).filter(V=>!mn(K,V))}class dn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(ee){this._rawValidators=ee||[],this._composedValidatorFn=at(this._rawValidators)}_setAsyncValidators(ee){this._rawAsyncValidators=ee||[],this._composedAsyncValidatorFn=vt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(ee){this._onDestroyCallbacks.push(ee)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(ee=>ee()),this._onDestroyCallbacks=[]}reset(ee=void 0){this.control&&this.control.reset(ee)}hasError(ee,V){return!!this.control&&this.control.hasError(ee,V)}getError(ee,V){return this.control?this.control.getError(ee,V):null}}class jn extends dn{get formDirective(){return null}get path(){return null}}class gn extends dn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ti{constructor(ee){this._cd=ee}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let rr=(()=>{class K extends Ti{constructor(V){super(V)}static#e=this.\u0275fac=function(J){return new(J||K)(v.Y36(gn,2))};static#t=this.\u0275dir=v.lG2({type:K,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(J,_e){2&J&&v.ekj("ng-untouched",_e.isUntouched)("ng-touched",_e.isTouched)("ng-pristine",_e.isPristine)("ng-dirty",_e.isDirty)("ng-valid",_e.isValid)("ng-invalid",_e.isInvalid)("ng-pending",_e.isPending)},features:[v.qOj]})}return K})(),us=(()=>{class K extends Ti{constructor(V){super(V)}static#e=this.\u0275fac=function(J){return new(J||K)(v.Y36(jn,10))};static#t=this.\u0275dir=v.lG2({type:K,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(J,_e){2&J&&v.ekj("ng-untouched",_e.isUntouched)("ng-touched",_e.isTouched)("ng-pristine",_e.isPristine)("ng-dirty",_e.isDirty)("ng-valid",_e.isValid)("ng-invalid",_e.isInvalid)("ng-pending",_e.isPending)("ng-submitted",_e.isSubmitted)},features:[v.qOj]})}return K})();const Hr="VALID",ns="INVALID",or="PENDING",ar="DISABLED";function is(K){return(Ts(K)?K.validators:K)||null}function Cn(K,ee){return(Ts(ee)?ee.asyncValidators:K)||null}function Ts(K){return null!=K&&!Array.isArray(K)&&"object"==typeof K}function go(K,ee,V){const J=K.controls;if(!(ee?Object.keys(J):J).length)throw new v.vHH(1e3,"");if(!J[V])throw new v.vHH(1001,"")}function Fo(K,ee,V){K._forEachChild((J,_e)=>{if(void 0===V[_e])throw new v.vHH(1002,"")})}class ct{constructor(ee,V){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(ee),this._assignAsyncValidators(V)}get validator(){return this._composedValidatorFn}set validator(ee){this._rawValidators=this._composedValidatorFn=ee}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(ee){this._rawAsyncValidators=this._composedAsyncValidatorFn=ee}get parent(){return this._parent}get valid(){return this.status===Hr}get invalid(){return this.status===ns}get pending(){return this.status==or}get disabled(){return this.status===ar}get enabled(){return this.status!==ar}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(ee){this._assignValidators(ee)}setAsyncValidators(ee){this._assignAsyncValidators(ee)}addValidators(ee){this.setValidators(Zt(ee,this._rawValidators))}addAsyncValidators(ee){this.setAsyncValidators(Zt(ee,this._rawAsyncValidators))}removeValidators(ee){this.setValidators(Ln(ee,this._rawValidators))}removeAsyncValidators(ee){this.setAsyncValidators(Ln(ee,this._rawAsyncValidators))}hasValidator(ee){return mn(this._rawValidators,ee)}hasAsyncValidator(ee){return mn(this._rawAsyncValidators,ee)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(ee={}){this.touched=!0,this._parent&&!ee.onlySelf&&this._parent.markAsTouched(ee)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(ee=>ee.markAllAsTouched())}markAsUntouched(ee={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(V=>{V.markAsUntouched({onlySelf:!0})}),this._parent&&!ee.onlySelf&&this._parent._updateTouched(ee)}markAsDirty(ee={}){this.pristine=!1,this._parent&&!ee.onlySelf&&this._parent.markAsDirty(ee)}markAsPristine(ee={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(V=>{V.markAsPristine({onlySelf:!0})}),this._parent&&!ee.onlySelf&&this._parent._updatePristine(ee)}markAsPending(ee={}){this.status=or,!1!==ee.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!ee.onlySelf&&this._parent.markAsPending(ee)}disable(ee={}){const V=this._parentMarkedDirty(ee.onlySelf);this.status=ar,this.errors=null,this._forEachChild(J=>{J.disable({...ee,onlySelf:!0})}),this._updateValue(),!1!==ee.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...ee,skipPristineCheck:V}),this._onDisabledChange.forEach(J=>J(!0))}enable(ee={}){const V=this._parentMarkedDirty(ee.onlySelf);this.status=Hr,this._forEachChild(J=>{J.enable({...ee,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:ee.emitEvent}),this._updateAncestors({...ee,skipPristineCheck:V}),this._onDisabledChange.forEach(J=>J(!1))}_updateAncestors(ee){this._parent&&!ee.onlySelf&&(this._parent.updateValueAndValidity(ee),ee.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(ee){this._parent=ee}getRawValue(){return this.value}updateValueAndValidity(ee={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Hr||this.status===or)&&this._runAsyncValidator(ee.emitEvent)),!1!==ee.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!ee.onlySelf&&this._parent.updateValueAndValidity(ee)}_updateTreeValidity(ee={emitEvent:!0}){this._forEachChild(V=>V._updateTreeValidity(ee)),this.updateValueAndValidity({onlySelf:!0,emitEvent:ee.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ar:Hr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(ee){if(this.asyncValidator){this.status=or,this._hasOwnPendingAsyncValidator=!0;const V=ln(this.asyncValidator(this));this._asyncValidationSubscription=V.subscribe(J=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(J,{emitEvent:ee})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(ee,V={}){this.errors=ee,this._updateControlsErrors(!1!==V.emitEvent)}get(ee){let V=ee;return null==V||(Array.isArray(V)||(V=V.split(".")),0===V.length)?null:V.reduce((J,_e)=>J&&J._find(_e),this)}getError(ee,V){const J=V?this.get(V):this;return J&&J.errors?J.errors[ee]:null}hasError(ee,V){return!!this.getError(ee,V)}get root(){let ee=this;for(;ee._parent;)ee=ee._parent;return ee}_updateControlsErrors(ee){this.status=this._calculateStatus(),ee&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(ee)}_initObservables(){this.valueChanges=new v.vpe,this.statusChanges=new v.vpe}_calculateStatus(){return this._allControlsDisabled()?ar:this.errors?ns:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(or)?or:this._anyControlsHaveStatus(ns)?ns:Hr}_anyControlsHaveStatus(ee){return this._anyControls(V=>V.status===ee)}_anyControlsDirty(){return this._anyControls(ee=>ee.dirty)}_anyControlsTouched(){return this._anyControls(ee=>ee.touched)}_updatePristine(ee={}){this.pristine=!this._anyControlsDirty(),this._parent&&!ee.onlySelf&&this._parent._updatePristine(ee)}_updateTouched(ee={}){this.touched=this._anyControlsTouched(),this._parent&&!ee.onlySelf&&this._parent._updateTouched(ee)}_registerOnCollectionChange(ee){this._onCollectionChange=ee}_setUpdateStrategy(ee){Ts(ee)&&null!=ee.updateOn&&(this._updateOn=ee.updateOn)}_parentMarkedDirty(ee){return!ee&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(ee){return null}_assignValidators(ee){this._rawValidators=Array.isArray(ee)?ee.slice():ee,this._composedValidatorFn=function Vs(K){return Array.isArray(K)?at(K):K||null}(this._rawValidators)}_assignAsyncValidators(ee){this._rawAsyncValidators=Array.isArray(ee)?ee.slice():ee,this._composedAsyncValidatorFn=function Tn(K){return Array.isArray(K)?vt(K):K||null}(this._rawAsyncValidators)}}class et extends ct{constructor(ee,V,J){super(is(V),Cn(J,V)),this.controls=ee,this._initObservables(),this._setUpdateStrategy(V),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(ee,V){return this.controls[ee]?this.controls[ee]:(this.controls[ee]=V,V.setParent(this),V._registerOnCollectionChange(this._onCollectionChange),V)}addControl(ee,V,J={}){this.registerControl(ee,V),this.updateValueAndValidity({emitEvent:J.emitEvent}),this._onCollectionChange()}removeControl(ee,V={}){this.controls[ee]&&this.controls[ee]._registerOnCollectionChange(()=>{}),delete this.controls[ee],this.updateValueAndValidity({emitEvent:V.emitEvent}),this._onCollectionChange()}setControl(ee,V,J={}){this.controls[ee]&&this.controls[ee]._registerOnCollectionChange(()=>{}),delete this.controls[ee],V&&this.registerControl(ee,V),this.updateValueAndValidity({emitEvent:J.emitEvent}),this._onCollectionChange()}contains(ee){return this.controls.hasOwnProperty(ee)&&this.controls[ee].enabled}setValue(ee,V={}){Fo(this,0,ee),Object.keys(ee).forEach(J=>{go(this,!0,J),this.controls[J].setValue(ee[J],{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V)}patchValue(ee,V={}){null!=ee&&(Object.keys(ee).forEach(J=>{const _e=this.controls[J];_e&&_e.patchValue(ee[J],{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V))}reset(ee={},V={}){this._forEachChild((J,_e)=>{J.reset(ee?ee[_e]:null,{onlySelf:!0,emitEvent:V.emitEvent})}),this._updatePristine(V),this._updateTouched(V),this.updateValueAndValidity(V)}getRawValue(){return this._reduceChildren({},(ee,V,J)=>(ee[J]=V.getRawValue(),ee))}_syncPendingControls(){let ee=this._reduceChildren(!1,(V,J)=>!!J._syncPendingControls()||V);return ee&&this.updateValueAndValidity({onlySelf:!0}),ee}_forEachChild(ee){Object.keys(this.controls).forEach(V=>{const J=this.controls[V];J&&ee(J,V)})}_setUpControls(){this._forEachChild(ee=>{ee.setParent(this),ee._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(ee){for(const[V,J]of Object.entries(this.controls))if(this.contains(V)&&ee(J))return!0;return!1}_reduceValue(){return this._reduceChildren({},(V,J,_e)=>((J.enabled||this.disabled)&&(V[_e]=J.value),V))}_reduceChildren(ee,V){let J=ee;return this._forEachChild((_e,Rt)=>{J=V(J,_e,Rt)}),J}_allControlsDisabled(){for(const ee of Object.keys(this.controls))if(this.controls[ee].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(ee){return this.controls.hasOwnProperty(ee)?this.controls[ee]:null}}class Wt extends et{}const Fn=new v.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>ai}),ai="always";function lr(K,ee){return[...ee.path,K]}function ji(K,ee,V=ai){_o(K,ee),ee.valueAccessor.writeValue(K.value),(K.disabled||"always"===V)&&ee.valueAccessor.setDisabledState?.(K.disabled),function Li(K,ee){ee.valueAccessor.registerOnChange(V=>{K._pendingValue=V,K._pendingChange=!0,K._pendingDirty=!0,"change"===K.updateOn&&Js(K,ee)})}(K,ee),function Nr(K,ee){const V=(J,_e)=>{ee.valueAccessor.writeValue(J),_e&&ee.viewToModelUpdate(J)};K.registerOnChange(V),ee._registerOnDestroy(()=>{K._unregisterOnChange(V)})}(K,ee),function Mn(K,ee){ee.valueAccessor.registerOnTouched(()=>{K._pendingTouched=!0,"blur"===K.updateOn&&K._pendingChange&&Js(K,ee),"submit"!==K.updateOn&&K.markAsTouched()})}(K,ee),function Vo(K,ee){if(ee.valueAccessor.setDisabledState){const V=J=>{ee.valueAccessor.setDisabledState(J)};K.registerOnDisabledChange(V),ee._registerOnDestroy(()=>{K._unregisterOnDisabledChange(V)})}}(K,ee)}function cr(K,ee,V=!0){const J=()=>{};ee.valueAccessor&&(ee.valueAccessor.registerOnChange(J),ee.valueAccessor.registerOnTouched(J)),Qo(K,ee),K&&(ee._invokeOnDestroyCallbacks(),K._registerOnCollectionChange(()=>{}))}function mo(K,ee){K.forEach(V=>{V.registerOnValidatorChange&&V.registerOnValidatorChange(ee)})}function _o(K,ee){const V=zt(K);null!==ee.validator?K.setValidators(kt(V,ee.validator)):"function"==typeof V&&K.setValidators([V]);const J=Rn(K);null!==ee.asyncValidator?K.setAsyncValidators(kt(J,ee.asyncValidator)):"function"==typeof J&&K.setAsyncValidators([J]);const _e=()=>K.updateValueAndValidity();mo(ee._rawValidators,_e),mo(ee._rawAsyncValidators,_e)}function Qo(K,ee){let V=!1;if(null!==K){if(null!==ee.validator){const _e=zt(K);if(Array.isArray(_e)&&_e.length>0){const Rt=_e.filter(kn=>kn!==ee.validator);Rt.length!==_e.length&&(V=!0,K.setValidators(Rt))}}if(null!==ee.asyncValidator){const _e=Rn(K);if(Array.isArray(_e)&&_e.length>0){const Rt=_e.filter(kn=>kn!==ee.asyncValidator);Rt.length!==_e.length&&(V=!0,K.setAsyncValidators(Rt))}}}const J=()=>{};return mo(ee._rawValidators,J),mo(ee._rawAsyncValidators,J),V}function Js(K,ee){K._pendingDirty&&K.markAsDirty(),K.setValue(K._pendingValue,{emitModelToViewChange:!1}),ee.viewToModelUpdate(K._pendingValue),K._pendingChange=!1}function ot(K,ee){if(!K.hasOwnProperty("model"))return!1;const V=K.model;return!!V.isFirstChange()||!Object.is(ee,V.currentValue)}function Gt(K,ee){if(!ee)return null;let V,J,_e;return Array.isArray(ee),ee.forEach(Rt=>{Rt.constructor===$e?V=Rt:function St(K){return Object.getPrototypeOf(K.constructor)===Z}(Rt)?J=Rt:_e=Rt}),_e||J||V||null}function Ei(K,ee){const V=K.indexOf(ee);V>-1&&K.splice(V,1)}function Mi(K){return"object"==typeof K&&null!==K&&2===Object.keys(K).length&&"value"in K&&"disabled"in K}const ni=class extends ct{constructor(ee=null,V,J){super(is(V),Cn(J,V)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(ee),this._setUpdateStrategy(V),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ts(V)&&(V.nonNullable||V.initialValueIsDefault)&&(this.defaultValue=Mi(ee)?ee.value:ee)}setValue(ee,V={}){this.value=this._pendingValue=ee,this._onChange.length&&!1!==V.emitModelToViewChange&&this._onChange.forEach(J=>J(this.value,!1!==V.emitViewToModelChange)),this.updateValueAndValidity(V)}patchValue(ee,V={}){this.setValue(ee,V)}reset(ee=this.defaultValue,V={}){this._applyFormState(ee),this.markAsPristine(V),this.markAsUntouched(V),this.setValue(this.value,V),this._pendingChange=!1}_updateValue(){}_anyControls(ee){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(ee){this._onChange.push(ee)}_unregisterOnChange(ee){Ei(this._onChange,ee)}registerOnDisabledChange(ee){this._onDisabledChange.push(ee)}_unregisterOnDisabledChange(ee){Ei(this._onDisabledChange,ee)}_forEachChild(ee){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(ee){Mi(ee)?(this.value=this._pendingValue=ee.value,ee.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=ee}},_a={provide:gn,useExisting:(0,v.Gpc)(()=>Pu)},Jo=(()=>Promise.resolve())();let Pu=(()=>{class K extends gn{constructor(V,J,_e,Rt,kn,Yi){super(),this._changeDetectorRef=kn,this.callSetDisabledState=Yi,this.control=new ni,this._registered=!1,this.name="",this.update=new v.vpe,this._parent=V,this._setValidators(J),this._setAsyncValidators(_e),this.valueAccessor=Gt(0,Rt)}ngOnChanges(V){if(this._checkForErrors(),!this._registered||"name"in V){if(this._registered&&(this._checkName(),this.formDirective)){const J=V.name.previousValue;this.formDirective.removeControl({name:J,path:this._getPath(J)})}this._setUpControl()}"isDisabled"in V&&this._updateDisabled(V),ot(V,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(V){this.viewModel=V,this.update.emit(V)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ji(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(V){Jo.then(()=>{this.control.setValue(V,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(V){const J=V.isDisabled.currentValue,_e=0!==J&&(0,v.VuI)(J);Jo.then(()=>{_e&&!this.control.disabled?this.control.disable():!_e&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(V){return this._parent?lr(V,this._parent):[V]}static#e=this.\u0275fac=function(J){return new(J||K)(v.Y36(jn,9),v.Y36(gt,10),v.Y36($t,10),v.Y36(ce,10),v.Y36(v.sBO,8),v.Y36(Fn,8))};static#t=this.\u0275dir=v.lG2({type:K,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[v._Bn([_a]),v.qOj,v.TTD]})}return K})(),fs=(()=>{class K{static#e=this.\u0275fac=function(J){return new(J||K)};static#t=this.\u0275dir=v.lG2({type:K,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return K})(),ea=(()=>{class K{static#e=this.\u0275fac=function(J){return new(J||K)};static#t=this.\u0275mod=v.oAB({type:K});static#n=this.\u0275inj=v.cJS({})}return K})();const ya=new v.OlP("NgModelWithFormControlWarning"),vr={provide:jn,useExisting:(0,v.Gpc)(()=>Eo)};let Eo=(()=>{class K extends jn{constructor(V,J,_e){super(),this.callSetDisabledState=_e,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new v.vpe,this._setValidators(V),this._setAsyncValidators(J)}ngOnChanges(V){this._checkFormPresent(),V.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Qo(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(V){const J=this.form.get(V.path);return ji(J,V,this.callSetDisabledState),J.updateValueAndValidity({emitEvent:!1}),this.directives.push(V),J}getControl(V){return this.form.get(V.path)}removeControl(V){cr(V.control||null,V,!1),function vn(K,ee){const V=K.indexOf(ee);V>-1&&K.splice(V,1)}(this.directives,V)}addFormGroup(V){this._setUpFormContainer(V)}removeFormGroup(V){this._cleanUpFormContainer(V)}getFormGroup(V){return this.form.get(V.path)}addFormArray(V){this._setUpFormContainer(V)}removeFormArray(V){this._cleanUpFormContainer(V)}getFormArray(V){return this.form.get(V.path)}updateModel(V,J){this.form.get(V.path).setValue(J)}onSubmit(V){return this.submitted=!0,function jt(K,ee){K._syncPendingControls(),ee.forEach(V=>{const J=V.control;"submit"===J.updateOn&&J._pendingChange&&(V.viewToModelUpdate(J._pendingValue),J._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(V),"dialog"===V?.target?.method}onReset(){this.resetForm()}resetForm(V=void 0){this.form.reset(V),this.submitted=!1}_updateDomValue(){this.directives.forEach(V=>{const J=V.control,_e=this.form.get(V.path);J!==_e&&(cr(J||null,V),(K=>K instanceof ni)(_e)&&(ji(_e,V,this.callSetDisabledState),V.control=_e))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(V){const J=this.form.get(V.path);(function Zo(K,ee){_o(K,ee)})(J,V),J.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(V){if(this.form){const J=this.form.get(V.path);J&&function yo(K,ee){return Qo(K,ee)}(J,V)&&J.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){_o(this.form,this),this._oldForm&&Qo(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(J){return new(J||K)(v.Y36(gt,10),v.Y36($t,10),v.Y36(Fn,8))};static#t=this.\u0275dir=v.lG2({type:K,selectors:[["","formGroup",""]],hostBindings:function(J,_e){1&J&&v.NdJ("submit",function(kn){return _e.onSubmit(kn)})("reset",function(){return _e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[v._Bn([vr]),v.qOj,v.TTD]})}return K})();const bo={provide:gn,useExisting:(0,v.Gpc)(()=>Ea)};let Ea=(()=>{class K extends gn{set isDisabled(V){}static#e=this._ngModelWarningSentOnce=!1;constructor(V,J,_e,Rt,kn){super(),this._ngModelWarningConfig=kn,this._added=!1,this.name=null,this.update=new v.vpe,this._ngModelWarningSent=!1,this._parent=V,this._setValidators(J),this._setAsyncValidators(_e),this.valueAccessor=Gt(0,Rt)}ngOnChanges(V){this._added||this._setUpControl(),ot(V,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(V){this.viewModel=V,this.update.emit(V)}get path(){return lr(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(J){return new(J||K)(v.Y36(jn,13),v.Y36(gt,10),v.Y36($t,10),v.Y36(ce,10),v.Y36(ya,8))};static#n=this.\u0275dir=v.lG2({type:K,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[v._Bn([bo]),v.qOj,v.TTD]})}return K})(),to=(()=>{class K{constructor(){this._validator=tt}ngOnChanges(V){if(this.inputName in V){const J=this.normalizeInput(V[this.inputName].currentValue);this._enabled=this.enabled(J),this._validator=this._enabled?this.createValidator(J):tt,this._onChange&&this._onChange()}}validate(V){return this._validator(V)}registerOnValidatorChange(V){this._onChange=V}enabled(V){return null!=V}static#e=this.\u0275fac=function(J){return new(J||K)};static#t=this.\u0275dir=v.lG2({type:K,features:[v.TTD]})}return K})();const $r={provide:gt,useExisting:(0,v.Gpc)(()=>Uo),multi:!0};let Uo=(()=>{class K extends to{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=v.VuI,this.createValidator=V=>Xe}enabled(V){return V}static#e=this.\u0275fac=(()=>{let V;return function(_e){return(V||(V=v.n5z(K)))(_e||K)}})();static#t=this.\u0275dir=v.lG2({type:K,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(J,_e){2&J&&v.uIk("required",_e._enabled?"":null)},inputs:{required:"required"},features:[v._Bn([$r]),v.qOj]})}return K})(),sc=(()=>{class K{static#e=this.\u0275fac=function(J){return new(J||K)};static#t=this.\u0275mod=v.oAB({type:K});static#n=this.\u0275inj=v.cJS({imports:[ea]})}return K})();class ul extends ct{constructor(ee,V,J){super(is(V),Cn(J,V)),this.controls=ee,this._initObservables(),this._setUpdateStrategy(V),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(ee){return this.controls[this._adjustIndex(ee)]}push(ee,V={}){this.controls.push(ee),this._registerControl(ee),this.updateValueAndValidity({emitEvent:V.emitEvent}),this._onCollectionChange()}insert(ee,V,J={}){this.controls.splice(ee,0,V),this._registerControl(V),this.updateValueAndValidity({emitEvent:J.emitEvent})}removeAt(ee,V={}){let J=this._adjustIndex(ee);J<0&&(J=0),this.controls[J]&&this.controls[J]._registerOnCollectionChange(()=>{}),this.controls.splice(J,1),this.updateValueAndValidity({emitEvent:V.emitEvent})}setControl(ee,V,J={}){let _e=this._adjustIndex(ee);_e<0&&(_e=0),this.controls[_e]&&this.controls[_e]._registerOnCollectionChange(()=>{}),this.controls.splice(_e,1),V&&(this.controls.splice(_e,0,V),this._registerControl(V)),this.updateValueAndValidity({emitEvent:J.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(ee,V={}){Fo(this,0,ee),ee.forEach((J,_e)=>{go(this,!1,_e),this.at(_e).setValue(J,{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V)}patchValue(ee,V={}){null!=ee&&(ee.forEach((J,_e)=>{this.at(_e)&&this.at(_e).patchValue(J,{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V))}reset(ee=[],V={}){this._forEachChild((J,_e)=>{J.reset(ee[_e],{onlySelf:!0,emitEvent:V.emitEvent})}),this._updatePristine(V),this._updateTouched(V),this.updateValueAndValidity(V)}getRawValue(){return this.controls.map(ee=>ee.getRawValue())}clear(ee={}){this.controls.length<1||(this._forEachChild(V=>V._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:ee.emitEvent}))}_adjustIndex(ee){return ee<0?ee+this.length:ee}_syncPendingControls(){let ee=this.controls.reduce((V,J)=>!!J._syncPendingControls()||V,!1);return ee&&this.updateValueAndValidity({onlySelf:!0}),ee}_forEachChild(ee){this.controls.forEach((V,J)=>{ee(V,J)})}_updateValue(){this.value=this.controls.filter(ee=>ee.enabled||this.disabled).map(ee=>ee.value)}_anyControls(ee){return this.controls.some(V=>V.enabled&&ee(V))}_setUpControls(){this._forEachChild(ee=>this._registerControl(ee))}_allControlsDisabled(){for(const ee of this.controls)if(ee.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(ee){ee.setParent(this),ee._registerOnCollectionChange(this._onCollectionChange)}_find(ee){return this.at(ee)??null}}function Gi(K){return!!K&&(void 0!==K.asyncValidators||void 0!==K.validators||void 0!==K.updateOn)}let Pr=(()=>{class K{constructor(){this.useNonNullable=!1}get nonNullable(){const V=new K;return V.useNonNullable=!0,V}group(V,J=null){const _e=this._reduceControls(V);let Rt={};return Gi(J)?Rt=J:null!==J&&(Rt.validators=J.validator,Rt.asyncValidators=J.asyncValidator),new et(_e,Rt)}record(V,J=null){const _e=this._reduceControls(V);return new Wt(_e,J)}control(V,J,_e){let Rt={};return this.useNonNullable?(Gi(J)?Rt=J:(Rt.validators=J,Rt.asyncValidators=_e),new ni(V,{...Rt,nonNullable:!0})):new ni(V,J,_e)}array(V,J,_e){const Rt=V.map(kn=>this._createControl(kn));return new ul(Rt,J,_e)}_reduceControls(V){const J={};return Object.keys(V).forEach(_e=>{J[_e]=this._createControl(V[_e])}),J}_createControl(V){return V instanceof ni||V instanceof ct?V:Array.isArray(V)?this.control(V[0],V.length>1?V[1]:null,V.length>2?V[2]:null):this.control(V)}static#e=this.\u0275fac=function(J){return new(J||K)};static#t=this.\u0275prov=v.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"})}return K})(),ac=(()=>{class K{static withConfig(V){return{ngModule:K,providers:[{provide:Fn,useValue:V.callSetDisabledState??ai}]}}static#e=this.\u0275fac=function(J){return new(J||K)};static#t=this.\u0275mod=v.oAB({type:K});static#n=this.\u0275inj=v.cJS({imports:[sc]})}return K})(),sa=(()=>{class K{static withConfig(V){return{ngModule:K,providers:[{provide:ya,useValue:V.warnOnNgModelWithFormControl??"always"},{provide:Fn,useValue:V.callSetDisabledState??ai}]}}static#e=this.\u0275fac=function(J){return new(J||K)};static#t=this.\u0275mod=v.oAB({type:K});static#n=this.\u0275inj=v.cJS({imports:[sc]})}return K})()},6593:(Ht,Ue,H)=>{H.d(Ue,{Dx:()=>ds,H7:()=>Hr,b2:()=>Ti,q6:()=>Ln,se:()=>ke});var v=H(9212),D=H(6814);class re extends D.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class fe extends re{static makeCurrent(){(0,D.HT)(new fe)}onAndCancel(et,we,Me){return et.addEventListener(we,Me),()=>{et.removeEventListener(we,Me)}}dispatchEvent(et,we){et.dispatchEvent(we)}remove(et){et.parentNode&&et.parentNode.removeChild(et)}createElement(et,we){return(we=we||this.getDefaultDocument()).createElement(et)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(et){return et.nodeType===Node.ELEMENT_NODE}isShadowRoot(et){return et instanceof DocumentFragment}getGlobalEventTarget(et,we){return"window"===we?window:"document"===we?et:"body"===we?et.body:null}getBaseHref(et){const we=function z(){return G=G||document.querySelector("base"),G?G.getAttribute("href"):null}();return null==we?null:function Z(ct){return new URL(ct,document.baseURI).pathname}(we)}resetBaseElement(){G=null}getUserAgent(){return window.navigator.userAgent}getCookie(et){return(0,D.Mx)(document.cookie,et)}}let G=null,ue=(()=>{class ct{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(Me){return new(Me||ct)};static#t=this.\u0275prov=v.Yz7({token:ct,factory:ct.\u0275fac})}return ct})();const ae=new v.OlP("EventManagerPlugins");let Ee=(()=>{class ct{constructor(we,Me){this._zone=Me,this._eventNameToPlugin=new Map,we.forEach(Tt=>{Tt.manager=this}),this._plugins=we.slice().reverse()}addEventListener(we,Me,Tt){return this._findPluginFor(Me).addEventListener(we,Me,Tt)}getZone(){return this._zone}_findPluginFor(we){let Me=this._eventNameToPlugin.get(we);if(Me)return Me;if(Me=this._plugins.find(Wt=>Wt.supports(we)),!Me)throw new v.vHH(5101,!1);return this._eventNameToPlugin.set(we,Me),Me}static#e=this.\u0275fac=function(Me){return new(Me||ct)(v.LFG(ae),v.LFG(v.R0b))};static#t=this.\u0275prov=v.Yz7({token:ct,factory:ct.\u0275fac})}return ct})();class be{constructor(et){this._doc=et}}const De="ng-app-id";let $e=(()=>{class ct{constructor(we,Me,Tt,Wt={}){this.doc=we,this.appId=Me,this.nonce=Tt,this.platformId=Wt,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,D.PM)(Wt),this.resetHostNodes()}addStyles(we){for(const Me of we)1===this.changeUsageCount(Me,1)&&this.onStyleAdded(Me)}removeStyles(we){for(const Me of we)this.changeUsageCount(Me,-1)<=0&&this.onStyleRemoved(Me)}ngOnDestroy(){const we=this.styleNodesInDOM;we&&(we.forEach(Me=>Me.remove()),we.clear());for(const Me of this.getAllStyles())this.onStyleRemoved(Me);this.resetHostNodes()}addHost(we){this.hostNodes.add(we);for(const Me of this.getAllStyles())this.addStyleToHost(we,Me)}removeHost(we){this.hostNodes.delete(we)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(we){for(const Me of this.hostNodes)this.addStyleToHost(Me,we)}onStyleRemoved(we){const Me=this.styleRef;Me.get(we)?.elements?.forEach(Tt=>Tt.remove()),Me.delete(we)}collectServerRenderedStyles(){const we=this.doc.head?.querySelectorAll(`style[${De}="${this.appId}"]`);if(we?.length){const Me=new Map;return we.forEach(Tt=>{null!=Tt.textContent&&Me.set(Tt.textContent,Tt)}),Me}return null}changeUsageCount(we,Me){const Tt=this.styleRef;if(Tt.has(we)){const Wt=Tt.get(we);return Wt.usage+=Me,Wt.usage}return Tt.set(we,{usage:Me,elements:[]}),Me}getStyleElement(we,Me){const Tt=this.styleNodesInDOM,Wt=Tt?.get(Me);if(Wt?.parentNode===we)return Tt.delete(Me),Wt.removeAttribute(De),Wt;{const Pn=this.doc.createElement("style");return this.nonce&&Pn.setAttribute("nonce",this.nonce),Pn.textContent=Me,this.platformIsServer&&Pn.setAttribute(De,this.appId),we.appendChild(Pn),Pn}}addStyleToHost(we,Me){const Tt=this.getStyleElement(we,Me),Wt=this.styleRef,Pn=Wt.get(Me)?.elements;Pn?Pn.push(Tt):Wt.set(Me,{elements:[Tt],usage:1})}resetHostNodes(){const we=this.hostNodes;we.clear(),we.add(this.doc.head)}static#e=this.\u0275fac=function(Me){return new(Me||ct)(v.LFG(D.K0),v.LFG(v.AFp),v.LFG(v.Ojb,8),v.LFG(v.Lbi))};static#t=this.\u0275prov=v.Yz7({token:ct,factory:ct.\u0275fac})}return ct})();const xe={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},wt=/%COMP%/g,Ot=new v.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!0});function pe(ct,et){return et.map(we=>we.replace(wt,ct))}let ke=(()=>{class ct{constructor(we,Me,Tt,Wt,Pn,Fn,ai,lr=null){this.eventManager=we,this.sharedStylesHost=Me,this.appId=Tt,this.removeStylesOnCompDestroy=Wt,this.doc=Pn,this.platformId=Fn,this.ngZone=ai,this.nonce=lr,this.rendererByCompId=new Map,this.platformIsServer=(0,D.PM)(Fn),this.defaultRenderer=new We(we,Pn,ai,this.platformIsServer)}createRenderer(we,Me){if(!we||!Me)return this.defaultRenderer;this.platformIsServer&&Me.encapsulation===v.ifc.ShadowDom&&(Me={...Me,encapsulation:v.ifc.Emulated});const Tt=this.getOrCreateRenderer(we,Me);return Tt instanceof Mt?Tt.applyToHost(we):Tt instanceof ln&&Tt.applyStyles(),Tt}getOrCreateRenderer(we,Me){const Tt=this.rendererByCompId;let Wt=Tt.get(Me.id);if(!Wt){const Pn=this.doc,Fn=this.ngZone,ai=this.eventManager,lr=this.sharedStylesHost,ji=this.removeStylesOnCompDestroy,cr=this.platformIsServer;switch(Me.encapsulation){case v.ifc.Emulated:Wt=new Mt(ai,lr,Me,this.appId,ji,Pn,Fn,cr);break;case v.ifc.ShadowDom:return new Ge(ai,lr,we,Me,Pn,Fn,this.nonce,cr);default:Wt=new ln(ai,lr,Me,ji,Pn,Fn,cr)}Tt.set(Me.id,Wt)}return Wt}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(Me){return new(Me||ct)(v.LFG(Ee),v.LFG($e),v.LFG(v.AFp),v.LFG(Ot),v.LFG(D.K0),v.LFG(v.Lbi),v.LFG(v.R0b),v.LFG(v.Ojb))};static#t=this.\u0275prov=v.Yz7({token:ct,factory:ct.\u0275fac})}return ct})();class We{constructor(et,we,Me,Tt){this.eventManager=et,this.doc=we,this.ngZone=Me,this.platformIsServer=Tt,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(et,we){return we?this.doc.createElementNS(xe[we]||we,et):this.doc.createElement(et)}createComment(et){return this.doc.createComment(et)}createText(et){return this.doc.createTextNode(et)}appendChild(et,we){(tt(et)?et.content:et).appendChild(we)}insertBefore(et,we,Me){et&&(tt(et)?et.content:et).insertBefore(we,Me)}removeChild(et,we){et&&et.removeChild(we)}selectRootElement(et,we){let Me="string"==typeof et?this.doc.querySelector(et):et;if(!Me)throw new v.vHH(-5104,!1);return we||(Me.textContent=""),Me}parentNode(et){return et.parentNode}nextSibling(et){return et.nextSibling}setAttribute(et,we,Me,Tt){if(Tt){we=Tt+":"+we;const Wt=xe[Tt];Wt?et.setAttributeNS(Wt,we,Me):et.setAttribute(we,Me)}else et.setAttribute(we,Me)}removeAttribute(et,we,Me){if(Me){const Tt=xe[Me];Tt?et.removeAttributeNS(Tt,we):et.removeAttribute(`${Me}:${we}`)}else et.removeAttribute(we)}addClass(et,we){et.classList.add(we)}removeClass(et,we){et.classList.remove(we)}setStyle(et,we,Me,Tt){Tt&(v.JOm.DashCase|v.JOm.Important)?et.style.setProperty(we,Me,Tt&v.JOm.Important?"important":""):et.style[we]=Me}removeStyle(et,we,Me){Me&v.JOm.DashCase?et.style.removeProperty(we):et.style[we]=""}setProperty(et,we,Me){null!=et&&(et[we]=Me)}setValue(et,we){et.nodeValue=we}listen(et,we,Me){if("string"==typeof et&&!(et=(0,D.q)().getGlobalEventTarget(this.doc,et)))throw new Error(`Unsupported event target ${et} for event ${we}`);return this.eventManager.addEventListener(et,we,this.decoratePreventDefault(Me))}decoratePreventDefault(et){return we=>{if("__ngUnwrap__"===we)return et;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>et(we)):et(we))&&we.preventDefault()}}}function tt(ct){return"TEMPLATE"===ct.tagName&&void 0!==ct.content}class Ge extends We{constructor(et,we,Me,Tt,Wt,Pn,Fn,ai){super(et,Wt,Pn,ai),this.sharedStylesHost=we,this.hostEl=Me,this.shadowRoot=Me.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const lr=pe(Tt.id,Tt.styles);for(const ji of lr){const cr=document.createElement("style");Fn&&cr.setAttribute("nonce",Fn),cr.textContent=ji,this.shadowRoot.appendChild(cr)}}nodeOrShadowRoot(et){return et===this.hostEl?this.shadowRoot:et}appendChild(et,we){return super.appendChild(this.nodeOrShadowRoot(et),we)}insertBefore(et,we,Me){return super.insertBefore(this.nodeOrShadowRoot(et),we,Me)}removeChild(et,we){return super.removeChild(this.nodeOrShadowRoot(et),we)}parentNode(et){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(et)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ln extends We{constructor(et,we,Me,Tt,Wt,Pn,Fn,ai){super(et,Wt,Pn,Fn),this.sharedStylesHost=we,this.removeStylesOnCompDestroy=Tt,this.styles=ai?pe(ai,Me.styles):Me.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Mt extends ln{constructor(et,we,Me,Tt,Wt,Pn,Fn,ai){const lr=Tt+"-"+Me.id;super(et,we,Me,Wt,Pn,Fn,ai,lr),this.contentAttr=function Ve(ct){return"_ngcontent-%COMP%".replace(wt,ct)}(lr),this.hostAttr=function Xe(ct){return"_nghost-%COMP%".replace(wt,ct)}(lr)}applyToHost(et){this.applyStyles(),this.setAttribute(et,this.hostAttr,"")}createElement(et,we){const Me=super.createElement(et,we);return super.setAttribute(Me,this.contentAttr,""),Me}}let yn=(()=>{class ct extends be{constructor(we){super(we)}supports(we){return!0}addEventListener(we,Me,Tt){return we.addEventListener(Me,Tt,!1),()=>this.removeEventListener(we,Me,Tt)}removeEventListener(we,Me,Tt){return we.removeEventListener(Me,Tt)}static#e=this.\u0275fac=function(Me){return new(Me||ct)(v.LFG(D.K0))};static#t=this.\u0275prov=v.Yz7({token:ct,factory:ct.\u0275fac})}return ct})();const Vn=["alt","control","meta","shift"],di={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ke={alt:ct=>ct.altKey,control:ct=>ct.ctrlKey,meta:ct=>ct.metaKey,shift:ct=>ct.shiftKey};let at=(()=>{class ct extends be{constructor(we){super(we)}supports(we){return null!=ct.parseEventName(we)}addEventListener(we,Me,Tt){const Wt=ct.parseEventName(Me),Pn=ct.eventCallback(Wt.fullKey,Tt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,D.q)().onAndCancel(we,Wt.domEventName,Pn))}static parseEventName(we){const Me=we.toLowerCase().split("."),Tt=Me.shift();if(0===Me.length||"keydown"!==Tt&&"keyup"!==Tt)return null;const Wt=ct._normalizeKey(Me.pop());let Pn="",Fn=Me.indexOf("code");if(Fn>-1&&(Me.splice(Fn,1),Pn="code."),Vn.forEach(lr=>{const ji=Me.indexOf(lr);ji>-1&&(Me.splice(ji,1),Pn+=lr+".")}),Pn+=Wt,0!=Me.length||0===Wt.length)return null;const ai={};return ai.domEventName=Tt,ai.fullKey=Pn,ai}static matchEventFullKeyCode(we,Me){let Tt=di[we.key]||we.key,Wt="";return Me.indexOf("code.")>-1&&(Tt=we.code,Wt="code."),!(null==Tt||!Tt)&&(Tt=Tt.toLowerCase()," "===Tt?Tt="space":"."===Tt&&(Tt="dot"),Vn.forEach(Pn=>{Pn!==Tt&&(0,Ke[Pn])(we)&&(Wt+=Pn+".")}),Wt+=Tt,Wt===Me)}static eventCallback(we,Me,Tt){return Wt=>{ct.matchEventFullKeyCode(Wt,we)&&Tt.runGuarded(()=>Me(Wt))}}static _normalizeKey(we){return"esc"===we?"escape":we}static#e=this.\u0275fac=function(Me){return new(Me||ct)(v.LFG(D.K0))};static#t=this.\u0275prov=v.Yz7({token:ct,factory:ct.\u0275fac})}return ct})();const Ln=(0,v.eFA)(v._c5,"browser",[{provide:v.Lbi,useValue:D.bD},{provide:v.g9A,useValue:function Rn(){fe.makeCurrent()},multi:!0},{provide:D.K0,useFactory:function mn(){return(0,v.RDi)(document),document},deps:[]}]),dn=new v.OlP(""),jn=[{provide:v.rWj,useClass:class ce{addToWindow(et){v.dqk.getAngularTestability=(Me,Tt=!0)=>{const Wt=et.findTestabilityInTree(Me,Tt);if(null==Wt)throw new v.vHH(5103,!1);return Wt},v.dqk.getAllAngularTestabilities=()=>et.getAllTestabilities(),v.dqk.getAllAngularRootElements=()=>et.getAllRootElements(),v.dqk.frameworkStabilizers||(v.dqk.frameworkStabilizers=[]),v.dqk.frameworkStabilizers.push(Me=>{const Tt=v.dqk.getAllAngularTestabilities();let Wt=Tt.length,Pn=!1;const Fn=function(ai){Pn=Pn||ai,Wt--,0==Wt&&Me(Pn)};Tt.forEach(ai=>{ai.whenStable(Fn)})})}findTestabilityInTree(et,we,Me){return null==we?null:et.getTestability(we)??(Me?(0,D.q)().isShadowRoot(we)?this.findTestabilityInTree(et,we.host,!0):this.findTestabilityInTree(et,we.parentElement,!0):null)}},deps:[]},{provide:v.lri,useClass:v.dDg,deps:[v.R0b,v.eoX,v.rWj]},{provide:v.dDg,useClass:v.dDg,deps:[v.R0b,v.eoX,v.rWj]}],gn=[{provide:v.zSh,useValue:"root"},{provide:v.qLn,useFactory:function Un(){return new v.qLn},deps:[]},{provide:ae,useClass:yn,multi:!0,deps:[D.K0,v.R0b,v.Lbi]},{provide:ae,useClass:at,multi:!0,deps:[D.K0]},ke,$e,Ee,{provide:v.FYo,useExisting:ke},{provide:D.JF,useClass:ue,deps:[]},[]];let Ti=(()=>{class ct{constructor(we){}static withServerTransition(we){return{ngModule:ct,providers:[{provide:v.AFp,useValue:we.appId}]}}static#e=this.\u0275fac=function(Me){return new(Me||ct)(v.LFG(dn,12))};static#t=this.\u0275mod=v.oAB({type:ct});static#n=this.\u0275inj=v.cJS({providers:[...gn,...jn],imports:[D.ez,v.hGG]})}return ct})(),ds=(()=>{class ct{constructor(we){this._doc=we}getTitle(){return this._doc.title}setTitle(we){this._doc.title=we||""}static#e=this.\u0275fac=function(Me){return new(Me||ct)(v.LFG(D.K0))};static#t=this.\u0275prov=v.Yz7({token:ct,factory:function(Me){let Tt=null;return Tt=Me?new Me:function us(){return new ds((0,v.LFG)(D.K0))}(),Tt},providedIn:"root"})}return ct})();typeof window<"u"&&window;let Hr=(()=>{class ct{static#e=this.\u0275fac=function(Me){return new(Me||ct)};static#t=this.\u0275prov=v.Yz7({token:ct,factory:function(Me){let Tt=null;return Tt=Me?new(Me||ct):v.LFG(or),Tt},providedIn:"root"})}return ct})(),or=(()=>{class ct extends Hr{constructor(we){super(),this._doc=we}sanitize(we,Me){if(null==Me)return null;switch(we){case v.q3G.NONE:return Me;case v.q3G.HTML:return(0,v.qzn)(Me,"HTML")?(0,v.z3N)(Me):(0,v.EiD)(this._doc,String(Me)).toString();case v.q3G.STYLE:return(0,v.qzn)(Me,"Style")?(0,v.z3N)(Me):Me;case v.q3G.SCRIPT:if((0,v.qzn)(Me,"Script"))return(0,v.z3N)(Me);throw new v.vHH(5200,!1);case v.q3G.URL:return(0,v.qzn)(Me,"URL")?(0,v.z3N)(Me):(0,v.mCW)(String(Me));case v.q3G.RESOURCE_URL:if((0,v.qzn)(Me,"ResourceURL"))return(0,v.z3N)(Me);throw new v.vHH(5201,!1);default:throw new v.vHH(5202,!1)}}bypassSecurityTrustHtml(we){return(0,v.JVY)(we)}bypassSecurityTrustStyle(we){return(0,v.L6k)(we)}bypassSecurityTrustScript(we){return(0,v.eBb)(we)}bypassSecurityTrustUrl(we){return(0,v.LAX)(we)}bypassSecurityTrustResourceUrl(we){return(0,v.pB0)(we)}static#e=this.\u0275fac=function(Me){return new(Me||ct)(v.LFG(D.K0))};static#t=this.\u0275prov=v.Yz7({token:ct,factory:function(Me){let Tt=null;return Tt=Me?new Me:function ns(ct){return new or(ct.get(D.K0))}(v.LFG(v.zs3)),Tt},providedIn:"root"})}return ct})()},2058:(Ht,Ue,H)=>{H.d(Ue,{gz:()=>ps,m2:()=>Dt,F0:()=>qr,rH:()=>Io,Od:()=>Lc,Bz:()=>vf,lC:()=>Is});var v=H(9212),D=H(5592),re=H(4674),G=H(2459),z=H(2096),Z=H(5619),ce=H(2572);const ae=(0,H(2306).d)(P=>function(){P(this),this.name="EmptyError",this.message="no elements in sequence"});var Ee=H(5211),be=H(4829);function De(P){return new D.y(L=>{(0,be.Xf)(P()).subscribe(L)})}var $e=H(8407),xe=H(8504),wt=H(6232),gt=H(7394),$t=H(9360),pn=H(8251);function sn(){return(0,$t.e)((P,L)=>{let M=null;P._refCount++;const F=(0,pn.x)(L,void 0,void 0,void 0,()=>{if(!P||P._refCount<=0||0<--P._refCount)return void(M=null);const q=P._connection,oe=M;M=null,q&&(!oe||q===oe)&&q.unsubscribe(),L.unsubscribe()});P.subscribe(F),F.closed||(M=P.connect())})}class Ot extends D.y{constructor(L,M){super(),this.source=L,this.subjectFactory=M,this._subject=null,this._refCount=0,this._connection=null,(0,$t.A)(L)&&(this.lift=L.lift)}_subscribe(L){return this.getSubject().subscribe(L)}getSubject(){const L=this._subject;return(!L||L.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:L}=this;this._subject=this._connection=null,L?.unsubscribe()}connect(){let L=this._connection;if(!L){L=this._connection=new gt.w0;const M=this.getSubject();L.add(this.source.subscribe((0,pn.x)(M,void 0,()=>{this._teardown(),M.complete()},F=>{this._teardown(),M.error(F)},()=>this._teardown()))),L.closed&&(this._connection=null,L=gt.w0.EMPTY)}return L}refCount(){return sn()(this)}}var Ve=H(8645),Xe=H(6814),pe=H(7398),ke=H(4664),We=H(8180),Ie=H(7921),je=H(2181),tt=H(1631);function Ge(P){return(0,$t.e)((L,M)=>{let F=!1;L.subscribe((0,pn.x)(M,q=>{F=!0,M.next(q)},()=>{F||M.next(P),M.complete()}))})}function ln(P=Mt){return(0,$t.e)((L,M)=>{let F=!1;L.subscribe((0,pn.x)(M,q=>{F=!0,M.next(q)},()=>F?M.complete():M.error(P())))})}function Mt(){return new ae}var yn=H(2737);function Vn(P,L){const M=arguments.length>=2;return F=>F.pipe(P?(0,je.h)((q,oe)=>P(q,oe,F)):yn.y,(0,We.q)(1),M?Ge(L):ln(()=>new ae))}var di=H(6328),Ke=H(9397),at=H(6306);function kt(P){return P<=0?()=>wt.E:(0,$t.e)((L,M)=>{let F=[];L.subscribe((0,pn.x)(M,q=>{F.push(q),P<F.length&&F.shift()},()=>{for(const q of F)M.next(q);M.complete()},void 0,()=>{F=null}))})}var Un=H(4716),mn=H(9773),Zt=H(7537),Ln=H(6593);const dn="primary",jn=Symbol("RouteTitle");class gn{constructor(L){this.params=L||{}}has(L){return Object.prototype.hasOwnProperty.call(this.params,L)}get(L){if(this.has(L)){const M=this.params[L];return Array.isArray(M)?M[0]:M}return null}getAll(L){if(this.has(L)){const M=this.params[L];return Array.isArray(M)?M:[M]}return[]}get keys(){return Object.keys(this.params)}}function Ti(P){return new gn(P)}function ki(P,L,M){const F=M.path.split("/");if(F.length>P.length||"full"===M.pathMatch&&(L.hasChildren()||F.length<P.length))return null;const q={};for(let oe=0;oe<F.length;oe++){const ve=F[oe],rt=P[oe];if(ve.startsWith(":"))q[ve.substring(1)]=rt;else if(ve!==rt.path)return null}return{consumed:P.slice(0,F.length),posParams:q}}function rr(P,L){const M=P?us(P):void 0,F=L?us(L):void 0;if(!M||!F||M.length!=F.length)return!1;let q;for(let oe=0;oe<M.length;oe++)if(q=M[oe],!ds(P[q],L[q]))return!1;return!0}function us(P){return[...Object.keys(P),...Object.getOwnPropertySymbols(P)]}function ds(P,L){if(Array.isArray(P)&&Array.isArray(L)){if(P.length!==L.length)return!1;const M=[...P].sort(),F=[...L].sort();return M.every((q,oe)=>F[oe]===q)}return P===L}function fo(P){return P.length>0?P[P.length-1]:null}function An(P){return function fe(P){return!!P&&(P instanceof D.y||(0,re.m)(P.lift)&&(0,re.m)(P.subscribe))}(P)?P:(0,v.QGY)(P)?(0,G.D)(Promise.resolve(P)):(0,z.of)(P)}const Xs={exact:function ma(P,L,M){if(!Cs(P.segments,L.segments)||!yr(P.segments,L.segments,M)||P.numberOfChildren!==L.numberOfChildren)return!1;for(const F in L.children)if(!P.children[F]||!ma(P.children[F],L.children[F],M))return!1;return!0},subset:_n},si={exact:function hi(P,L){return rr(P,L)},subset:function po(P,L){return Object.keys(L).length<=Object.keys(P).length&&Object.keys(L).every(M=>ds(P[M],L[M]))},ignored:()=>!0};function Jn(P,L,M){return Xs[M.paths](P.root,L.root,M.matrixParams)&&si[M.queryParams](P.queryParams,L.queryParams)&&!("exact"===M.fragment&&P.fragment!==L.fragment)}function _n(P,L,M){return zi(P,L,L.segments,M)}function zi(P,L,M,F){if(P.segments.length>M.length){const q=P.segments.slice(0,M.length);return!(!Cs(q,M)||L.hasChildren()||!yr(q,M,F))}if(P.segments.length===M.length){if(!Cs(P.segments,M)||!yr(P.segments,M,F))return!1;for(const q in L.children)if(!P.children[q]||!_n(P.children[q],L.children[q],F))return!1;return!0}{const q=M.slice(0,P.segments.length),oe=M.slice(P.segments.length);return!!(Cs(P.segments,q)&&yr(P.segments,q,F)&&P.children[dn])&&zi(P.children[dn],L,oe,F)}}function yr(P,L,M){return L.every((F,q)=>si[M](P[q].parameters,F.parameters))}class un{constructor(L=new Dn([],{}),M={},F=null){this.root=L,this.queryParams=M,this.fragment=F}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ti(this.queryParams)),this._queryParamMap}toString(){return ar.serialize(this)}}class Dn{constructor(L,M){this.segments=L,this.children=M,this.parent=null,Object.values(M).forEach(F=>F.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return is(this)}}class Jt{constructor(L,M){this.path=L,this.parameters=M}get parameterMap(){return this._parameterMap||(this._parameterMap=Ti(this.parameters)),this._parameterMap}toString(){return et(this)}}function Cs(P,L){return P.length===L.length&&P.every((M,F)=>M.path===L[F].path)}let ns=(()=>{class P{static#e=this.\u0275fac=function(F){return new(F||P)};static#t=this.\u0275prov=v.Yz7({token:P,factory:()=>new or,providedIn:"root"})}return P})();class or{parse(L){const M=new mo(L);return new un(M.parseRootSegment(),M.parseQueryParams(),M.parseFragment())}serialize(L){const M=`/${Vs(L.root,!0)}`,F=function Me(P){const L=Object.keys(P).map(M=>{const F=P[M];return Array.isArray(F)?F.map(q=>`${Tn(M)}=${Tn(q)}`).join("&"):`${Tn(M)}=${Tn(F)}`}).filter(M=>!!M);return L.length?`?${L.join("&")}`:""}(L.queryParams);return`${M}${F}${"string"==typeof L.fragment?`#${function Ts(P){return encodeURI(P)}(L.fragment)}`:""}`}}const ar=new or;function is(P){return P.segments.map(L=>et(L)).join("/")}function Vs(P,L){if(!P.hasChildren())return is(P);if(L){const M=P.children[dn]?Vs(P.children[dn],!1):"",F=[];return Object.entries(P.children).forEach(([q,oe])=>{q!==dn&&F.push(`${q}:${Vs(oe,!1)}`)}),F.length>0?`${M}(${F.join("//")})`:M}{const M=function Hr(P,L){let M=[];return Object.entries(P.children).forEach(([F,q])=>{F===dn&&(M=M.concat(L(q,F)))}),Object.entries(P.children).forEach(([F,q])=>{F!==dn&&(M=M.concat(L(q,F)))}),M}(P,(F,q)=>q===dn?[Vs(P.children[dn],!1)]:[`${q}:${Vs(F,!1)}`]);return 1===Object.keys(P.children).length&&null!=P.children[dn]?`${is(P)}/${M[0]}`:`${is(P)}/(${M.join("//")})`}}function Cn(P){return encodeURIComponent(P).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Tn(P){return Cn(P).replace(/%3B/gi,";")}function go(P){return Cn(P).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Fo(P){return decodeURIComponent(P)}function ct(P){return Fo(P.replace(/\+/g,"%20"))}function et(P){return`${go(P.path)}${function we(P){return Object.keys(P).map(L=>`;${go(L)}=${go(P[L])}`).join("")}(P.parameters)}`}const Tt=/^[^\/()?;#]+/;function Wt(P){const L=P.match(Tt);return L?L[0]:""}const Pn=/^[^\/()?;=#]+/,ai=/^[^=?&#]+/,ji=/^[^&#]+/;class mo{constructor(L){this.url=L,this.remaining=L}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Dn([],{}):new Dn([],this.parseChildren())}parseQueryParams(){const L={};if(this.consumeOptional("?"))do{this.parseQueryParam(L)}while(this.consumeOptional("&"));return L}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const L=[];for(this.peekStartsWith("(")||L.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),L.push(this.parseSegment());let M={};this.peekStartsWith("/(")&&(this.capture("/"),M=this.parseParens(!0));let F={};return this.peekStartsWith("(")&&(F=this.parseParens(!1)),(L.length>0||Object.keys(M).length>0)&&(F[dn]=new Dn(L,M)),F}parseSegment(){const L=Wt(this.remaining);if(""===L&&this.peekStartsWith(";"))throw new v.vHH(4009,!1);return this.capture(L),new Jt(Fo(L),this.parseMatrixParams())}parseMatrixParams(){const L={};for(;this.consumeOptional(";");)this.parseParam(L);return L}parseParam(L){const M=function Fn(P){const L=P.match(Pn);return L?L[0]:""}(this.remaining);if(!M)return;this.capture(M);let F="";if(this.consumeOptional("=")){const q=Wt(this.remaining);q&&(F=q,this.capture(F))}L[Fo(M)]=Fo(F)}parseQueryParam(L){const M=function lr(P){const L=P.match(ai);return L?L[0]:""}(this.remaining);if(!M)return;this.capture(M);let F="";if(this.consumeOptional("=")){const ve=function cr(P){const L=P.match(ji);return L?L[0]:""}(this.remaining);ve&&(F=ve,this.capture(F))}const q=ct(M),oe=ct(F);if(L.hasOwnProperty(q)){let ve=L[q];Array.isArray(ve)||(ve=[ve],L[q]=ve),ve.push(oe)}else L[q]=oe}parseParens(L){const M={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const F=Wt(this.remaining),q=this.remaining[F.length];if("/"!==q&&")"!==q&&";"!==q)throw new v.vHH(4010,!1);let oe;F.indexOf(":")>-1?(oe=F.slice(0,F.indexOf(":")),this.capture(oe),this.capture(":")):L&&(oe=dn);const ve=this.parseChildren();M[oe]=1===Object.keys(ve).length?ve[dn]:new Dn([],ve),this.consumeOptional("//")}return M}peekStartsWith(L){return this.remaining.startsWith(L)}consumeOptional(L){return!!this.peekStartsWith(L)&&(this.remaining=this.remaining.substring(L.length),!0)}capture(L){if(!this.consumeOptional(L))throw new v.vHH(4011,!1)}}function Vo(P){return P.segments.length>0?new Dn([],{[dn]:P}):P}function _o(P){const L={};for(const F of Object.keys(P.children)){const oe=_o(P.children[F]);if(F===dn&&0===oe.segments.length&&oe.hasChildren())for(const[ve,rt]of Object.entries(oe.children))L[ve]=rt;else(oe.segments.length>0||oe.hasChildren())&&(L[F]=oe)}return function Qo(P){if(1===P.numberOfChildren&&P.children[dn]){const L=P.children[dn];return new Dn(P.segments.concat(L.segments),L.children)}return P}(new Dn(P.segments,L))}function Li(P){return P instanceof un}function Js(P){let L;const q=Vo(function M(oe){const ve={};for(const Qe of oe.children){const Kt=M(Qe);ve[Qe.outlet]=Kt}const rt=new Dn(oe.url,ve);return oe===P&&(L=rt),rt}(P.root));return L??q}function Nr(P,L,M,F){let q=P;for(;q.parent;)q=q.parent;if(0===L.length)return vi(q,q,q,M,F);const oe=function Se(P){if("string"==typeof P[0]&&1===P.length&&"/"===P[0])return new ze(!0,0,P);let L=0,M=!1;const F=P.reduce((q,oe,ve)=>{if("object"==typeof oe&&null!=oe){if(oe.outlets){const rt={};return Object.entries(oe.outlets).forEach(([Qe,Kt])=>{rt[Qe]="string"==typeof Kt?Kt.split("/"):Kt}),[...q,{outlets:rt}]}if(oe.segmentPath)return[...q,oe.segmentPath]}return"string"!=typeof oe?[...q,oe]:0===ve?(oe.split("/").forEach((rt,Qe)=>{0==Qe&&"."===rt||(0==Qe&&""===rt?M=!0:".."===rt?L++:""!=rt&&q.push(rt))}),q):[...q,oe]},[]);return new ze(M,L,F)}(L);if(oe.toRoot())return vi(q,q,new Dn([],{}),M,F);const ve=function ot(P,L,M){if(P.isAbsolute)return new Ae(L,!0,0);if(!M)return new Ae(L,!1,NaN);if(null===M.parent)return new Ae(M,!0,0);const F=Zo(P.commands[0])?0:1;return function St(P,L,M){let F=P,q=L,oe=M;for(;oe>q;){if(oe-=q,F=F.parent,!F)throw new v.vHH(4005,!1);q=F.segments.length}return new Ae(F,!1,q-oe)}(M,M.segments.length-1+F,P.numberOfDoubleDots)}(oe,q,P),rt=ve.processChildren?vn(ve.segmentGroup,ve.index,oe.commands):Gt(ve.segmentGroup,ve.index,oe.commands);return vi(q,ve.segmentGroup,rt,M,F)}function Zo(P){return"object"==typeof P&&null!=P&&!P.outlets&&!P.segmentPath}function yo(P){return"object"==typeof P&&null!=P&&P.outlets}function vi(P,L,M,F,q){let ve,oe={};F&&Object.entries(F).forEach(([Qe,Kt])=>{oe[Qe]=Array.isArray(Kt)?Kt.map(Yn=>`${Yn}`):`${Kt}`}),ve=P===L?M:sl(P,L,M);const rt=Vo(_o(ve));return new un(rt,oe,q)}function sl(P,L,M){const F={};return Object.entries(P.children).forEach(([q,oe])=>{F[q]=oe===L?M:sl(oe,L,M)}),new Dn(P.segments,F)}class ze{constructor(L,M,F){if(this.isAbsolute=L,this.numberOfDoubleDots=M,this.commands=F,L&&F.length>0&&Zo(F[0]))throw new v.vHH(4003,!1);const q=F.find(yo);if(q&&q!==fo(F))throw new v.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ae{constructor(L,M,F){this.segmentGroup=L,this.processChildren=M,this.index=F}}function Gt(P,L,M){if(P||(P=new Dn([],{})),0===P.segments.length&&P.hasChildren())return vn(P,L,M);const F=function bn(P,L,M){let F=0,q=L;const oe={match:!1,pathIndex:0,commandIndex:0};for(;q<P.segments.length;){if(F>=M.length)return oe;const ve=P.segments[q],rt=M[F];if(yo(rt))break;const Qe=`${rt}`,Kt=F<M.length-1?M[F+1]:null;if(q>0&&void 0===Qe)break;if(Qe&&Kt&&"object"==typeof Kt&&void 0===Kt.outlets){if(!Ei(Qe,Kt,ve))return oe;F+=2}else{if(!Ei(Qe,{},ve))return oe;F++}q++}return{match:!0,pathIndex:q,commandIndex:F}}(P,L,M),q=M.slice(F.commandIndex);if(F.match&&F.pathIndex<P.segments.length){const oe=new Dn(P.segments.slice(0,F.pathIndex),{});return oe.children[dn]=new Dn(P.segments.slice(F.pathIndex),P.children),vn(oe,0,q)}return F.match&&0===q.length?new Dn(P.segments,{}):F.match&&!P.hasChildren()?_i(P,L,M):F.match?vn(P,0,q):_i(P,L,M)}function vn(P,L,M){if(0===M.length)return new Dn(P.segments,{});{const F=function jt(P){return yo(P[0])?P[0].outlets:{[dn]:P}}(M),q={};if(Object.keys(F).some(oe=>oe!==dn)&&P.children[dn]&&1===P.numberOfChildren&&0===P.children[dn].segments.length){const oe=vn(P.children[dn],L,M);return new Dn(P.segments,oe.children)}return Object.entries(F).forEach(([oe,ve])=>{"string"==typeof ve&&(ve=[ve]),null!==ve&&(q[oe]=Gt(P.children[oe],L,ve))}),Object.entries(P.children).forEach(([oe,ve])=>{void 0===F[oe]&&(q[oe]=ve)}),new Dn(P.segments,q)}}function _i(P,L,M){const F=P.segments.slice(0,L);let q=0;for(;q<M.length;){const oe=M[q];if(yo(oe)){const Qe=cn(oe.outlets);return new Dn(F,Qe)}if(0===q&&Zo(M[0])){F.push(new Jt(P.segments[L].path,mi(M[0]))),q++;continue}const ve=yo(oe)?oe.outlets[dn]:`${oe}`,rt=q<M.length-1?M[q+1]:null;ve&&rt&&Zo(rt)?(F.push(new Jt(ve,mi(rt))),q+=2):(F.push(new Jt(ve,{})),q++)}return new Dn(F,{})}function cn(P){const L={};return Object.entries(P).forEach(([M,F])=>{"string"==typeof F&&(F=[F]),null!==F&&(L[M]=_i(new Dn([],{}),0,F))}),L}function mi(P){const L={};return Object.entries(P).forEach(([M,F])=>L[M]=`${F}`),L}function Ei(P,L,M){return P==M.path&&rr(L,M.parameters)}const Mi="imperative";class ni{constructor(L,M){this.id=L,this.url=M}}class ei extends ni{constructor(L,M,F="imperative",q=null){super(L,M),this.type=0,this.navigationTrigger=F,this.restoredState=q}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Dt extends ni{constructor(L,M,F){super(L,M),this.urlAfterRedirects=F,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ii extends ni{constructor(L,M,F,q){super(L,M),this.reason=F,this.code=q,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class zr extends ni{constructor(L,M,F,q){super(L,M),this.reason=F,this.code=q,this.type=16}}class on extends ni{constructor(L,M,F,q){super(L,M),this.error=F,this.target=q,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ur extends ni{constructor(L,M,F,q){super(L,M),this.urlAfterRedirects=F,this.state=q,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xo extends ni{constructor(L,M,F,q){super(L,M),this.urlAfterRedirects=F,this.state=q,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sr extends ni{constructor(L,M,F,q,oe){super(L,M),this.urlAfterRedirects=F,this.state=q,this.shouldActivate=oe,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class hs extends ni{constructor(L,M,F,q){super(L,M),this.urlAfterRedirects=F,this.state=q,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _a extends ni{constructor(L,M,F,q){super(L,M),this.urlAfterRedirects=F,this.state=q,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jo{constructor(L){this.route=L,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Pu{constructor(L){this.route=L,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class fs{constructor(L){this.snapshot=L,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nc{constructor(L){this.snapshot=L,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dr{constructor(L){this.snapshot=L,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ic{constructor(L){this.snapshot=L,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fa{constructor(L,M,F){this.routerEvent=L,this.position=M,this.anchor=F,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ea{}class Va{constructor(L){this.url=L}}class rs{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ta,this.attachRef=null}}let ta=(()=>{class P{constructor(){this.contexts=new Map}onChildOutletCreated(M,F){const q=this.getOrCreateContext(M);q.outlet=F,this.contexts.set(M,q)}onChildOutletDestroyed(M){const F=this.getContext(M);F&&(F.outlet=null,F.attachRef=null)}onOutletDeactivated(){const M=this.contexts;return this.contexts=new Map,M}onOutletReAttached(M){this.contexts=M}getOrCreateContext(M){let F=this.getContext(M);return F||(F=new rs,this.contexts.set(M,F)),F}getContext(M){return this.contexts.get(M)||null}static#e=this.\u0275fac=function(F){return new(F||P)};static#t=this.\u0275prov=v.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"})}return P})();class ya{constructor(L){this._root=L}get root(){return this._root.value}parent(L){const M=this.pathFromRoot(L);return M.length>1?M[M.length-2]:null}children(L){const M=na(L,this._root);return M?M.children.map(F=>F.value):[]}firstChild(L){const M=na(L,this._root);return M&&M.children.length>0?M.children[0].value:null}siblings(L){const M=vo(L,this._root);return M.length<2?[]:M[M.length-2].children.map(q=>q.value).filter(q=>q!==L)}pathFromRoot(L){return vo(L,this._root).map(M=>M.value)}}function na(P,L){if(P===L.value)return L;for(const M of L.children){const F=na(P,M);if(F)return F}return null}function vo(P,L){if(P===L.value)return[L];for(const M of L.children){const F=vo(P,M);if(F.length)return F.unshift(L),F}return[]}class vr{constructor(L,M){this.value=L,this.children=M}toString(){return`TreeNode(${this.value})`}}function Eo(P){const L={};return P&&P.children.forEach(M=>L[M.value.outlet]=M),L}class Dr extends ya{constructor(L,M){super(L),this.snapshot=M,Pl(this,L)}toString(){return this.snapshot.toString()}}function Bo(P,L){const M=function li(P,L){const ve=new bo([],{},{},"",{},dn,L,null,{});return new Ea("",new vr(ve,[]))}(0,L),F=new Z.X([new Jt("",{})]),q=new Z.X({}),oe=new Z.X({}),ve=new Z.X({}),rt=new Z.X(""),Qe=new ps(F,q,ve,rt,oe,dn,L,M.root);return Qe.snapshot=M.root,new Dr(new vr(Qe,[]),M)}class ps{constructor(L,M,F,q,oe,ve,rt,Qe){this.urlSubject=L,this.paramsSubject=M,this.queryParamsSubject=F,this.fragmentSubject=q,this.dataSubject=oe,this.outlet=ve,this.component=rt,this._futureSnapshot=Qe,this.title=this.dataSubject?.pipe((0,pe.U)(Kt=>Kt[jn]))??(0,z.of)(void 0),this.url=L,this.params=M,this.queryParams=F,this.fragment=q,this.data=oe}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,pe.U)(L=>Ti(L)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,pe.U)(L=>Ti(L)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function va(P,L,M="emptyOnly"){let F;const{routeConfig:q}=P;return F=null===L||"always"!==M&&""!==q?.path&&(L.component||L.routeConfig?.loadComponent)?{params:P.params,data:P.data,resolve:{...P.data,...P._resolvedData??{}}}:{params:{...L.params,...P.params},data:{...L.data,...P.data},resolve:{...P.data,...L.data,...q?.data,...P._resolvedData}},q&&Bs(q)&&(F.resolve[jn]=q.title),F}class bo{get title(){return this.data?.[jn]}constructor(L,M,F,q,oe,ve,rt,Qe,Kt){this.url=L,this.params=M,this.queryParams=F,this.fragment=q,this.data=oe,this.outlet=ve,this.component=rt,this.routeConfig=Qe,this._resolve=Kt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ti(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ti(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(F=>F.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ea extends ya{constructor(L,M){super(M),this.url=L,Pl(this,M)}toString(){return Ba(this._root)}}function Pl(P,L){L.value._routerState=P,L.children.forEach(M=>Pl(P,M))}function Ba(P){const L=P.children.length>0?` { ${P.children.map(Ba).join(", ")} } `:"";return`${P.value}${L}`}function ss(P){if(P.snapshot){const L=P.snapshot,M=P._futureSnapshot;P.snapshot=M,rr(L.queryParams,M.queryParams)||P.queryParamsSubject.next(M.queryParams),L.fragment!==M.fragment&&P.fragmentSubject.next(M.fragment),rr(L.params,M.params)||P.paramsSubject.next(M.params),function Or(P,L){if(P.length!==L.length)return!1;for(let M=0;M<P.length;++M)if(!rr(P[M],L[M]))return!1;return!0}(L.url,M.url)||P.urlSubject.next(M.url),rr(L.data,M.data)||P.dataSubject.next(M.data)}else P.snapshot=P._futureSnapshot,P.dataSubject.next(P._futureSnapshot.data)}function eo(P,L){const M=rr(P.params,L.params)&&function oi(P,L){return Cs(P,L)&&P.every((M,F)=>rr(M.parameters,L[F].parameters))}(P.url,L.url);return M&&!(!P.parent!=!L.parent)&&(!P.parent||eo(P.parent,L.parent))}function Bs(P){return"string"==typeof P.title||null===P.title}let Is=(()=>{class P{constructor(){this.activated=null,this._activatedRoute=null,this.name=dn,this.activateEvents=new v.vpe,this.deactivateEvents=new v.vpe,this.attachEvents=new v.vpe,this.detachEvents=new v.vpe,this.parentContexts=(0,v.f3M)(ta),this.location=(0,v.f3M)(v.s_b),this.changeDetector=(0,v.f3M)(v.sBO),this.environmentInjector=(0,v.f3M)(v.lqb),this.inputBinder=(0,v.f3M)(Ss,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(M){if(M.name){const{firstChange:F,previousValue:q}=M.name;if(F)return;this.isTrackedInParentContexts(q)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(q)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(M){return this.parentContexts.getContext(M)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const M=this.parentContexts.getContext(this.name);M?.route&&(M.attachRef?this.attach(M.attachRef,M.route):this.activateWith(M.route,M.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new v.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new v.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new v.vHH(4012,!1);this.location.detach();const M=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(M.instance),M}attach(M,F){this.activated=M,this._activatedRoute=F,this.location.insert(M.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(M.instance)}deactivate(){if(this.activated){const M=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(M)}}activateWith(M,F){if(this.isActivated)throw new v.vHH(4013,!1);this._activatedRoute=M;const q=this.location,ve=M.snapshot.component,rt=this.parentContexts.getOrCreateContext(this.name).children,Qe=new Bn(M,rt,q.injector);this.activated=q.createComponent(ve,{index:q.length,injector:Qe,environmentInjector:F??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(F){return new(F||P)};static#t=this.\u0275dir=v.lG2({type:P,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[v.TTD]})}return P})();class Bn{constructor(L,M,F){this.route=L,this.childContexts=M,this.parent=F}get(L,M){return L===ps?this.route:L===ta?this.childContexts:this.parent.get(L,M)}}const Ss=new v.OlP("");let Ua=(()=>{class P{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(M){this.unsubscribeFromRouteData(M),this.subscribeToRouteData(M)}unsubscribeFromRouteData(M){this.outletDataSubscriptions.get(M)?.unsubscribe(),this.outletDataSubscriptions.delete(M)}subscribeToRouteData(M){const{activatedRoute:F}=M,q=(0,ce.a)([F.queryParams,F.params,F.data]).pipe((0,ke.w)(([oe,ve,rt],Qe)=>(rt={...oe,...ve,...rt},0===Qe?(0,z.of)(rt):Promise.resolve(rt)))).subscribe(oe=>{if(!M.isActivated||!M.activatedComponentRef||M.activatedRoute!==F||null===F.component)return void this.unsubscribeFromRouteData(M);const ve=(0,v.qFp)(F.component);if(ve)for(const{templateName:rt}of ve.inputs)M.activatedComponentRef.setInput(rt,oe[rt]);else this.unsubscribeFromRouteData(M)});this.outletDataSubscriptions.set(M,q)}static#e=this.\u0275fac=function(F){return new(F||P)};static#t=this.\u0275prov=v.Yz7({token:P,factory:P.\u0275fac})}return P})();function Ao(P,L,M){if(M&&P.shouldReuseRoute(L.value,M.value.snapshot)){const F=M.value;F._futureSnapshot=L.value;const q=function ia(P,L,M){return L.children.map(F=>{for(const q of M.children)if(P.shouldReuseRoute(F.value,q.value.snapshot))return Ao(P,F,q);return Ao(P,F)})}(P,L,M);return new vr(F,q)}{if(P.shouldAttach(L.value)){const oe=P.retrieve(L.value);if(null!==oe){const ve=oe.route;return ve.value._futureSnapshot=L.value,ve.children=L.children.map(rt=>Ao(P,rt)),ve}}const F=function ol(P){return new ps(new Z.X(P.url),new Z.X(P.params),new Z.X(P.queryParams),new Z.X(P.fragment),new Z.X(P.data),P.outlet,P.component,P)}(L.value),q=L.children.map(oe=>Ao(P,oe));return new vr(F,q)}}const to="ngNavigationCancelingError";function ja(P,L){const{redirectTo:M,navigationBehaviorOptions:F}=Li(L)?{redirectTo:L,navigationBehaviorOptions:void 0}:L,q=ba(!1,0,L);return q.url=M,q.navigationBehaviorOptions=F,q}function ba(P,L,M){const F=new Error("NavigationCancelingError: "+(P||""));return F[to]=!0,F.cancellationCode=L,M&&(F.url=M),F}function Ml(P){return P&&P[to]}let $r=(()=>{class P{static#e=this.\u0275fac=function(F){return new(F||P)};static#t=this.\u0275cmp=v.Xpm({type:P,selectors:[["ng-component"]],standalone:!0,features:[v.jDz],decls:1,vars:0,template:function(F,q){1&F&&v._UZ(0,"router-outlet")},dependencies:[Is],encapsulation:2})}return P})();function no(P){const L=P.children&&P.children.map(no),M=L?{...P,children:L}:{...P};return!M.component&&!M.loadComponent&&(L||M.loadChildren)&&M.outlet&&M.outlet!==dn&&(M.component=$r),M}function Us(P){return P.outlet||dn}function cl(P){if(!P)return null;if(P.routeConfig?._injector)return P.routeConfig._injector;for(let L=P.parent;L;L=L.parent){const M=L.routeConfig;if(M?._loadedInjector)return M._loadedInjector;if(M?._injector)return M._injector}return null}class ul{constructor(L,M,F,q,oe){this.routeReuseStrategy=L,this.futureState=M,this.currState=F,this.forwardEvent=q,this.inputBindingEnabled=oe}activate(L){const M=this.futureState._root,F=this.currState?this.currState._root:null;this.deactivateChildRoutes(M,F,L),ss(this.futureState.root),this.activateChildRoutes(M,F,L)}deactivateChildRoutes(L,M,F){const q=Eo(M);L.children.forEach(oe=>{const ve=oe.value.outlet;this.deactivateRoutes(oe,q[ve],F),delete q[ve]}),Object.values(q).forEach(oe=>{this.deactivateRouteAndItsChildren(oe,F)})}deactivateRoutes(L,M,F){const q=L.value,oe=M?M.value:null;if(q===oe)if(q.component){const ve=F.getContext(q.outlet);ve&&this.deactivateChildRoutes(L,M,ve.children)}else this.deactivateChildRoutes(L,M,F);else oe&&this.deactivateRouteAndItsChildren(M,F)}deactivateRouteAndItsChildren(L,M){L.value.component&&this.routeReuseStrategy.shouldDetach(L.value.snapshot)?this.detachAndStoreRouteSubtree(L,M):this.deactivateRouteAndOutlet(L,M)}detachAndStoreRouteSubtree(L,M){const F=M.getContext(L.value.outlet),q=F&&L.value.component?F.children:M,oe=Eo(L);for(const ve of Object.keys(oe))this.deactivateRouteAndItsChildren(oe[ve],q);if(F&&F.outlet){const ve=F.outlet.detach(),rt=F.children.onOutletDeactivated();this.routeReuseStrategy.store(L.value.snapshot,{componentRef:ve,route:L,contexts:rt})}}deactivateRouteAndOutlet(L,M){const F=M.getContext(L.value.outlet),q=F&&L.value.component?F.children:M,oe=Eo(L);for(const ve of Object.keys(oe))this.deactivateRouteAndItsChildren(oe[ve],q);F&&(F.outlet&&(F.outlet.deactivate(),F.children.onOutletDeactivated()),F.attachRef=null,F.route=null)}activateChildRoutes(L,M,F){const q=Eo(M);L.children.forEach(oe=>{this.activateRoutes(oe,q[oe.value.outlet],F),this.forwardEvent(new ic(oe.value.snapshot))}),L.children.length&&this.forwardEvent(new nc(L.value.snapshot))}activateRoutes(L,M,F){const q=L.value,oe=M?M.value:null;if(ss(q),q===oe)if(q.component){const ve=F.getOrCreateContext(q.outlet);this.activateChildRoutes(L,M,ve.children)}else this.activateChildRoutes(L,M,F);else if(q.component){const ve=F.getOrCreateContext(q.outlet);if(this.routeReuseStrategy.shouldAttach(q.snapshot)){const rt=this.routeReuseStrategy.retrieve(q.snapshot);this.routeReuseStrategy.store(q.snapshot,null),ve.children.onOutletReAttached(rt.contexts),ve.attachRef=rt.componentRef,ve.route=rt.route.value,ve.outlet&&ve.outlet.attach(rt.componentRef,rt.route.value),ss(rt.route.value),this.activateChildRoutes(L,null,ve.children)}else{const rt=cl(q.snapshot);ve.attachRef=null,ve.route=q,ve.injector=rt,ve.outlet&&ve.outlet.activateWith(q,ve.injector),this.activateChildRoutes(L,null,ve.children)}}else this.activateChildRoutes(L,null,F)}}class dl{constructor(L){this.path=L,this.route=this.path[this.path.length-1]}}class Wn{constructor(L,M){this.component=L,this.route=M}}function Gi(P,L,M){const F=P._root;return hr(F,L?L._root:null,M,[F.value])}function Gr(P,L){const M=Symbol(),F=L.get(P,M);return F===M?"function"!=typeof P||(0,v.Z0I)(P)?L.get(P):P:F}function hr(P,L,M,F,q={canDeactivateChecks:[],canActivateChecks:[]}){const oe=Eo(L);return P.children.forEach(ve=>{(function oc(P,L,M,F,q={canDeactivateChecks:[],canActivateChecks:[]}){const oe=P.value,ve=L?L.value:null,rt=M?M.getContext(P.value.outlet):null;if(ve&&oe.routeConfig===ve.routeConfig){const Qe=function ac(P,L,M){if("function"==typeof M)return M(P,L);switch(M){case"pathParamsChange":return!Cs(P.url,L.url);case"pathParamsOrQueryParamsChange":return!Cs(P.url,L.url)||!rr(P.queryParams,L.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!eo(P,L)||!rr(P.queryParams,L.queryParams);default:return!eo(P,L)}}(ve,oe,oe.routeConfig.runGuardsAndResolvers);Qe?q.canActivateChecks.push(new dl(F)):(oe.data=ve.data,oe._resolvedData=ve._resolvedData),hr(P,L,oe.component?rt?rt.children:null:M,F,q),Qe&&rt&&rt.outlet&&rt.outlet.isActivated&&q.canDeactivateChecks.push(new Wn(rt.outlet.component,ve))}else ve&&sa(L,rt,q),q.canActivateChecks.push(new dl(F)),hr(P,null,oe.component?rt?rt.children:null:M,F,q)})(ve,oe[ve.value.outlet],M,F.concat([ve.value]),q),delete oe[ve.value.outlet]}),Object.entries(oe).forEach(([ve,rt])=>sa(rt,M.getContext(ve),q)),q}function sa(P,L,M){const F=Eo(P),q=P.value;Object.entries(F).forEach(([oe,ve])=>{sa(ve,q.component?L?L.children.getContext(oe):null:L,M)}),M.canDeactivateChecks.push(new Wn(q.component&&L&&L.outlet&&L.outlet.isActivated?L.outlet.component:null,q))}function K(P){return"function"==typeof P}function jo(P){return P instanceof ae||"EmptyError"===P?.name}const xi=Symbol("INITIAL_VALUE");function fr(){return(0,ke.w)(P=>(0,ce.a)(P.map(L=>L.pipe((0,We.q)(1),(0,Ie.O)(xi)))).pipe((0,pe.U)(L=>{for(const M of L)if(!0!==M){if(M===xi)return xi;if(!1===M||M instanceof un)return M}return!0}),(0,je.h)(L=>L!==xi),(0,We.q)(1)))}function pr(P){return(0,$e.z)((0,Ke.b)(L=>{if(Li(L))throw ja(0,L)}),(0,pe.U)(L=>!0===L))}class Hs{constructor(L){this.segmentGroup=L||null}}class za extends Error{constructor(L){super(),this.urlTree=L}}function zs(P){return(0,xe._)(new Hs(P))}class Ho{constructor(L,M){this.urlSerializer=L,this.urlTree=M}lineralizeSegments(L,M){let F=[],q=M.root;for(;;){if(F=F.concat(q.segments),0===q.numberOfChildren)return(0,z.of)(F);if(q.numberOfChildren>1||!q.children[dn])return(0,xe._)(new v.vHH(4e3,!1));q=q.children[dn]}}applyRedirectCommands(L,M,F){const q=this.applyRedirectCreateUrlTree(M,this.urlSerializer.parse(M),L,F);if(M.startsWith("/"))throw new za(q);return q}applyRedirectCreateUrlTree(L,M,F,q){const oe=this.createSegmentGroup(L,M.root,F,q);return new un(oe,this.createQueryParams(M.queryParams,this.urlTree.queryParams),M.fragment)}createQueryParams(L,M){const F={};return Object.entries(L).forEach(([q,oe])=>{if("string"==typeof oe&&oe.startsWith(":")){const rt=oe.substring(1);F[q]=M[rt]}else F[q]=oe}),F}createSegmentGroup(L,M,F,q){const oe=this.createSegments(L,M.segments,F,q);let ve={};return Object.entries(M.children).forEach(([rt,Qe])=>{ve[rt]=this.createSegmentGroup(L,Qe,F,q)}),new Dn(oe,ve)}createSegments(L,M,F,q){return M.map(oe=>oe.path.startsWith(":")?this.findPosParam(L,oe,q):this.findOrReturn(oe,F))}findPosParam(L,M,F){const q=F[M.path.substring(1)];if(!q)throw new v.vHH(4001,!1);return q}findOrReturn(L,M){let F=0;for(const q of M){if(q.path===L.path)return M.splice(F),q;F++}return L}}const lc={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function cc(P,L,M,F,q){const oe=Wi(P,L,M);return oe.matched?(F=function rc(P,L){return P.providers&&!P._injector&&(P._injector=(0,v.MMx)(P.providers,L,`Route: ${P.path}`)),P._injector??L}(L,F),function fl(P,L,M,F){const q=L.canMatch;if(!q||0===q.length)return(0,z.of)(!0);const oe=q.map(ve=>{const rt=Gr(ve,P);return An(function kn(P){return P&&K(P.canMatch)}(rt)?rt.canMatch(L,M):(0,v.r_H)(P,()=>rt(L,M)))});return(0,z.of)(oe).pipe(fr(),pr())}(F,L,M).pipe((0,pe.U)(ve=>!0===ve?oe:{...lc}))):(0,z.of)(oe)}function Wi(P,L,M){if("**"===L.path)return function $a(P){return{matched:!0,parameters:P.length>0?fo(P).parameters:{},consumedSegments:P,remainingSegments:[],positionalParamSegments:{}}}(M);if(""===L.path)return"full"===L.pathMatch&&(P.hasChildren()||M.length>0)?{...lc}:{matched:!0,consumedSegments:[],remainingSegments:M,parameters:{},positionalParamSegments:{}};const q=(L.matcher||ki)(M,P,L);if(!q)return{...lc};const oe={};Object.entries(q.posParams??{}).forEach(([rt,Qe])=>{oe[rt]=Qe.path});const ve=q.consumed.length>0?{...oe,...q.consumed[q.consumed.length-1].parameters}:oe;return{matched:!0,consumedSegments:q.consumed,remainingSegments:M.slice(q.consumed.length),parameters:ve,positionalParamSegments:q.posParams??{}}}function Tr(P,L,M,F){return M.length>0&&function gl(P,L,M){return M.some(F=>bi(P,L,F)&&Us(F)!==dn)}(P,M,F)?{segmentGroup:new Dn(L,xc(F,new Dn(M,P.children))),slicedSegments:[]}:0===M.length&&function uc(P,L,M){return M.some(F=>bi(P,L,F))}(P,M,F)?{segmentGroup:new Dn(P.segments,Lr(P,0,M,F,P.children)),slicedSegments:M}:{segmentGroup:new Dn(P.segments,P.children),slicedSegments:M}}function Lr(P,L,M,F,q){const oe={};for(const ve of F)if(bi(P,M,ve)&&!q[Us(ve)]){const rt=new Dn([],{});oe[Us(ve)]=rt}return{...q,...oe}}function xc(P,L){const M={};M[dn]=L;for(const F of P)if(""===F.path&&Us(F)!==dn){const q=new Dn([],{});M[Us(F)]=q}return M}function bi(P,L,M){return(!(P.hasChildren()||L.length>0)||"full"!==M.pathMatch)&&""===M.path}class Lu{}class Od{constructor(L,M,F,q,oe,ve,rt){this.injector=L,this.configLoader=M,this.rootComponentType=F,this.config=q,this.urlTree=oe,this.paramsInheritanceStrategy=ve,this.urlSerializer=rt,this.applyRedirects=new Ho(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(L){return new v.vHH(4002,`'${L.segmentGroup}'`)}recognize(){const L=Tr(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(L).pipe((0,pe.U)(M=>{const F=new bo([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},dn,this.rootComponentType,null,{}),q=new vr(F,M),oe=new Ea("",q),ve=function Mn(P,L,M=null,F=null){return Nr(Js(P),L,M,F)}(F,[],this.urlTree.queryParams,this.urlTree.fragment);return ve.queryParams=this.urlTree.queryParams,oe.url=this.urlSerializer.serialize(ve),this.inheritParamsAndData(oe._root,null),{state:oe,tree:ve}}))}match(L){return this.processSegmentGroup(this.injector,this.config,L,dn).pipe((0,at.K)(F=>{if(F instanceof za)return this.urlTree=F.urlTree,this.match(F.urlTree.root);throw F instanceof Hs?this.noMatchError(F):F}))}inheritParamsAndData(L,M){const F=L.value,q=va(F,M,this.paramsInheritanceStrategy);F.params=Object.freeze(q.params),F.data=Object.freeze(q.data),L.children.forEach(oe=>this.inheritParamsAndData(oe,F))}processSegmentGroup(L,M,F,q){return 0===F.segments.length&&F.hasChildren()?this.processChildren(L,M,F):this.processSegment(L,M,F,F.segments,q,!0).pipe((0,pe.U)(oe=>oe instanceof vr?[oe]:[]))}processChildren(L,M,F){const q=[];for(const oe of Object.keys(F.children))"primary"===oe?q.unshift(oe):q.push(oe);return(0,G.D)(q).pipe((0,di.b)(oe=>{const ve=F.children[oe],rt=function xu(P,L){const M=P.filter(F=>Us(F)===L);return M.push(...P.filter(F=>Us(F)!==L)),M}(M,oe);return this.processSegmentGroup(L,rt,ve,oe)}),function vt(P,L){return(0,$t.e)(function _t(P,L,M,F,q){return(oe,ve)=>{let rt=M,Qe=L,Kt=0;oe.subscribe((0,pn.x)(ve,Yn=>{const ii=Kt++;Qe=rt?P(Qe,Yn,ii):(rt=!0,Yn),F&&ve.next(Qe)},q&&(()=>{rt&&ve.next(Qe),ve.complete()})))}}(P,L,arguments.length>=2,!0))}((oe,ve)=>(oe.push(...ve),oe)),Ge(null),function zt(P,L){const M=arguments.length>=2;return F=>F.pipe(P?(0,je.h)((q,oe)=>P(q,oe,F)):yn.y,kt(1),M?Ge(L):ln(()=>new ae))}(),(0,tt.z)(oe=>{if(null===oe)return zs(F);const ve=Oc(oe);return function Nd(P){P.sort((L,M)=>L.value.outlet===dn?-1:M.value.outlet===dn?1:L.value.outlet.localeCompare(M.value.outlet))}(ve),(0,z.of)(ve)}))}processSegment(L,M,F,q,oe,ve){return(0,G.D)(M).pipe((0,di.b)(rt=>this.processSegmentAgainstRoute(rt._injector??L,M,rt,F,q,oe,ve).pipe((0,at.K)(Qe=>{if(Qe instanceof Hs)return(0,z.of)(null);throw Qe}))),Vn(rt=>!!rt),(0,at.K)(rt=>{if(jo(rt))return function Rc(P,L,M){return 0===L.length&&!P.children[M]}(F,q,oe)?(0,z.of)(new Lu):zs(F);throw rt}))}processSegmentAgainstRoute(L,M,F,q,oe,ve,rt){return function ku(P,L,M,F){return!!(Us(P)===F||F!==dn&&bi(L,M,P))&&Wi(L,P,M).matched}(F,q,oe,ve)?void 0===F.redirectTo?this.matchSegmentAgainstRoute(L,q,F,oe,ve):this.allowRedirects&&rt?this.expandSegmentAgainstRouteUsingRedirect(L,q,M,F,oe,ve):zs(q):zs(q)}expandSegmentAgainstRouteUsingRedirect(L,M,F,q,oe,ve){const{matched:rt,consumedSegments:Qe,positionalParamSegments:Kt,remainingSegments:Yn}=Wi(M,q,oe);if(!rt)return zs(M);q.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const ii=this.applyRedirects.applyRedirectCommands(Qe,q.redirectTo,Kt);return this.applyRedirects.lineralizeSegments(q,ii).pipe((0,tt.z)(gr=>this.processSegment(L,F,M,gr.concat(Yn),ve,!1)))}matchSegmentAgainstRoute(L,M,F,q,oe){const ve=cc(M,F,q,L);return"**"===F.path&&(M.children={}),ve.pipe((0,ke.w)(rt=>rt.matched?this.getChildConfig(L=F._injector??L,F,q).pipe((0,ke.w)(({routes:Qe})=>{const Kt=F._loadedInjector??L,{consumedSegments:Yn,remainingSegments:ii,parameters:gr}=rt,br=new bo(Yn,gr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function Nl(P){return P.data||{}}(F),Us(F),F.component??F._loadedComponent??null,F,function Nc(P){return P.resolve||{}}(F)),{segmentGroup:Si,slicedSegments:Hi}=Tr(M,Yn,ii,Qe);if(0===Hi.length&&Si.hasChildren())return this.processChildren(Kt,Qe,Si).pipe((0,pe.U)(so=>null===so?null:new vr(br,so)));if(0===Qe.length&&0===Hi.length)return(0,z.of)(new vr(br,[]));const Ca=Us(F)===oe;return this.processSegment(Kt,Qe,Si,Hi,Ca?dn:oe,!0).pipe((0,pe.U)(so=>new vr(br,so instanceof vr?[so]:[])))})):zs(M)))}getChildConfig(L,M,F){return M.children?(0,z.of)({routes:M.children,injector:L}):M.loadChildren?void 0!==M._loadedRoutes?(0,z.of)({routes:M._loadedRoutes,injector:M._loadedInjector}):function js(P,L,M,F){const q=L.canLoad;if(void 0===q||0===q.length)return(0,z.of)(!0);const oe=q.map(ve=>{const rt=Gr(ve,P);return An(function V(P){return P&&K(P.canLoad)}(rt)?rt.canLoad(L,M):(0,v.r_H)(P,()=>rt(L,M)))});return(0,z.of)(oe).pipe(fr(),pr())}(L,M,F).pipe((0,tt.z)(q=>q?this.configLoader.loadChildren(L,M).pipe((0,Ke.b)(oe=>{M._loadedRoutes=oe.routes,M._loadedInjector=oe.injector})):function pl(P){return(0,xe._)(ba(!1,3))}())):(0,z.of)({routes:[],injector:L})}}function dg(P){const L=P.value.routeConfig;return L&&""===L.path}function Oc(P){const L=[],M=new Set;for(const F of P){if(!dg(F)){L.push(F);continue}const q=L.find(oe=>F.value.routeConfig===oe.value.routeConfig);void 0!==q?(q.children.push(...F.children),M.add(q)):L.push(F)}for(const F of M){const q=Oc(F.children);L.push(new vr(F.value,q))}return L.filter(F=>!M.has(F))}function j(P){const L=P.children.map(M=>j(M)).flat();return[P,...L]}function xt(P){return(0,ke.w)(L=>{const M=P(L);return M?(0,G.D)(M).pipe((0,pe.U)(()=>L)):(0,z.of)(L)})}let en=(()=>{class P{buildTitle(M){let F,q=M.root;for(;void 0!==q;)F=this.getResolvedTitleForRoute(q)??F,q=q.children.find(oe=>oe.outlet===dn);return F}getResolvedTitleForRoute(M){return M.data[jn]}static#e=this.\u0275fac=function(F){return new(F||P)};static#t=this.\u0275prov=v.Yz7({token:P,factory:()=>(0,v.f3M)($i),providedIn:"root"})}return P})(),$i=(()=>{class P extends en{constructor(M){super(),this.title=M}updateTitle(M){const F=this.buildTitle(M);void 0!==F&&this.title.setTitle(F)}static#e=this.\u0275fac=function(F){return new(F||P)(v.LFG(Ln.Dx))};static#t=this.\u0275prov=v.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"})}return P})();const wi=new v.OlP("",{providedIn:"root",factory:()=>({})}),Ai=new v.OlP("ROUTES");let ti=(()=>{class P{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,v.f3M)(v.Sil)}loadComponent(M){if(this.componentLoaders.get(M))return this.componentLoaders.get(M);if(M._loadedComponent)return(0,z.of)(M._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(M);const F=An(M.loadComponent()).pipe((0,pe.U)(ut),(0,Ke.b)(oe=>{this.onLoadEndListener&&this.onLoadEndListener(M),M._loadedComponent=oe}),(0,Un.x)(()=>{this.componentLoaders.delete(M)})),q=new Ot(F,()=>new Ve.x).pipe(sn());return this.componentLoaders.set(M,q),q}loadChildren(M,F){if(this.childrenLoaders.get(F))return this.childrenLoaders.get(F);if(F._loadedRoutes)return(0,z.of)({routes:F._loadedRoutes,injector:F._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(F);const oe=function Er(P,L,M,F){return An(P.loadChildren()).pipe((0,pe.U)(ut),(0,tt.z)(q=>q instanceof v.YKP||Array.isArray(q)?(0,z.of)(q):(0,G.D)(L.compileModuleAsync(q))),(0,pe.U)(q=>{F&&F(P);let oe,ve,rt=!1;return Array.isArray(q)?(ve=q,!0):(oe=q.create(M).injector,ve=oe.get(Ai,[],{optional:!0,self:!0}).flat()),{routes:ve.map(no),injector:oe}}))}(F,this.compiler,M,this.onLoadEndListener).pipe((0,Un.x)(()=>{this.childrenLoaders.delete(F)})),ve=new Ot(oe,()=>new Ve.x).pipe(sn());return this.childrenLoaders.set(F,ve),ve}static#e=this.\u0275fac=function(F){return new(F||P)};static#t=this.\u0275prov=v.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"})}return P})();function ut(P){return function fi(P){return P&&"object"==typeof P&&"default"in P}(P)?P.default:P}let Ds=(()=>{class P{static#e=this.\u0275fac=function(F){return new(F||P)};static#t=this.\u0275prov=v.Yz7({token:P,factory:()=>(0,v.f3M)(io),providedIn:"root"})}return P})(),io=(()=>{class P{shouldProcessUrl(M){return!0}extract(M){return M}merge(M,F){return M}static#e=this.\u0275fac=function(F){return new(F||P)};static#t=this.\u0275prov=v.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"})}return P})();const Wa=new v.OlP(""),zo=new v.OlP("");function Aa(P,L,M){const F=P.get(zo),q=P.get(Xe.K0);return P.get(v.R0b).runOutsideAngular(()=>{if(!q.startViewTransition||F.skipNextTransition)return F.skipNextTransition=!1,Promise.resolve();let oe;const ve=new Promise(Kt=>{oe=Kt}),rt=q.startViewTransition(()=>(oe(),function Co(P){return new Promise(L=>{(0,v.T8G)(L,{injector:P})})}(P))),{onViewTransitionCreated:Qe}=F;return Qe&&(0,v.r_H)(P,()=>Qe({transition:rt,from:L,to:M})),ve})}let oa=(()=>{class P{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ve.x,this.transitionAbortSubject=new Ve.x,this.configLoader=(0,v.f3M)(ti),this.environmentInjector=(0,v.f3M)(v.lqb),this.urlSerializer=(0,v.f3M)(ns),this.rootContexts=(0,v.f3M)(ta),this.location=(0,v.f3M)(Xe.Ye),this.inputBindingEnabled=null!==(0,v.f3M)(Ss,{optional:!0}),this.titleStrategy=(0,v.f3M)(en),this.options=(0,v.f3M)(wi,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,v.f3M)(Ds),this.createViewTransition=(0,v.f3M)(Wa,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,z.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=q=>this.events.next(new Pu(q)),this.configLoader.onLoadStartListener=q=>this.events.next(new Jo(q))}complete(){this.transitions?.complete()}handleNavigationRequest(M){const F=++this.navigationId;this.transitions?.next({...this.transitions.value,...M,id:F})}setupNavigations(M,F,q){return this.transitions=new Z.X({id:0,currentUrlTree:F,currentRawUrl:F,extractedUrl:this.urlHandlingStrategy.extract(F),urlAfterRedirects:this.urlHandlingStrategy.extract(F),rawUrl:F,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Mi,restoredState:null,currentSnapshot:q.snapshot,targetSnapshot:null,currentRouterState:q,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,je.h)(oe=>0!==oe.id),(0,pe.U)(oe=>({...oe,extractedUrl:this.urlHandlingStrategy.extract(oe.rawUrl)})),(0,ke.w)(oe=>{this.currentTransition=oe;let ve=!1,rt=!1;return(0,z.of)(oe).pipe((0,Ke.b)(Qe=>{this.currentNavigation={id:Qe.id,initialUrl:Qe.rawUrl,extractedUrl:Qe.extractedUrl,trigger:Qe.source,extras:Qe.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,ke.w)(Qe=>{const Kt=!M.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!Kt&&"reload"!==(Qe.extras.onSameUrlNavigation??M.onSameUrlNavigation)){const ii="";return this.events.next(new zr(Qe.id,this.urlSerializer.serialize(Qe.rawUrl),ii,0)),Qe.resolve(null),wt.E}if(this.urlHandlingStrategy.shouldProcessUrl(Qe.rawUrl))return(0,z.of)(Qe).pipe((0,ke.w)(ii=>{const gr=this.transitions?.getValue();return this.events.next(new ei(ii.id,this.urlSerializer.serialize(ii.extractedUrl),ii.source,ii.restoredState)),gr!==this.transitions?.getValue()?wt.E:Promise.resolve(ii)}),function O(P,L,M,F,q,oe){return(0,tt.z)(ve=>function dc(P,L,M,F,q,oe,ve="emptyOnly"){return new Od(P,L,M,F,q,ve,oe).recognize()}(P,L,M,F,ve.extractedUrl,q,oe).pipe((0,pe.U)(({state:rt,tree:Qe})=>({...ve,targetSnapshot:rt,urlAfterRedirects:Qe}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,M.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,Ke.b)(ii=>{oe.targetSnapshot=ii.targetSnapshot,oe.urlAfterRedirects=ii.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:ii.urlAfterRedirects};const gr=new ur(ii.id,this.urlSerializer.serialize(ii.extractedUrl),this.urlSerializer.serialize(ii.urlAfterRedirects),ii.targetSnapshot);this.events.next(gr)}));if(Kt&&this.urlHandlingStrategy.shouldProcessUrl(Qe.currentRawUrl)){const{id:ii,extractedUrl:gr,source:br,restoredState:Si,extras:Hi}=Qe,Ca=new ei(ii,this.urlSerializer.serialize(gr),br,Si);this.events.next(Ca);const so=Bo(0,this.rootComponentType).snapshot;return this.currentTransition=oe={...Qe,targetSnapshot:so,urlAfterRedirects:gr,extras:{...Hi,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=gr,(0,z.of)(oe)}{const ii="";return this.events.next(new zr(Qe.id,this.urlSerializer.serialize(Qe.extractedUrl),ii,1)),Qe.resolve(null),wt.E}}),(0,Ke.b)(Qe=>{const Kt=new Xo(Qe.id,this.urlSerializer.serialize(Qe.extractedUrl),this.urlSerializer.serialize(Qe.urlAfterRedirects),Qe.targetSnapshot);this.events.next(Kt)}),(0,pe.U)(Qe=>(this.currentTransition=oe={...Qe,guards:Gi(Qe.targetSnapshot,Qe.currentSnapshot,this.rootContexts)},oe)),function hl(P,L){return(0,tt.z)(M=>{const{targetSnapshot:F,currentSnapshot:q,guards:{canActivateChecks:oe,canDeactivateChecks:ve}}=M;return 0===ve.length&&0===oe.length?(0,z.of)({...M,guardsResult:!0}):function Hn(P,L,M,F){return(0,G.D)(P).pipe((0,tt.z)(q=>function Mr(P,L,M,F,q){const oe=L&&L.routeConfig?L.routeConfig.canDeactivate:null;if(!oe||0===oe.length)return(0,z.of)(!0);const ve=oe.map(rt=>{const Qe=cl(L)??q,Kt=Gr(rt,Qe);return An(function Rt(P){return P&&K(P.canDeactivate)}(Kt)?Kt.canDeactivate(P,L,M,F):(0,v.r_H)(Qe,()=>Kt(P,L,M,F))).pipe(Vn())});return(0,z.of)(ve).pipe(fr())}(q.component,q.route,M,L,F)),Vn(q=>!0!==q,!0))}(ve,F,q,P).pipe((0,tt.z)(rt=>rt&&function ee(P){return"boolean"==typeof P}(rt)?function Rl(P,L,M,F){return(0,G.D)(L).pipe((0,di.b)(q=>(0,Ee.z)(function os(P,L){return null!==P&&L&&L(new fs(P)),(0,z.of)(!0)}(q.route.parent,F),function Ou(P,L){return null!==P&&L&&L(new dr(P)),(0,z.of)(!0)}(q.route,F),function Ol(P,L,M){const F=L[L.length-1],oe=L.slice(0,L.length-1).reverse().map(ve=>function Pr(P){const L=P.routeConfig?P.routeConfig.canActivateChild:null;return L&&0!==L.length?{node:P,guards:L}:null}(ve)).filter(ve=>null!==ve).map(ve=>De(()=>{const rt=ve.guards.map(Qe=>{const Kt=cl(ve.node)??M,Yn=Gr(Qe,Kt);return An(function _e(P){return P&&K(P.canActivateChild)}(Yn)?Yn.canActivateChild(F,P):(0,v.r_H)(Kt,()=>Yn(F,P))).pipe(Vn())});return(0,z.of)(rt).pipe(fr())}));return(0,z.of)(oe).pipe(fr())}(P,q.path,M),function Ri(P,L,M){const F=L.routeConfig?L.routeConfig.canActivate:null;if(!F||0===F.length)return(0,z.of)(!0);const q=F.map(oe=>De(()=>{const ve=cl(L)??M,rt=Gr(oe,ve);return An(function J(P){return P&&K(P.canActivate)}(rt)?rt.canActivate(L,P):(0,v.r_H)(ve,()=>rt(L,P))).pipe(Vn())}));return(0,z.of)(q).pipe(fr())}(P,q.route,M))),Vn(q=>!0!==q,!0))}(F,oe,P,L):(0,z.of)(rt)),(0,pe.U)(rt=>({...M,guardsResult:rt})))})}(this.environmentInjector,Qe=>this.events.next(Qe)),(0,Ke.b)(Qe=>{if(oe.guardsResult=Qe.guardsResult,Li(Qe.guardsResult))throw ja(0,Qe.guardsResult);const Kt=new Sr(Qe.id,this.urlSerializer.serialize(Qe.extractedUrl),this.urlSerializer.serialize(Qe.urlAfterRedirects),Qe.targetSnapshot,!!Qe.guardsResult);this.events.next(Kt)}),(0,je.h)(Qe=>!!Qe.guardsResult||(this.cancelNavigationTransition(Qe,"",3),!1)),xt(Qe=>{if(Qe.guards.canActivateChecks.length)return(0,z.of)(Qe).pipe((0,Ke.b)(Kt=>{const Yn=new hs(Kt.id,this.urlSerializer.serialize(Kt.extractedUrl),this.urlSerializer.serialize(Kt.urlAfterRedirects),Kt.targetSnapshot);this.events.next(Yn)}),(0,ke.w)(Kt=>{let Yn=!1;return(0,z.of)(Kt).pipe(function ie(P,L){return(0,tt.z)(M=>{const{targetSnapshot:F,guards:{canActivateChecks:q}}=M;if(!q.length)return(0,z.of)(M);const oe=new Set(q.map(Qe=>Qe.route)),ve=new Set;for(const Qe of oe)if(!ve.has(Qe))for(const Kt of j(Qe))ve.add(Kt);let rt=0;return(0,G.D)(ve).pipe((0,di.b)(Qe=>oe.has(Qe)?function X(P,L,M,F){const q=P.routeConfig,oe=P._resolve;return void 0!==q?.title&&!Bs(q)&&(oe[jn]=q.title),function ye(P,L,M,F){const q=us(P);if(0===q.length)return(0,z.of)({});const oe={};return(0,G.D)(q).pipe((0,tt.z)(ve=>function lt(P,L,M,F){const q=cl(L)??F,oe=Gr(P,q);return An(oe.resolve?oe.resolve(L,M):(0,v.r_H)(q,()=>oe(L,M)))}(P[ve],L,M,F).pipe(Vn(),(0,Ke.b)(rt=>{oe[ve]=rt}))),kt(1),function Rn(P){return(0,pe.U)(()=>P)}(oe),(0,at.K)(ve=>jo(ve)?wt.E:(0,xe._)(ve)))}(oe,P,L,F).pipe((0,pe.U)(ve=>(P._resolvedData=ve,P.data=va(P,P.parent,M).resolve,null)))}(Qe,F,P,L):(Qe.data=va(Qe,Qe.parent,P).resolve,(0,z.of)(void 0))),(0,Ke.b)(()=>rt++),kt(1),(0,tt.z)(Qe=>rt===ve.size?(0,z.of)(M):wt.E))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,Ke.b)({next:()=>Yn=!0,complete:()=>{Yn||this.cancelNavigationTransition(Kt,"",2)}}))}),(0,Ke.b)(Kt=>{const Yn=new _a(Kt.id,this.urlSerializer.serialize(Kt.extractedUrl),this.urlSerializer.serialize(Kt.urlAfterRedirects),Kt.targetSnapshot);this.events.next(Yn)}))}),xt(Qe=>{const Kt=Yn=>{const ii=[];Yn.routeConfig?.loadComponent&&!Yn.routeConfig._loadedComponent&&ii.push(this.configLoader.loadComponent(Yn.routeConfig).pipe((0,Ke.b)(gr=>{Yn.component=gr}),(0,pe.U)(()=>{})));for(const gr of Yn.children)ii.push(...Kt(gr));return ii};return(0,ce.a)(Kt(Qe.targetSnapshot.root)).pipe(Ge(),(0,We.q)(1))}),xt(()=>this.afterPreactivation()),(0,ke.w)(()=>{const{currentSnapshot:Qe,targetSnapshot:Kt}=oe,Yn=this.createViewTransition?.(this.environmentInjector,Qe.root,Kt.root);return Yn?(0,G.D)(Yn).pipe((0,pe.U)(()=>oe)):(0,z.of)(oe)}),(0,pe.U)(Qe=>{const Kt=function wo(P,L,M){const F=Ao(P,L._root,M?M._root:void 0);return new Dr(F,L)}(M.routeReuseStrategy,Qe.targetSnapshot,Qe.currentRouterState);return this.currentTransition=oe={...Qe,targetRouterState:Kt},this.currentNavigation.targetRouterState=Kt,oe}),(0,Ke.b)(()=>{this.events.next(new ea)}),((P,L,M,F)=>(0,pe.U)(q=>(new ul(L,q.targetRouterState,q.currentRouterState,M,F).activate(P),q)))(this.rootContexts,M.routeReuseStrategy,Qe=>this.events.next(Qe),this.inputBindingEnabled),(0,We.q)(1),(0,Ke.b)({next:Qe=>{ve=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Dt(Qe.id,this.urlSerializer.serialize(Qe.extractedUrl),this.urlSerializer.serialize(Qe.urlAfterRedirects))),this.titleStrategy?.updateTitle(Qe.targetRouterState.snapshot),Qe.resolve(!0)},complete:()=>{ve=!0}}),(0,mn.R)(this.transitionAbortSubject.pipe((0,Ke.b)(Qe=>{throw Qe}))),(0,Un.x)(()=>{ve||rt||this.cancelNavigationTransition(oe,"",1),this.currentNavigation?.id===oe.id&&(this.currentNavigation=null)}),(0,at.K)(Qe=>{if(rt=!0,Ml(Qe))this.events.next(new Ii(oe.id,this.urlSerializer.serialize(oe.extractedUrl),Qe.message,Qe.cancellationCode)),function al(P){return Ml(P)&&Li(P.url)}(Qe)?this.events.next(new Va(Qe.url)):oe.resolve(!1);else{this.events.next(new on(oe.id,this.urlSerializer.serialize(oe.extractedUrl),Qe,oe.targetSnapshot??void 0));try{oe.resolve(M.errorHandler(Qe))}catch(Kt){oe.reject(Kt)}}return wt.E}))}))}cancelNavigationTransition(M,F,q){const oe=new Ii(M.id,this.urlSerializer.serialize(M.extractedUrl),F,q);this.events.next(oe),M.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(F){return new(F||P)};static#t=this.\u0275prov=v.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"})}return P})();function kl(P){return P!==Mi}let kc=(()=>{class P{static#e=this.\u0275fac=function(F){return new(F||P)};static#t=this.\u0275prov=v.Yz7({token:P,factory:()=>(0,v.f3M)(fg),providedIn:"root"})}return P})();class To{shouldDetach(L){return!1}store(L,M){}shouldAttach(L){return!1}retrieve(L){return null}shouldReuseRoute(L,M){return L.routeConfig===M.routeConfig}}let fg=(()=>{class P extends To{static#e=this.\u0275fac=(()=>{let M;return function(q){return(M||(M=v.n5z(P)))(q||P)}})();static#t=this.\u0275prov=v.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"})}return P})(),Fu=(()=>{class P{static#e=this.\u0275fac=function(F){return new(F||P)};static#t=this.\u0275prov=v.Yz7({token:P,factory:()=>(0,v.f3M)(Qi),providedIn:"root"})}return P})(),Qi=(()=>{class P extends Fu{constructor(){super(...arguments),this.location=(0,v.f3M)(Xe.Ye),this.urlSerializer=(0,v.f3M)(ns),this.options=(0,v.f3M)(wi,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,v.f3M)(Ds),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new un,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Bo(0,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(M){return this.location.subscribe(F=>{"popstate"===F.type&&M(F.url,F.state)})}handleRouterEvent(M,F){if(M instanceof ei)this.stateMemento=this.createStateMemento();else if(M instanceof zr)this.rawUrlTree=F.initialUrl;else if(M instanceof ur){if("eager"===this.urlUpdateStrategy&&!F.extras.skipLocationChange){const q=this.urlHandlingStrategy.merge(F.finalUrl,F.initialUrl);this.setBrowserUrl(q,F)}}else M instanceof ea?(this.currentUrlTree=F.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(F.finalUrl,F.initialUrl),this.routerState=F.targetRouterState,"deferred"===this.urlUpdateStrategy&&(F.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,F))):M instanceof Ii&&(3===M.code||2===M.code)?this.restoreHistory(F):M instanceof on?this.restoreHistory(F,!0):M instanceof Dt&&(this.lastSuccessfulId=M.id,this.currentPageId=this.browserPageId)}setBrowserUrl(M,F){const q=this.urlSerializer.serialize(M);if(this.location.isCurrentPathEqualTo(q)||F.extras.replaceUrl){const ve={...F.extras.state,...this.generateNgRouterState(F.id,this.browserPageId)};this.location.replaceState(q,"",ve)}else{const oe={...F.extras.state,...this.generateNgRouterState(F.id,this.browserPageId+1)};this.location.go(q,"",oe)}}restoreHistory(M,F=!1){if("computed"===this.canceledNavigationResolution){const oe=this.currentPageId-this.browserPageId;0!==oe?this.location.historyGo(oe):this.currentUrlTree===M.finalUrl&&0===oe&&(this.resetState(M),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(F&&this.resetState(M),this.resetUrlToCurrentUrlTree())}resetState(M){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,M.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(M,F){return"computed"===this.canceledNavigationResolution?{navigationId:M,\u0275routerPageId:F}:{navigationId:M}}static#e=this.\u0275fac=(()=>{let M;return function(q){return(M||(M=v.n5z(P)))(q||P)}})();static#t=this.\u0275prov=v.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"})}return P})();var ml=function(P){return P[P.COMPLETE=0]="COMPLETE",P[P.FAILED=1]="FAILED",P[P.REDIRECTING=2]="REDIRECTING",P}(ml||{});function hc(P,L){P.events.pipe((0,je.h)(M=>M instanceof Dt||M instanceof Ii||M instanceof on||M instanceof zr),(0,pe.U)(M=>M instanceof Dt||M instanceof zr?ml.COMPLETE:M instanceof Ii&&(0===M.code||1===M.code)?ml.REDIRECTING:ml.FAILED),(0,je.h)(M=>M!==ml.REDIRECTING),(0,We.q)(1)).subscribe(()=>{L()})}function $s(P){throw P}const Vu={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Zi={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let qr=(()=>{class P{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,v.f3M)(v.c2e),this.stateManager=(0,v.f3M)(Fu),this.options=(0,v.f3M)(wi,{optional:!0})||{},this.pendingTasks=(0,v.f3M)(v.HDt),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,v.f3M)(oa),this.urlSerializer=(0,v.f3M)(ns),this.location=(0,v.f3M)(Xe.Ye),this.urlHandlingStrategy=(0,v.f3M)(Ds),this._events=new Ve.x,this.errorHandler=this.options.errorHandler||$s,this.navigated=!1,this.routeReuseStrategy=(0,v.f3M)(kc),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,v.f3M)(Ai,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,v.f3M)(Ss,{optional:!0}),this.eventsSubscription=new gt.w0,this.isNgZoneEnabled=(0,v.f3M)(v.R0b)instanceof v.R0b&&v.R0b.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:M=>{this.console.warn(M)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const M=this.navigationTransitions.events.subscribe(F=>{try{const q=this.navigationTransitions.currentTransition,oe=this.navigationTransitions.currentNavigation;if(null!==q&&null!==oe)if(this.stateManager.handleRouterEvent(F,oe),F instanceof Ii&&0!==F.code&&1!==F.code)this.navigated=!0;else if(F instanceof Dt)this.navigated=!0;else if(F instanceof Va){const ve=this.urlHandlingStrategy.merge(F.url,q.currentRawUrl),rt={skipLocationChange:q.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||kl(q.source)};this.scheduleNavigation(ve,Mi,null,rt,{resolve:q.resolve,reject:q.reject,promise:q.promise})}(function gf(P){return!(P instanceof ea||P instanceof Va)})(F)&&this._events.next(F)}catch(q){this.navigationTransitions.transitionAbortSubject.next(q)}});this.eventsSubscription.add(M)}resetRootComponentType(M){this.routerState.root.component=M,this.navigationTransitions.rootComponentType=M}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Mi,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((M,F)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(M,"popstate",F)},0)}))}navigateToSyncWithBrowser(M,F,q){const oe={replaceUrl:!0},ve=q?.navigationId?q:null;if(q){const Qe={...q};delete Qe.navigationId,delete Qe.\u0275routerPageId,0!==Object.keys(Qe).length&&(oe.state=Qe)}const rt=this.parseUrl(M);this.scheduleNavigation(rt,F,ve,oe)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(M){this.config=M.map(no),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(M,F={}){const{relativeTo:q,queryParams:oe,fragment:ve,queryParamsHandling:rt,preserveFragment:Qe}=F,Kt=Qe?this.currentUrlTree.fragment:ve;let ii,Yn=null;switch(rt){case"merge":Yn={...this.currentUrlTree.queryParams,...oe};break;case"preserve":Yn=this.currentUrlTree.queryParams;break;default:Yn=oe||null}null!==Yn&&(Yn=this.removeEmptyProps(Yn));try{ii=Js(q?q.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof M[0]||!M[0].startsWith("/"))&&(M=[]),ii=this.currentUrlTree.root}return Nr(ii,M,Yn,Kt??null)}navigateByUrl(M,F={skipLocationChange:!1}){const q=Li(M)?M:this.parseUrl(M),oe=this.urlHandlingStrategy.merge(q,this.rawUrlTree);return this.scheduleNavigation(oe,Mi,null,F)}navigate(M,F={skipLocationChange:!1}){return function ro(P){for(let L=0;L<P.length;L++)if(null==P[L])throw new v.vHH(4008,!1)}(M),this.navigateByUrl(this.createUrlTree(M,F),F)}serializeUrl(M){return this.urlSerializer.serialize(M)}parseUrl(M){try{return this.urlSerializer.parse(M)}catch{return this.urlSerializer.parse("/")}}isActive(M,F){let q;if(q=!0===F?{...Vu}:!1===F?{...Zi}:F,Li(M))return Jn(this.currentUrlTree,M,q);const oe=this.parseUrl(M);return Jn(this.currentUrlTree,oe,q)}removeEmptyProps(M){return Object.keys(M).reduce((F,q)=>{const oe=M[q];return null!=oe&&(F[q]=oe),F},{})}scheduleNavigation(M,F,q,oe,ve){if(this.disposed)return Promise.resolve(!1);let rt,Qe,Kt;ve?(rt=ve.resolve,Qe=ve.reject,Kt=ve.promise):Kt=new Promise((ii,gr)=>{rt=ii,Qe=gr});const Yn=this.pendingTasks.add();return hc(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Yn))}),this.navigationTransitions.handleNavigationRequest({source:F,restoredState:q,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:M,extras:oe,resolve:rt,reject:Qe,promise:Kt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Kt.catch(ii=>Promise.reject(ii))}static#e=this.\u0275fac=function(F){return new(F||P)};static#t=this.\u0275prov=v.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"})}return P})(),Io=(()=>{class P{constructor(M,F,q,oe,ve,rt){this.router=M,this.route=F,this.tabIndexAttribute=q,this.renderer=oe,this.el=ve,this.locationStrategy=rt,this.href=null,this.commands=null,this.onChanges=new Ve.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Qe=ve.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Qe||"area"===Qe,this.isAnchorElement?this.subscription=M.events.subscribe(Kt=>{Kt instanceof Dt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(M){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",M)}ngOnChanges(M){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(M){null!=M?(this.commands=Array.isArray(M)?M:[M],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(M,F,q,oe,ve){return!!(null===this.urlTree||this.isAnchorElement&&(0!==M||F||q||oe||ve||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const M=null===this.href?null:(0,v.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",M)}applyAttributeValue(M,F){const q=this.renderer,oe=this.el.nativeElement;null!==F?q.setAttribute(oe,M,F):q.removeAttribute(oe,M)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(F){return new(F||P)(v.Y36(qr),v.Y36(ps),v.$8M("tabindex"),v.Y36(v.Qsj),v.Y36(v.SBq),v.Y36(Xe.S$))};static#t=this.\u0275dir=v.lG2({type:P,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(F,q){1&F&&v.NdJ("click",function(ve){return q.onClick(ve.button,ve.ctrlKey,ve.shiftKey,ve.altKey,ve.metaKey)}),2&F&&v.uIk("target",q.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",v.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",v.VuI],replaceUrl:["replaceUrl","replaceUrl",v.VuI],routerLink:"routerLink"},standalone:!0,features:[v.Xq5,v.TTD]})}return P})(),Lc=(()=>{class P{get isActive(){return this._isActive}constructor(M,F,q,oe,ve){this.router=M,this.element=F,this.renderer=q,this.cdr=oe,this.link=ve,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new v.vpe,this.routerEventsSubscription=M.events.subscribe(rt=>{rt instanceof Dt&&this.update()})}ngAfterContentInit(){(0,z.of)(this.links.changes,(0,z.of)(null)).pipe((0,Zt.J)()).subscribe(M=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const M=[...this.links.toArray(),this.link].filter(F=>!!F).map(F=>F.onChanges);this.linkInputChangesSubscription=(0,G.D)(M).pipe((0,Zt.J)()).subscribe(F=>{this._isActive!==this.isLinkActive(this.router)(F)&&this.update()})}set routerLinkActive(M){const F=Array.isArray(M)?M:M.split(" ");this.classes=F.filter(q=>!!q)}ngOnChanges(M){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const M=this.hasActiveLinks();this._isActive!==M&&(this._isActive=M,this.cdr.markForCheck(),this.classes.forEach(F=>{M?this.renderer.addClass(this.element.nativeElement,F):this.renderer.removeClass(this.element.nativeElement,F)}),M&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(M))})}isLinkActive(M){const F=function Kr(P){return!!P.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return q=>!!q.urlTree&&M.isActive(q.urlTree,F)}hasActiveLinks(){const M=this.isLinkActive(this.router);return this.link&&M(this.link)||this.links.some(M)}static#e=this.\u0275fac=function(F){return new(F||P)(v.Y36(qr),v.Y36(v.SBq),v.Y36(v.Qsj),v.Y36(v.sBO),v.Y36(Io,8))};static#t=this.\u0275dir=v.lG2({type:P,selectors:[["","routerLinkActive",""]],contentQueries:function(F,q,oe){if(1&F&&v.Suo(oe,Io,5),2&F){let ve;v.iGM(ve=v.CRH())&&(q.links=ve)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[v.TTD]})}return P})();class ui{}let pg=(()=>{class P{constructor(M,F,q,oe,ve){this.router=M,this.injector=q,this.preloadingStrategy=oe,this.loader=ve}setUpPreloading(){this.subscription=this.router.events.pipe((0,je.h)(M=>M instanceof Dt),(0,di.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(M,F){const q=[];for(const oe of F){oe.providers&&!oe._injector&&(oe._injector=(0,v.MMx)(oe.providers,M,`Route: ${oe.path}`));const ve=oe._injector??M,rt=oe._loadedInjector??ve;(oe.loadChildren&&!oe._loadedRoutes&&void 0===oe.canLoad||oe.loadComponent&&!oe._loadedComponent)&&q.push(this.preloadConfig(ve,oe)),(oe.children||oe._loadedRoutes)&&q.push(this.processRoutes(rt,oe.children??oe._loadedRoutes))}return(0,G.D)(q).pipe((0,Zt.J)())}preloadConfig(M,F){return this.preloadingStrategy.preload(F,()=>{let q;q=F.loadChildren&&void 0===F.canLoad?this.loader.loadChildren(M,F):(0,z.of)(null);const oe=q.pipe((0,tt.z)(ve=>null===ve?(0,z.of)(void 0):(F._loadedRoutes=ve.routes,F._loadedInjector=ve.injector,this.processRoutes(ve.injector??M,ve.routes))));if(F.loadComponent&&!F._loadedComponent){const ve=this.loader.loadComponent(F);return(0,G.D)([oe,ve]).pipe((0,Zt.J)())}return oe})}static#e=this.\u0275fac=function(F){return new(F||P)(v.LFG(qr),v.LFG(v.Sil),v.LFG(v.lqb),v.LFG(ui),v.LFG(ti))};static#t=this.\u0275prov=v.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"})}return P})();const Yr=new v.OlP("");let Bu=(()=>{class P{constructor(M,F,q,oe,ve={}){this.urlSerializer=M,this.transitions=F,this.viewportScroller=q,this.zone=oe,this.options=ve,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},ve.scrollPositionRestoration=ve.scrollPositionRestoration||"disabled",ve.anchorScrolling=ve.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(M=>{M instanceof ei?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=M.navigationTrigger,this.restoredId=M.restoredState?M.restoredState.navigationId:0):M instanceof Dt?(this.lastId=M.id,this.scheduleScrollEvent(M,this.urlSerializer.parse(M.urlAfterRedirects).fragment)):M instanceof zr&&0===M.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(M,this.urlSerializer.parse(M.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(M=>{M instanceof Fa&&(M.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(M.position):M.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(M.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(M,F){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Fa(M,"popstate"===this.lastSource?this.store[this.restoredId]:null,F))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(F){v.$Z()};static#t=this.\u0275prov=v.Yz7({token:P,factory:P.\u0275fac})}return P})();function xn(P,L){return{\u0275kind:P,\u0275providers:L}}function yf(){const P=(0,v.f3M)(v.zs3);return L=>{const M=P.get(v.z2F);if(L!==M.components[0])return;const F=P.get(qr),q=P.get(Ld);1===P.get(Ll)&&F.initialNavigation(),P.get(Fd,null,v.XFs.Optional)?.setUpPreloading(),P.get(Yr,null,v.XFs.Optional)?.init(),F.resetRootComponentType(M.componentTypes[0]),q.closed||(q.next(),q.complete(),q.unsubscribe())}}const Ld=new v.OlP("",{factory:()=>new Ve.x}),Ll=new v.OlP("",{providedIn:"root",factory:()=>1}),Fd=new v.OlP("");function mg(P){return xn(0,[{provide:Fd,useExisting:pg},{provide:ui,useExisting:P}])}function qi(P){return xn(9,[{provide:Wa,useValue:Aa},{provide:zo,useValue:{skipNextTransition:!!P?.skipInitialTransition,...P}}])}const Fc=new v.OlP("ROUTER_FORROOT_GUARD"),Ka=[Xe.Ye,{provide:ns,useClass:or},qr,ta,{provide:ps,useFactory:function Uu(P){return P.routerState.root},deps:[qr]},ti,[]];let vf=(()=>{class P{constructor(M){}static forRoot(M,F){return{ngModule:P,providers:[Ka,[],{provide:Ai,multi:!0,useValue:M},{provide:Fc,useFactory:Ud,deps:[[qr,new v.FiY,new v.tp0]]},{provide:wi,useValue:F||{}},F?.useHash?{provide:Xe.S$,useClass:Xe.Do}:{provide:Xe.S$,useClass:Xe.b0},{provide:Yr,useFactory:()=>{const P=(0,v.f3M)(Xe.EM),L=(0,v.f3M)(v.R0b),M=(0,v.f3M)(wi),F=(0,v.f3M)(oa),q=(0,v.f3M)(ns);return M.scrollOffset&&P.setOffset(M.scrollOffset),new Bu(q,F,P,L,M)}},F?.preloadingStrategy?mg(F.preloadingStrategy).\u0275providers:[],F?.initialNavigation?Gs(F):[],F?.bindToComponentInputs?xn(8,[Ua,{provide:Ss,useExisting:Ua}]).\u0275providers:[],F?.enableViewTransitions?qi().\u0275providers:[],[{provide:So,useFactory:yf},{provide:v.tb,multi:!0,useExisting:So}]]}}static forChild(M){return{ngModule:P,providers:[{provide:Ai,multi:!0,useValue:M}]}}static#e=this.\u0275fac=function(F){return new(F||P)(v.LFG(Fc,8))};static#t=this.\u0275mod=v.oAB({type:P});static#n=this.\u0275inj=v.cJS({})}return P})();function Ud(P){return"guarded"}function Gs(P){return["disabled"===P.initialNavigation?xn(3,[{provide:v.ip1,multi:!0,useFactory:()=>{const L=(0,v.f3M)(qr);return()=>{L.setUpLocationChangeListener()}}},{provide:Ll,useValue:2}]).\u0275providers:[],"enabledBlocking"===P.initialNavigation?xn(2,[{provide:Ll,useValue:0},{provide:v.ip1,multi:!0,deps:[v.zs3],useFactory:L=>{const M=L.get(Xe.V_,Promise.resolve());return()=>M.then(()=>new Promise(F=>{const q=L.get(qr),oe=L.get(Ld);hc(q,()=>{F(!0)}),L.get(oa).afterPreactivation=()=>(F(!0),oe.closed?(0,z.of)(void 0):oe),q.initialNavigation()}))}}]).\u0275providers:[]]}const So=new v.OlP("")},3949:(Ht,Ue,H)=>{H.d(Ue,{rQ:()=>ub,xC:()=>fy});var v={};H.r(v),H.d(v,{AbortException:()=>Uu,AnnotationEditorLayer:()=>xn,AnnotationEditorParamsType:()=>_f,AnnotationEditorType:()=>PE,AnnotationEditorUIManager:()=>ME,AnnotationLayer:()=>xE,AnnotationMode:()=>yf,CMapCompressionType:()=>Ld,ColorPicker:()=>Ll,DOMSVGFactory:()=>gg,DrawLayer:()=>qa,FeatureTest:()=>ju,GlobalWorkerOptions:()=>Fd,ImageKind:()=>mg,InvalidPDFException:()=>Ct,MissingPDFException:()=>Ci,OPS:()=>Hu,PDFDataRangeTransport:()=>_g,PDFDateString:()=>qi,PDFWorker:()=>y_,PasswordResponses:()=>Fc,PermissionFlag:()=>Ka,PixelsPerInch:()=>vf,RenderingCancelledException:()=>Vd,TextLayer:()=>v_,UnexpectedResponseException:()=>Bd,Util:()=>Ud,VerbosityLevel:()=>Gs,XfaLayer:()=>So,build:()=>yg,createValidAbsoluteUrl:()=>_l,fetchData:()=>Fl,getDocument:()=>vg,getFilenameFromUrl:()=>Eg,getPdfFilenameFromUrl:()=>RE,getXfaPageViewport:()=>E_,isDataScheme:()=>P,isPdfFile:()=>L,noContextMenu:()=>M,normalizeUnicode:()=>F,setLayerDimensions:()=>q,shadow:()=>oe,version:()=>ve});var D={};H.r(D),H.d(D,{AnnotationLayerBuilder:()=>$g,DownloadManager:()=>Wf,EventBus:()=>eu,FindState:()=>ly,GenericL10n:()=>qf,LinkTarget:()=>tu,PDFFindController:()=>Kf,PDFHistory:()=>cy,PDFLinkService:()=>Gg,PDFPageView:()=>Yf,PDFScriptingManager:()=>Qf,PDFSinglePageViewer:()=>Zf,PDFViewer:()=>sh,ProgressBar:()=>lb,RenderingStates:()=>cb,ScrollMode:()=>Wg,SimpleLinkService:()=>qg,SpreadMode:()=>uy,StructTreeLayerBuilder:()=>rd,TextLayerBuilder:()=>sd,XfaLayerBuilder:()=>dy,parseQueryString:()=>Kg});var re=H(9212),fe=H(2438),G=H(8645),z=H(2459),Z=H(9773),ce=H(3620),ue=H(2181),ae=H(5861),Ee={d:(C,i)=>{for(var o in i)Ee.o(i,o)&&!Ee.o(C,o)&&Object.defineProperty(C,o,{enumerable:!0,get:i[o]})},o:(C,i)=>Object.prototype.hasOwnProperty.call(C,i)},be=globalThis.pdfjsLib={};Ee.d(be,{AbortException:()=>An,AnnotationEditorLayer:()=>pg,AnnotationEditorParamsType:()=>pe,AnnotationEditorType:()=>Xe,AnnotationEditorUIManager:()=>ni,AnnotationLayer:()=>$s,AnnotationMode:()=>Ot,CMapCompressionType:()=>at,ColorPicker:()=>Kr,DOMSVGFactory:()=>ji,DrawLayer:()=>Yr,FeatureTest:()=>zi,GlobalWorkerOptions:()=>ra,ImageKind:()=>Ie,InvalidPDFException:()=>rr,MissingPDFException:()=>us,OPS:()=>_t,PDFDataRangeTransport:()=>Lr,PDFDateString:()=>vi,PDFWorker:()=>bi,PasswordResponses:()=>vt,PermissionFlag:()=>ke,PixelsPerInch:()=>Me,RenderingCancelledException:()=>mo,TextLayer:()=>pr,UnexpectedResponseException:()=>ds,Util:()=>un,VerbosityLevel:()=>Ke,XfaLayer:()=>Nl,build:()=>Nd,createValidAbsoluteUrl:()=>jn,fetchData:()=>Pn,getDocument:()=>lc,getFilenameFromUrl:()=>Qo,getPdfFilenameFromUrl:()=>Li,getXfaPageViewport:()=>sl,isDataScheme:()=>Vo,isPdfFile:()=>_o,noContextMenu:()=>Nr,normalizeUnicode:()=>is,setLayerDimensions:()=>St,shadow:()=>gn,version:()=>Od});const De=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type),$e=[1,0,0,1,0,0],xe=[.001,0,0,.001,0,0],Ot={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Xe={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},pe={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},ke={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Ie={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Ke={ERRORS:0,WARNINGS:1,INFOS:5},at={NONE:0,BINARY:1},_t={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},vt={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let kt=Ke.WARNINGS;function Rn(){return kt}function Un(C){kt>=Ke.INFOS&&console.log(`Info: ${C}`)}function mn(C){kt>=Ke.WARNINGS&&console.log(`Warning: ${C}`)}function Zt(C){throw new Error(C)}function Ln(C,i){C||Zt(i)}function jn(C,i=null,o=null){if(!C)return null;try{if(o&&"string"==typeof C&&(o.addDefaultProtocol&&C.startsWith("www.")&&C.match(/\./g)?.length>=2&&(C=`http://${C}`),o.tryConvertEncoding))try{C=function oi(C){return decodeURIComponent(escape(C))}(C)}catch{}const u=i?new URL(C,i):new URL(C);if(function dn(C){switch(C?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(u))return u}catch{}return null}function gn(C,i,o,u=!1){return Object.defineProperty(C,i,{value:o,enumerable:!u,configurable:!0,writable:!1}),o}const Ti=function(){function i(o,u){this.message=o,this.name=u}return i.prototype=new Error,i.constructor=i,i}();class ki extends Ti{constructor(i,o){super(i,"PasswordException"),this.code=o}}class Or extends Ti{constructor(i,o){super(i,"UnknownErrorException"),this.details=o}}class rr extends Ti{constructor(i){super(i,"InvalidPDFException")}}class us extends Ti{constructor(i){super(i,"MissingPDFException")}}class ds extends Ti{constructor(i,o){super(i,"UnexpectedResponseException"),this.status=o}}class fo extends Ti{constructor(i){super(i,"FormatError")}}class An extends Ti{constructor(i){super(i,"AbortException")}}function Xs(C){("object"!=typeof C||void 0===C?.length)&&Zt("Invalid argument for bytesToString");const i=C.length,o=8192;if(i<o)return String.fromCharCode.apply(null,C);const u=[];for(let p=0;p<i;p+=o){const g=Math.min(p+o,i),y=C.subarray(p,g);u.push(String.fromCharCode.apply(null,y))}return u.join("")}function si(C){"string"!=typeof C&&Zt("Invalid argument for stringToBytes");const i=C.length,o=new Uint8Array(i);for(let u=0;u<i;++u)o[u]=255&C.charCodeAt(u);return o}function ma(C){const i=Object.create(null);for(const[o,u]of C)i[o]=u;return i}class zi{static get isLittleEndian(){return gn(this,"isLittleEndian",function po(){const C=new Uint8Array(4);return C[0]=1,1===new Uint32Array(C.buffer,0,1)[0]}())}static get isEvalSupported(){return gn(this,"isEvalSupported",function _n(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return gn(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&"string"==typeof navigator?.platform?gn(this,"platform",{isMac:navigator.platform.includes("Mac")}):gn(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){return gn(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const yr=Array.from(Array(256).keys(),C=>C.toString(16).padStart(2,"0"));class un{static makeHexColor(i,o,u){return`#${yr[i]}${yr[o]}${yr[u]}`}static scaleMinMax(i,o){let u;i[0]?(i[0]<0&&(u=o[0],o[0]=o[2],o[2]=u),o[0]*=i[0],o[2]*=i[0],i[3]<0&&(u=o[1],o[1]=o[3],o[3]=u),o[1]*=i[3],o[3]*=i[3]):(u=o[0],o[0]=o[1],o[1]=u,u=o[2],o[2]=o[3],o[3]=u,i[1]<0&&(u=o[1],o[1]=o[3],o[3]=u),o[1]*=i[1],o[3]*=i[1],i[2]<0&&(u=o[0],o[0]=o[2],o[2]=u),o[0]*=i[2],o[2]*=i[2]),o[0]+=i[4],o[1]+=i[5],o[2]+=i[4],o[3]+=i[5]}static transform(i,o){return[i[0]*o[0]+i[2]*o[1],i[1]*o[0]+i[3]*o[1],i[0]*o[2]+i[2]*o[3],i[1]*o[2]+i[3]*o[3],i[0]*o[4]+i[2]*o[5]+i[4],i[1]*o[4]+i[3]*o[5]+i[5]]}static applyTransform(i,o){return[i[0]*o[0]+i[1]*o[2]+o[4],i[0]*o[1]+i[1]*o[3]+o[5]]}static applyInverseTransform(i,o){const u=o[0]*o[3]-o[1]*o[2];return[(i[0]*o[3]-i[1]*o[2]+o[2]*o[5]-o[4]*o[3])/u,(-i[0]*o[1]+i[1]*o[0]+o[4]*o[1]-o[5]*o[0])/u]}static getAxialAlignedBoundingBox(i,o){const u=this.applyTransform(i,o),p=this.applyTransform(i.slice(2,4),o),g=this.applyTransform([i[0],i[3]],o),y=this.applyTransform([i[2],i[1]],o);return[Math.min(u[0],p[0],g[0],y[0]),Math.min(u[1],p[1],g[1],y[1]),Math.max(u[0],p[0],g[0],y[0]),Math.max(u[1],p[1],g[1],y[1])]}static inverseTransform(i){const o=i[0]*i[3]-i[1]*i[2];return[i[3]/o,-i[1]/o,-i[2]/o,i[0]/o,(i[2]*i[5]-i[4]*i[3])/o,(i[4]*i[1]-i[5]*i[0])/o]}static singularValueDecompose2dScale(i){const o=[i[0],i[2],i[1],i[3]],u=i[0]*o[0]+i[1]*o[2],y=i[2]*o[1]+i[3]*o[3],E=(u+y)/2,T=Math.sqrt((u+y)**2-4*(u*y-(i[2]*o[0]+i[3]*o[2])*(i[0]*o[1]+i[1]*o[3])))/2,N=E-T||1;return[Math.sqrt(E+T||1),Math.sqrt(N)]}static normalizeRect(i){const o=i.slice(0);return i[0]>i[2]&&(o[0]=i[2],o[2]=i[0]),i[1]>i[3]&&(o[1]=i[3],o[3]=i[1]),o}static intersect(i,o){const u=Math.max(Math.min(i[0],i[2]),Math.min(o[0],o[2])),p=Math.min(Math.max(i[0],i[2]),Math.max(o[0],o[2]));if(u>p)return null;const g=Math.max(Math.min(i[1],i[3]),Math.min(o[1],o[3])),y=Math.min(Math.max(i[1],i[3]),Math.max(o[1],o[3]));return g>y?null:[u,g,p,y]}static#e(i,o,u,p,g,y,E,T,x,N){if(x<=0||x>=1)return;const B=1-x,Y=x*x,se=Y*x,le=B*(B*(B*i+3*x*o)+3*Y*u)+se*p,me=B*(B*(B*g+3*x*y)+3*Y*E)+se*T;N[0]=Math.min(N[0],le),N[1]=Math.min(N[1],me),N[2]=Math.max(N[2],le),N[3]=Math.max(N[3],me)}static#t(i,o,u,p,g,y,E,T,x,N,B,Y){if(Math.abs(x)<1e-12)return void(Math.abs(N)>=1e-12&&this.#e(i,o,u,p,g,y,E,T,-B/N,Y));const se=N**2-4*B*x;if(se<0)return;const le=Math.sqrt(se),me=2*x;this.#e(i,o,u,p,g,y,E,T,(-N+le)/me,Y),this.#e(i,o,u,p,g,y,E,T,(-N-le)/me,Y)}static bezierBoundingBox(i,o,u,p,g,y,E,T,x){return x?(x[0]=Math.min(x[0],i,E),x[1]=Math.min(x[1],o,T),x[2]=Math.max(x[2],i,E),x[3]=Math.max(x[3],o,T)):x=[Math.min(i,E),Math.min(o,T),Math.max(i,E),Math.max(o,T)],this.#t(i,u,g,E,o,p,y,T,3*(3*(u-g)-i+E),6*(i-2*u+g),3*(u-i),x),this.#t(i,u,g,E,o,p,y,T,3*(3*(p-y)-o+T),6*(o-2*p+y),3*(p-o),x),x}}let or=null,ar=null;function is(C){return or||(or=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,ar=new Map([["\ufb05","\u017ft"]])),C.replaceAll(or,(i,o,u)=>o?o.normalize("NFKC"):ar.get(u))}const Cn="pdfjs_internal_id_";class Ts{addFilter(i){return"none"}addHCMFilter(i,o){return"none"}addAlphaFilter(i){return"none"}addLuminosityFilter(i){return"none"}addHighlightHCMFilter(i,o,u,p,g){return"none"}destroy(i=!1){}}class go{#e=!1;constructor({enableHWA:i=!1}={}){this.#e=i}create(i,o){if(i<=0||o<=0)throw new Error("Invalid canvas size");const u=this._createCanvas(i,o);return{canvas:u,context:u.getContext("2d",{willReadFrequently:!this.#e})}}reset(i,o,u){if(!i.canvas)throw new Error("Canvas is not specified");if(o<=0||u<=0)throw new Error("Invalid canvas size");i.canvas.width=o,i.canvas.height=u}destroy(i){if(!i.canvas)throw new Error("Canvas is not specified");i.canvas.width=0,i.canvas.height=0,i.canvas=null,i.context=null}_createCanvas(i,o){Zt("Abstract method `_createCanvas` called.")}}class Fo{constructor({baseUrl:i=null,isCompressed:o=!0}){this.baseUrl=i,this.isCompressed=o}fetch({name:i}){var o=this;return(0,ae.Z)(function*(){if(!o.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!i)throw new Error("CMap name must be specified.");const u=o.baseUrl+i+(o.isCompressed?".bcmap":"");return o._fetchData(u,o.isCompressed?at.BINARY:at.NONE).catch(g=>{throw new Error(`Unable to load ${o.isCompressed?"binary ":""}CMap at: ${u}`)})})()}_fetchData(i,o){Zt("Abstract method `_fetchData` called.")}}class ct{constructor({baseUrl:i=null}){this.baseUrl=i}fetch({filename:i}){var o=this;return(0,ae.Z)(function*(){if(!o.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!i)throw new Error("Font filename must be specified.");const u=`${o.baseUrl}${i}`;return o._fetchData(u).catch(p=>{throw new Error(`Unable to load font data at: ${u}`)})})()}_fetchData(i){Zt("Abstract method `_fetchData` called.")}}class et{create(i,o,u=!1){if(i<=0||o<=0)throw new Error("Invalid SVG dimensions");const p=this._createSVG("svg:svg");return p.setAttribute("version","1.1"),u||(p.setAttribute("width",`${i}px`),p.setAttribute("height",`${o}px`)),p.setAttribute("preserveAspectRatio","none"),p.setAttribute("viewBox",`0 0 ${i} ${o}`),p}createElement(i){if("string"!=typeof i)throw new Error("Invalid SVG element type");return this._createSVG(i)}_createSVG(i){Zt("Abstract method `_createSVG` called.")}}const we="http://www.w3.org/2000/svg";class Me{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}function Pn(C){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,ae.Z)(function*(C,i="text"){if(Js(C,document.baseURI)){const o=yield fetch(C);if(!o.ok)throw new Error(o.statusText);switch(i){case"arraybuffer":return o.arrayBuffer();case"blob":return o.blob();case"json":return o.json()}return o.text()}return new Promise((o,u)=>{const p=new XMLHttpRequest;p.open("GET",C,!0),p.responseType=i,p.onreadystatechange=()=>{if(p.readyState===XMLHttpRequest.DONE){if(200===p.status||0===p.status){switch(i){case"arraybuffer":case"blob":case"json":return void o(p.response)}return void o(p.responseText)}u(new Error(p.statusText))}},p.send(null)})})).apply(this,arguments)}class ai extends Fo{_fetchData(i,o){return Pn(i,this.isCompressed?"arraybuffer":"text").then(u=>({cMapData:u instanceof ArrayBuffer?new Uint8Array(u):si(u),compressionType:o}))}}class lr extends ct{_fetchData(i){return Pn(i,"arraybuffer").then(o=>new Uint8Array(o))}}class ji extends et{_createSVG(i){return document.createElementNS(we,i)}}class cr{constructor({viewBox:i,scale:o,rotation:u,offsetX:p=0,offsetY:g=0,dontFlip:y=!1}){this.viewBox=i,this.scale=o,this.rotation=u,this.offsetX=p,this.offsetY=g;const E=(i[2]+i[0])/2,T=(i[3]+i[1])/2;let x,N,B,Y,se,le,me,Fe;switch((u%=360)<0&&(u+=360),u){case 180:x=-1,N=0,B=0,Y=1;break;case 90:x=0,N=1,B=1,Y=0;break;case 270:x=0,N=-1,B=-1,Y=0;break;case 0:x=1,N=0,B=0,Y=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}y&&(B=-B,Y=-Y),0===x?(se=Math.abs(T-i[1])*o+p,le=Math.abs(E-i[0])*o+g,me=(i[3]-i[1])*o,Fe=(i[2]-i[0])*o):(se=Math.abs(E-i[0])*o+p,le=Math.abs(T-i[1])*o+g,me=(i[2]-i[0])*o,Fe=(i[3]-i[1])*o),this.transform=[x*o,N*o,B*o,Y*o,se-x*o*E-B*o*T,le-N*o*E-Y*o*T],this.width=me,this.height=Fe}get rawDims(){const{viewBox:i}=this;return gn(this,"rawDims",{pageWidth:i[2]-i[0],pageHeight:i[3]-i[1],pageX:i[0],pageY:i[1]})}clone({scale:i=this.scale,rotation:o=this.rotation,offsetX:u=this.offsetX,offsetY:p=this.offsetY,dontFlip:g=!1}={}){return new cr({viewBox:this.viewBox.slice(),scale:i,rotation:o,offsetX:u,offsetY:p,dontFlip:g})}convertToViewportPoint(i,o){return un.applyTransform([i,o],this.transform)}convertToViewportRectangle(i){const o=un.applyTransform([i[0],i[1]],this.transform),u=un.applyTransform([i[2],i[3]],this.transform);return[o[0],o[1],u[0],u[1]]}convertToPdfPoint(i,o){return un.applyInverseTransform([i,o],this.transform)}}class mo extends Ti{constructor(i,o=0){super(i,"RenderingCancelledException"),this.extraDelay=o}}function Vo(C){const i=C.length;let o=0;for(;o<i&&""===C[o].trim();)o++;return"data:"===C.substring(o,o+5).toLowerCase()}function _o(C){return"string"==typeof C&&/\.pdf$/i.test(C)}function Qo(C){return[C]=C.split(/[#?]/,1),C.substring(C.lastIndexOf("/")+1)}function Li(C,i="document.pdf"){if("string"!=typeof C)return i;if(Vo(C))return mn('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),i;const u=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,p=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(C);let g=u.exec(p[1])||u.exec(p[2])||u.exec(p[3]);if(g&&(g=g[0],g.includes("%")))try{g=u.exec(decodeURIComponent(g))[0]}catch{}return g||i}class Mn{started=Object.create(null);times=[];time(i){i in this.started&&mn(`Timer is already running for ${i}`),this.started[i]=Date.now()}timeEnd(i){i in this.started||mn(`Timer has not been started for ${i}`),this.times.push({name:i,start:this.started[i],end:Date.now()}),delete this.started[i]}toString(){const i=[];let o=0;for(const{name:u}of this.times)o=Math.max(u.length,o);for(const{name:u,start:p,end:g}of this.times)i.push(`${u.padEnd(o)} ${g-p}ms\n`);return i.join("")}}function Js(C,i){try{const{protocol:o}=i?new URL(C,i):new URL(C);return"http:"===o||"https:"===o}catch{return!1}}function Nr(C){C.preventDefault()}let yo;class vi{static toDateObject(i){if(!i||"string"!=typeof i)return null;yo||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const o=yo.exec(i);if(!o)return null;const u=parseInt(o[1],10);let p=parseInt(o[2],10);p=p>=1&&p<=12?p-1:0;let g=parseInt(o[3],10);g=g>=1&&g<=31?g:1;let y=parseInt(o[4],10);y=y>=0&&y<=23?y:0;let E=parseInt(o[5],10);E=E>=0&&E<=59?E:0;let T=parseInt(o[6],10);T=T>=0&&T<=59?T:0;const x=o[7]||"Z";let N=parseInt(o[8],10);N=N>=0&&N<=23?N:0;let B=parseInt(o[9],10)||0;return B=B>=0&&B<=59?B:0,"-"===x?(y+=N,E+=B):"+"===x&&(y-=N,E-=B),new Date(Date.UTC(u,p,g,y,E,T))}}function sl(C,{scale:i=1,rotation:o=0}){const{width:u,height:p}=C.attributes.style,g=[0,0,parseInt(u),parseInt(p)];return new cr({viewBox:g,scale:i,rotation:o})}function ze(C){if(C.startsWith("#")){const i=parseInt(C.slice(1),16);return[(16711680&i)>>16,(65280&i)>>8,255&i]}return C.startsWith("rgb(")?C.slice(4,-1).split(",").map(i=>parseInt(i)):C.startsWith("rgba(")?C.slice(5,-1).split(",").map(i=>parseInt(i)).slice(0,3):(mn(`Not a valid color format: "${C}"`),[0,0,0])}function Ae(C){const{a:i,b:o,c:u,d:p,e:g,f:y}=C.getTransform();return[i,o,u,p,g,y]}function ot(C){const{a:i,b:o,c:u,d:p,e:g,f:y}=C.getTransform().invertSelf();return[i,o,u,p,g,y]}function St(C,i,o=!1,u=!0){if(i instanceof cr){const{pageWidth:p,pageHeight:g}=i.rawDims,{style:y}=C,E=zi.isCSSRoundSupported,T=`var(--scale-factor) * ${p}px`,x=`var(--scale-factor) * ${g}px`,N=E?`round(${T}, 1px)`:`calc(${T})`,B=E?`round(${x}, 1px)`:`calc(${x})`;o&&i.rotation%180!=0?(y.width=B,y.height=N):(y.width=N,y.height=B)}u&&C.setAttribute("data-main-rotation",i.rotation)}class jt{#e=null;#t=null;#n;#i=null;#r=null;static#s=null;constructor(i){this.#n=i,jt.#s||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"})}render(){const i=this.#e=document.createElement("div");i.className="editToolbar",i.setAttribute("role","toolbar");const o=this.#n._uiManager._signal;i.addEventListener("contextmenu",Nr,{signal:o}),i.addEventListener("pointerdown",jt.#a,{signal:o});const u=this.#i=document.createElement("div");u.className="buttons",i.append(u);const p=this.#n.toolbarPosition;if(p){const{style:g}=i,y="ltr"===this.#n._uiManager.direction?1-p[0]:p[0];g.insetInlineEnd=100*y+"%",g.top=`calc(${100*p[1]}% + var(--editor-toolbar-vert-offset))`}return this.#u(),i}static#a(i){i.stopPropagation()}#l(i){this.#n._focusEventsAllowed=!1,i.preventDefault(),i.stopPropagation()}#d(i){this.#n._focusEventsAllowed=!0,i.preventDefault(),i.stopPropagation()}#c(i){const o=this.#n._uiManager._signal;i.addEventListener("focusin",this.#l.bind(this),{capture:!0,signal:o}),i.addEventListener("focusout",this.#d.bind(this),{capture:!0,signal:o}),i.addEventListener("contextmenu",Nr,{signal:o})}hide(){this.#e.classList.add("hidden"),this.#t?.hideDropdown()}show(){this.#e.classList.remove("hidden"),this.#r?.shown()}#u(){const{editorType:i,_uiManager:o}=this.#n,u=document.createElement("button");u.className="delete",u.tabIndex=0,u.setAttribute("data-l10n-id",jt.#s[i]),this.#c(u),u.addEventListener("click",p=>{o.delete()},{signal:o._signal}),this.#i.append(u)}get#o(){const i=document.createElement("div");return i.className="divider",i}addAltText(i){var o=this;return(0,ae.Z)(function*(){const u=yield i.render();o.#c(u),o.#i.prepend(u,o.#o),o.#r=i})()}addColorPicker(i){this.#t=i;const o=i.renderButton();this.#c(o),this.#i.prepend(o,this.#o)}remove(){this.#e.remove(),this.#t?.destroy(),this.#t=null}}class Gt{#e=null;#t=null;#n;constructor(i){this.#n=i}#i(){const i=this.#t=document.createElement("div");i.className="editToolbar",i.setAttribute("role","toolbar"),i.addEventListener("contextmenu",Nr,{signal:this.#n._signal});const o=this.#e=document.createElement("div");return o.className="buttons",i.append(o),this.#s(),i}#r(i,o){let u=0,p=0;for(const g of i){const y=g.y+g.height;if(y<u)continue;const E=g.x+(o?g.width:0);y>u?(p=E,u=y):o?E>p&&(p=E):E<p&&(p=E)}return[o?1-p:p,u]}show(i,o,u){const[p,g]=this.#r(o,u),{style:y}=this.#t||=this.#i();i.append(this.#t),y.insetInlineEnd=100*p+"%",y.top=`calc(${100*g}% + var(--editor-toolbar-vert-offset))`}hide(){this.#t.remove()}#s(){const i=document.createElement("button");i.className="highlightButton",i.tabIndex=0,i.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const o=document.createElement("span");i.append(o),o.className="visuallyHidden",o.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const u=this.#n._signal;i.addEventListener("contextmenu",Nr,{signal:u}),i.addEventListener("click",()=>{this.#n.highlightSelection("floating_button")},{signal:u}),this.#e.append(i)}}function vn(C,i,o){for(const u of o)i.addEventListener(u,C[u].bind(C))}class _i{#e=0;get id(){return"pdfjs_internal_editor_"+this.#e++}}class cn{#e=function Vs(){if(typeof crypto<"u"&&"function"==typeof crypto?.randomUUID)return crypto.randomUUID();const C=new Uint8Array(32);if(typeof crypto<"u"&&"function"==typeof crypto?.getRandomValues)crypto.getRandomValues(C);else for(let i=0;i<32;i++)C[i]=Math.floor(255*Math.random());return Xs(C)}();#t=0;#n=null;static get _isSVGFittingCanvas(){const u=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),p=new Image;return p.src='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',gn(this,"_isSVGFittingCanvas",p.decode().then(()=>(u.drawImage(p,0,0,1,1,0,0,1,3),0===new Uint32Array(u.getImageData(0,0,1,1).data.buffer)[0])))}#i(i,o){var u=this;return(0,ae.Z)(function*(){u.#n||=new Map;let p=u.#n.get(i);if(null===p)return null;if(p?.bitmap)return p.refCounter+=1,p;try{let g;if(p||={bitmap:null,id:`image_${u.#e}_${u.#t++}`,refCounter:0,isSvg:!1},"string"==typeof o?(p.url=o,g=yield Pn(o,"blob")):g=p.file=o,"image/svg+xml"===g.type){const y=cn._isSVGFittingCanvas,E=new FileReader,T=new Image,x=new Promise((N,B)=>{T.onload=()=>{p.bitmap=T,p.isSvg=!0,N()},E.onload=(0,ae.Z)(function*(){const Y=p.svgUrl=E.result;T.src=(yield y)?`${Y}#svgView(preserveAspectRatio(none))`:Y}),T.onerror=E.onerror=B});E.readAsDataURL(g),yield x}else p.bitmap=yield createImageBitmap(g);p.refCounter=1}catch(g){console.error(g),p=null}return u.#n.set(i,p),p&&u.#n.set(p.id,p),p})()}getFromFile(i){var o=this;return(0,ae.Z)(function*(){const{lastModified:u,name:p,size:g,type:y}=i;return o.#i(`${u}_${p}_${g}_${y}`,i)})()}getFromUrl(i){var o=this;return(0,ae.Z)(function*(){return o.#i(i,i)})()}getFromId(i){var o=this;return(0,ae.Z)(function*(){o.#n||=new Map;const u=o.#n.get(i);return u?u.bitmap?(u.refCounter+=1,u):u.file?o.getFromFile(u.file):o.getFromUrl(u.url):null})()}getSvgUrl(i){const o=this.#n.get(i);return o?.isSvg?o.svgUrl:null}deleteId(i){this.#n||=new Map;const o=this.#n.get(i);o&&(o.refCounter-=1,0===o.refCounter&&(o.bitmap=null))}isValidId(i){return i.startsWith(`image_${this.#e}_`)}}class mi{#e=[];#t=!1;#n;#i=-1;constructor(i=128){this.#n=i}add({cmd:i,undo:o,post:u,mustExec:p,type:g=NaN,overwriteIfSameType:y=!1,keepUndo:E=!1}){if(p&&i(),this.#t)return;const T={cmd:i,undo:o,post:u,type:g};if(-1===this.#i)return this.#e.length>0&&(this.#e.length=0),this.#i=0,void this.#e.push(T);if(y&&this.#e[this.#i].type===g)return E&&(T.undo=this.#e[this.#i].undo),void(this.#e[this.#i]=T);const x=this.#i+1;x===this.#n?this.#e.splice(0,1):(this.#i=x,x<this.#e.length&&this.#e.splice(x)),this.#e.push(T)}undo(){if(-1===this.#i)return;this.#t=!0;const{undo:i,post:o}=this.#e[this.#i];i(),o?.(),this.#t=!1,this.#i-=1}redo(){if(this.#i<this.#e.length-1){this.#i+=1,this.#t=!0;const{cmd:i,post:o}=this.#e[this.#i];i(),o?.(),this.#t=!1}}hasSomethingToUndo(){return-1!==this.#i}hasSomethingToRedo(){return this.#i<this.#e.length-1}destroy(){this.#e=null}}class Ei{constructor(i){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:o}=zi.platform;for(const[u,p,g={}]of i)for(const y of u){const E=y.startsWith("mac+");o&&E?(this.callbacks.set(y.slice(4),{callback:p,options:g}),this.allKeys.add(y.split("+").at(-1))):!o&&!E&&(this.callbacks.set(y,{callback:p,options:g}),this.allKeys.add(y.split("+").at(-1)))}}#e(i){i.altKey&&this.buffer.push("alt"),i.ctrlKey&&this.buffer.push("ctrl"),i.metaKey&&this.buffer.push("meta"),i.shiftKey&&this.buffer.push("shift"),this.buffer.push(i.key);const o=this.buffer.join("+");return this.buffer.length=0,o}exec(i,o){if(!this.allKeys.has(o.key))return;const u=this.callbacks.get(this.#e(o));if(!u)return;const{callback:p,options:{bubbles:g=!1,args:y=[],checker:E=null}}=u;E&&!E(i,o)||(p.bind(i,...y,o)(),g||(o.stopPropagation(),o.preventDefault()))}}class Mi{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const i=new Map([["CanvasText",null],["Canvas",null]]);return function Se(C){const i=document.createElement("span");i.style.visibility="hidden",document.body.append(i);for(const o of C.keys()){i.style.color=o;const u=window.getComputedStyle(i).color;C.set(o,ze(u))}i.remove()}(i),gn(this,"_colors",i)}convert(i){const o=ze(i);if(!window.matchMedia("(forced-colors: active)").matches)return o;for(const[u,p]of this._colors)if(p.every((g,y)=>g===o[y]))return Mi._colorsMapping.get(u);return o}getHexCode(i){const o=this._colors.get(i);return o?un.makeHexColor(...o):i}}let ni=(()=>{class C{#e=new AbortController;#t=null;#n=new Map;#i=new Map;#r=null;#s=null;#a=null;#l=new mi;#d=null;#c=0;#u=new Set;#o=null;#h=null;#p=new Set;#f=!1;#g=!1;#_=!1;#m=null;#y=null;#E=null;#w=null;#b=!1;#C=null;#M=new _i;#S=!1;#A=!1;#D=null;#I=null;#x=null;#N=null;#T=Xe.NONE;#v=new Set;#P=null;#R=null;#L=null;#j={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#B=[0,0];#k=null;#F=null;#V=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const o=C.prototype,u=E=>E.#F.contains(document.activeElement)&&"BUTTON"!==document.activeElement.tagName&&E.hasSomethingToControl(),p=(E,{target:T})=>{if(T instanceof HTMLInputElement){const{type:x}=T;return"text"!==x&&"number"!==x}return!0},g=this.TRANSLATE_SMALL,y=this.TRANSLATE_BIG;return gn(this,"_keyboardManager",new Ei([[["ctrl+a","mac+meta+a"],o.selectAll,{checker:p}],[["ctrl+z","mac+meta+z"],o.undo,{checker:p}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],o.redo,{checker:p}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],o.delete,{checker:p}],[["Enter","mac+Enter"],o.addNewEditorFromKeyboard,{checker:(E,{target:T})=>!(T instanceof HTMLButtonElement)&&E.#F.contains(T)&&!E.isEnterHandled}],[[" ","mac+ "],o.addNewEditorFromKeyboard,{checker:(E,{target:T})=>!(T instanceof HTMLButtonElement)&&E.#F.contains(document.activeElement)}],[["Escape","mac+Escape"],o.unselectAll],[["ArrowLeft","mac+ArrowLeft"],o.translateSelectedEditors,{args:[-g,0],checker:u}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],o.translateSelectedEditors,{args:[-y,0],checker:u}],[["ArrowRight","mac+ArrowRight"],o.translateSelectedEditors,{args:[g,0],checker:u}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],o.translateSelectedEditors,{args:[y,0],checker:u}],[["ArrowUp","mac+ArrowUp"],o.translateSelectedEditors,{args:[0,-g],checker:u}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],o.translateSelectedEditors,{args:[0,-y],checker:u}],[["ArrowDown","mac+ArrowDown"],o.translateSelectedEditors,{args:[0,g],checker:u}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],o.translateSelectedEditors,{args:[0,y],checker:u}]]))}constructor(o,u,p,g,y,E,T,x,N,B,Y){const se=this._signal=this.#e.signal;this.#F=o,this.#V=u,this.#r=p,this._eventBus=g,g._on("editingaction",this.onEditingAction.bind(this),{signal:se}),g._on("pagechanging",this.onPageChanging.bind(this),{signal:se}),g._on("scalechanging",this.onScaleChanging.bind(this),{signal:se}),g._on("rotationchanging",this.onRotationChanging.bind(this),{signal:se}),g._on("setpreference",this.onSetPreference.bind(this),{signal:se}),g._on("switchannotationeditorparams",le=>this.updateParams(le.type,le.value),{signal:se}),this.#J(),this.#ie(),this.#W(),this.#s=y.annotationStorage,this.#m=y.filterFactory,this.#R=E,this.#w=T||null,this.#f=x,this.#g=N,this.#_=B,this.#N=Y||null,this.viewParameters={realScale:Me.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}destroy(){this.#e?.abort(),this.#e=null,this._signal=null;for(const o of this.#i.values())o.destroy();this.#i.clear(),this.#n.clear(),this.#p.clear(),this.#t=null,this.#v.clear(),this.#l.destroy(),this.#r?.destroy(),this.#C?.hide(),this.#C=null,this.#y&&(clearTimeout(this.#y),this.#y=null),this.#k&&(clearTimeout(this.#k),this.#k=null)}combinedSignal(o){return AbortSignal.any([this._signal,o.signal])}get mlManager(){return this.#N}get useNewAltTextFlow(){return this.#g}get useNewAltTextWhenAddingImage(){return this.#_}get hcmFilter(){return gn(this,"hcmFilter",this.#R?this.#m.addHCMFilter(this.#R.foreground,this.#R.background):"none")}get direction(){return gn(this,"direction",getComputedStyle(this.#F).direction)}get highlightColors(){return gn(this,"highlightColors",this.#w?new Map(this.#w.split(",").map(o=>o.split("=").map(u=>u.trim()))):null)}get highlightColorNames(){return gn(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,o=>o.reverse())):null)}setMainHighlightColorPicker(o){this.#x=o}editAltText(o,u=!1){this.#r?.editAltText(this,o,u)}switchToMode(o,u){this._eventBus.on("annotationeditormodechanged",u,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:o})}setPreference(o,u){this._eventBus.dispatch("setpreference",{source:this,name:o,value:u})}onSetPreference({name:o,value:u}){"enableNewAltTextWhenAddingImage"===o&&(this.#_=u)}onPageChanging({pageNumber:o}){this.#c=o-1}focusMainContainer(){this.#F.focus()}findParent(o,u){for(const p of this.#i.values()){const{x:g,y,width:E,height:T}=p.div.getBoundingClientRect();if(o>=g&&o<=g+E&&u>=y&&u<=y+T)return p}return null}disableUserSelect(o=!1){this.#V.classList.toggle("noUserSelect",o)}addShouldRescale(o){this.#p.add(o)}removeShouldRescale(o){this.#p.delete(o)}onScaleChanging({scale:o}){this.commitOrRemove(),this.viewParameters.realScale=o*Me.PDF_TO_CSS_UNITS;for(const u of this.#p)u.onScaleChanging()}onRotationChanging({pagesRotation:o}){this.commitOrRemove(),this.viewParameters.rotation=o}#U({anchorNode:o}){return o.nodeType===Node.TEXT_NODE?o.parentElement:o}#G(o){const{currentLayer:u}=this;if(u.hasTextLayer(o))return u;for(const p of this.#i.values())if(p.hasTextLayer(o))return p;return null}highlightSelection(o=""){const u=document.getSelection();if(!u||u.isCollapsed)return;const{anchorNode:p,anchorOffset:g,focusNode:y,focusOffset:E}=u,T=u.toString(),N=this.#U(u).closest(".textLayer"),B=this.getSelectionBoxes(N);if(!B)return;u.empty();const Y=this.#G(N),se=this.#T===Xe.NONE,le=()=>{Y?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:o,boxes:B,anchorNode:p,anchorOffset:g,focusNode:y,focusOffset:E,text:T}),se&&this.showAllEditors("highlight",!0,!0)};se?this.switchToMode(Xe.HIGHLIGHT,le):le()}#Z(){const o=document.getSelection();if(!o||o.isCollapsed)return;const p=this.#U(o).closest(".textLayer"),g=this.getSelectionBoxes(p);g&&(this.#C||=new Gt(this),this.#C.show(p,g,"ltr"===this.direction))}addToAnnotationStorage(o){!o.isEmpty()&&this.#s&&!this.#s.has(o.id)&&this.#s.setValue(o.id,o)}#X(){const o=document.getSelection();if(!o||o.isCollapsed)return void(this.#P&&(this.#C?.hide(),this.#P=null,this.#O({hasSelectedText:!1})));const{anchorNode:u}=o;if(u===this.#P)return;const g=this.#U(o).closest(".textLayer");if(g){if(this.#C?.hide(),this.#P=u,this.#O({hasSelectedText:!0}),(this.#T===Xe.HIGHLIGHT||this.#T===Xe.NONE)&&(this.#T===Xe.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#b=this.isShiftKeyDown,!this.isShiftKeyDown)){const y=this.#T===Xe.HIGHLIGHT?this.#G(g):null;y?.toggleDrawing();const E=new AbortController,T=this.combinedSignal(E),x=N=>{"pointerup"===N.type&&0!==N.button||(E.abort(),y?.toggleDrawing(!0),"pointerup"===N.type&&this.#$("main_toolbar"))};window.addEventListener("pointerup",x,{signal:T}),window.addEventListener("blur",x,{signal:T})}}else this.#P&&(this.#C?.hide(),this.#P=null,this.#O({hasSelectedText:!1}))}#$(o=""){this.#T===Xe.HIGHLIGHT?this.highlightSelection(o):this.#f&&this.#Z()}#J(){document.addEventListener("selectionchange",this.#X.bind(this),{signal:this._signal})}#ee(){if(this.#E)return;this.#E=new AbortController;const o=this.combinedSignal(this.#E);window.addEventListener("focus",this.focus.bind(this),{signal:o}),window.addEventListener("blur",this.blur.bind(this),{signal:o})}#te(){this.#E?.abort(),this.#E=null}blur(){if(this.isShiftKeyDown=!1,this.#b&&(this.#b=!1,this.#$("main_toolbar")),!this.hasSelection)return;const{activeElement:o}=document;for(const u of this.#v)if(u.div.contains(o)){this.#I=[u,o],u._focusEventsAllowed=!1;break}}focus(){if(!this.#I)return;const[o,u]=this.#I;this.#I=null,u.addEventListener("focusin",()=>{o._focusEventsAllowed=!0},{once:!0,signal:this._signal}),u.focus()}#W(){if(this.#D)return;this.#D=new AbortController;const o=this.combinedSignal(this.#D);window.addEventListener("keydown",this.keydown.bind(this),{signal:o}),window.addEventListener("keyup",this.keyup.bind(this),{signal:o})}#ne(){this.#D?.abort(),this.#D=null}#q(){if(this.#d)return;this.#d=new AbortController;const o=this.combinedSignal(this.#d);document.addEventListener("copy",this.copy.bind(this),{signal:o}),document.addEventListener("cut",this.cut.bind(this),{signal:o}),document.addEventListener("paste",this.paste.bind(this),{signal:o})}#K(){this.#d?.abort(),this.#d=null}#ie(){const o=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:o}),document.addEventListener("drop",this.drop.bind(this),{signal:o})}addEditListeners(){this.#W(),this.#q()}removeEditListeners(){this.#ne(),this.#K()}dragOver(o){for(const{type:u}of o.dataTransfer.items)for(const p of this.#h)if(p.isHandlingMimeForPasting(u))return o.dataTransfer.dropEffect="copy",void o.preventDefault()}drop(o){for(const u of o.dataTransfer.items)for(const p of this.#h)if(p.isHandlingMimeForPasting(u.type))return p.paste(u,this.currentLayer),void o.preventDefault()}copy(o){if(o.preventDefault(),this.#t?.commitOrRemove(),!this.hasSelection)return;const u=[];for(const p of this.#v){const g=p.serialize(!0);g&&u.push(g)}0!==u.length&&o.clipboardData.setData("application/pdfjs",JSON.stringify(u))}cut(o){this.copy(o),this.delete()}paste(o){o.preventDefault();const{clipboardData:u}=o;for(const y of u.items)for(const E of this.#h)if(E.isHandlingMimeForPasting(y.type))return void E.paste(y,this.currentLayer);let p=u.getData("application/pdfjs");if(!p)return;try{p=JSON.parse(p)}catch(y){return void mn(`paste: "${y.message}".`)}if(!Array.isArray(p))return;this.unselectAll();const g=this.currentLayer;try{const y=[];for(const x of p){const N=g.deserialize(x);if(!N)return;y.push(N)}this.addCommands({cmd:()=>{for(const x of y)this.#Y(x);this.#Q(y)},undo:()=>{for(const x of y)x.remove()},mustExec:!0})}catch(y){mn(`paste: "${y.message}".`)}}keydown(o){!this.isShiftKeyDown&&"Shift"===o.key&&(this.isShiftKeyDown=!0),this.#T!==Xe.NONE&&!this.isEditorHandlingKeyboard&&C._keyboardManager.exec(this,o)}keyup(o){this.isShiftKeyDown&&"Shift"===o.key&&(this.isShiftKeyDown=!1,this.#b&&(this.#b=!1,this.#$("main_toolbar")))}onEditingAction({name:o}){switch(o){case"undo":case"redo":case"delete":case"selectAll":this[o]();break;case"highlightSelection":this.highlightSelection("context_menu")}}#O(o){Object.entries(o).some(([p,g])=>this.#j[p]!==g)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#j,o)}),this.#T===Xe.HIGHLIGHT&&!1===o.hasSelectedEditor&&this.#H([[pe.HIGHLIGHT_FREE,!0]]))}#H(o){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:o})}setEditingState(o){o?(this.#ee(),this.#q(),this.#O({isEditing:this.#T!==Xe.NONE,isEmpty:this.#z(),hasSomethingToUndo:this.#l.hasSomethingToUndo(),hasSomethingToRedo:this.#l.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#te(),this.#K(),this.#O({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(o){if(!this.#h){this.#h=o;for(const u of this.#h)this.#H(u.defaultPropertiesToUpdate)}}getId(){return this.#M.id}get currentLayer(){return this.#i.get(this.#c)}getLayer(o){return this.#i.get(o)}get currentPageIndex(){return this.#c}addLayer(o){this.#i.set(o.pageIndex,o),this.#S?o.enable():o.disable()}removeLayer(o){this.#i.delete(o.pageIndex)}updateMode(o,u=null,p=!1){if(this.#T!==o){if(this.#T=o,o===Xe.NONE)return this.setEditingState(!1),void this.#se();this.setEditingState(!0),this.#re(),this.unselectAll();for(const g of this.#i.values())g.updateMode(o);if(!u&&p)return void this.addNewEditorFromKeyboard();if(u)for(const g of this.#n.values())if(g.annotationElementId===u){this.setSelected(g),g.enterInEditMode();break}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(o){o!==this.#T&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:o})}updateParams(o,u){if(this.#h){switch(o){case pe.CREATE:return void this.currentLayer.addNewEditor();case pe.HIGHLIGHT_DEFAULT_COLOR:this.#x?.updateColor(u);break;case pe.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#L||=new Map).set(o,u),this.showAllEditors("highlight",u)}for(const p of this.#v)p.updateParams(o,u);for(const p of this.#h)p.updateDefaultParams(o,u)}}showAllEditors(o,u,p=!1){for(const y of this.#n.values())y.editorType===o&&y.show(u);(this.#L?.get(pe.HIGHLIGHT_SHOW_ALL)??!0)!==u&&this.#H([[pe.HIGHLIGHT_SHOW_ALL,u]])}enableWaiting(o=!1){if(this.#A!==o){this.#A=o;for(const u of this.#i.values())o?u.disableClick():u.enableClick(),u.div.classList.toggle("waiting",o)}}#re(){if(!this.#S){this.#S=!0;for(const o of this.#i.values())o.enable();for(const o of this.#n.values())o.enable()}}#se(){if(this.unselectAll(),this.#S){this.#S=!1;for(const o of this.#i.values())o.disable();for(const o of this.#n.values())o.disable()}}getEditors(o){const u=[];for(const p of this.#n.values())p.pageIndex===o&&u.push(p);return u}getEditor(o){return this.#n.get(o)}addEditor(o){this.#n.set(o.id,o)}removeEditor(o){o.div.contains(document.activeElement)&&(this.#y&&clearTimeout(this.#y),this.#y=setTimeout(()=>{this.focusMainContainer(),this.#y=null},0)),this.#n.delete(o.id),this.unselect(o),(!o.annotationElementId||!this.#u.has(o.annotationElementId))&&this.#s?.remove(o.id)}addDeletedAnnotationElement(o){this.#u.add(o.annotationElementId),this.addChangedExistingAnnotation(o),o.deleted=!0}isDeletedAnnotationElement(o){return this.#u.has(o)}removeDeletedAnnotationElement(o){this.#u.delete(o.annotationElementId),this.removeChangedExistingAnnotation(o),o.deleted=!1}#Y(o){const u=this.#i.get(o.pageIndex);u?u.addOrRebuild(o):(this.addEditor(o),this.addToAnnotationStorage(o))}setActiveEditor(o){this.#t!==o&&(this.#t=o,o&&this.#H(o.propertiesToUpdate))}get#oe(){let o=null;for(o of this.#v);return o}updateUI(o){this.#oe===o&&this.#H(o.propertiesToUpdate)}toggleSelected(o){if(this.#v.has(o))return this.#v.delete(o),o.unselect(),void this.#O({hasSelectedEditor:this.hasSelection});this.#v.add(o),o.select(),this.#H(o.propertiesToUpdate),this.#O({hasSelectedEditor:!0})}setSelected(o){for(const u of this.#v)u!==o&&u.unselect();this.#v.clear(),this.#v.add(o),o.select(),this.#H(o.propertiesToUpdate),this.#O({hasSelectedEditor:!0})}isSelected(o){return this.#v.has(o)}get firstSelectedEditor(){return this.#v.values().next().value}unselect(o){o.unselect(),this.#v.delete(o),this.#O({hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==this.#v.size}get isEnterHandled(){return 1===this.#v.size&&this.firstSelectedEditor.isEnterHandled}undo(){this.#l.undo(),this.#O({hasSomethingToUndo:this.#l.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#z()})}redo(){this.#l.redo(),this.#O({hasSomethingToUndo:!0,hasSomethingToRedo:this.#l.hasSomethingToRedo(),isEmpty:this.#z()})}addCommands(o){this.#l.add(o),this.#O({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#z()})}#z(){if(0===this.#n.size)return!0;if(1===this.#n.size)for(const o of this.#n.values())return o.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const o=[...this.#v];this.addCommands({cmd:()=>{for(const g of o)g.remove()},undo:()=>{for(const g of o)this.#Y(g)},mustExec:!0})}commitOrRemove(){this.#t?.commitOrRemove()}hasSomethingToControl(){return this.#t||this.hasSelection}#Q(o){for(const u of this.#v)u.unselect();this.#v.clear();for(const u of o)u.isEmpty()||(this.#v.add(u),u.select());this.#O({hasSelectedEditor:this.hasSelection})}selectAll(){for(const o of this.#v)o.commit();this.#Q(this.#n.values())}unselectAll(){if((!this.#t||(this.#t.commitOrRemove(),this.#T===Xe.NONE))&&this.hasSelection){for(const o of this.#v)o.unselect();this.#v.clear(),this.#O({hasSelectedEditor:!1})}}translateSelectedEditors(o,u,p=!1){if(p||this.commitOrRemove(),!this.hasSelection)return;this.#B[0]+=o,this.#B[1]+=u;const[g,y]=this.#B,E=[...this.#v];this.#k&&clearTimeout(this.#k),this.#k=setTimeout(()=>{this.#k=null,this.#B[0]=this.#B[1]=0,this.addCommands({cmd:()=>{for(const x of E)this.#n.has(x.id)&&x.translateInPage(g,y)},undo:()=>{for(const x of E)this.#n.has(x.id)&&x.translateInPage(-g,-y)},mustExec:!1})},1e3);for(const x of E)x.translateInPage(o,u)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#o=new Map;for(const o of this.#v)this.#o.set(o,{savedX:o.x,savedY:o.y,savedPageIndex:o.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#o)return!1;this.disableUserSelect(!1);const o=this.#o;this.#o=null;let u=!1;for(const[{x:g,y,pageIndex:E},T]of o)T.newX=g,T.newY=y,T.newPageIndex=E,u||=g!==T.savedX||y!==T.savedY||E!==T.savedPageIndex;if(!u)return!1;const p=(g,y,E,T)=>{if(this.#n.has(g.id)){const x=this.#i.get(T);x?g._setParentAndPosition(x,y,E):(g.pageIndex=T,g.x=y,g.y=E)}};return this.addCommands({cmd:()=>{for(const[g,{newX:y,newY:E,newPageIndex:T}]of o)p(g,y,E,T)},undo:()=>{for(const[g,{savedX:y,savedY:E,savedPageIndex:T}]of o)p(g,y,E,T)},mustExec:!0}),!0}dragSelectedEditors(o,u){if(this.#o)for(const p of this.#o.keys())p.drag(o,u)}rebuild(o){if(null===o.parent){const u=this.getLayer(o.pageIndex);u?(u.changeParent(o),u.addOrRebuild(o)):(this.addEditor(o),this.addToAnnotationStorage(o),o.rebuild())}else o.parent.addOrRebuild(o)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||1===this.#v.size&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(o){return this.#t===o}getActive(){return this.#t}getMode(){return this.#T}get imageManager(){return gn(this,"imageManager",new cn)}getSelectionBoxes(o){if(!o)return null;const u=document.getSelection();for(let N=0,B=u.rangeCount;N<B;N++)if(!o.contains(u.getRangeAt(N).commonAncestorContainer))return null;const{x:p,y:g,width:y,height:E}=o.getBoundingClientRect();let T;switch(o.getAttribute("data-main-rotation")){case"90":T=(N,B,Y,se)=>({x:(B-g)/E,y:1-(N+Y-p)/y,width:se/E,height:Y/y});break;case"180":T=(N,B,Y,se)=>({x:1-(N+Y-p)/y,y:1-(B+se-g)/E,width:Y/y,height:se/E});break;case"270":T=(N,B,Y,se)=>({x:1-(B+se-g)/E,y:(N-p)/y,width:se/E,height:Y/y});break;default:T=(N,B,Y,se)=>({x:(N-p)/y,y:(B-g)/E,width:Y/y,height:se/E})}const x=[];for(let N=0,B=u.rangeCount;N<B;N++){const Y=u.getRangeAt(N);if(!Y.collapsed)for(const{x:se,y:le,width:me,height:Fe}of Y.getClientRects())0===me||0===Fe||x.push(T(se,le,me,Fe))}return 0===x.length?null:x}addChangedExistingAnnotation({annotationElementId:o,id:u}){(this.#a||=new Map).set(o,u)}removeChangedExistingAnnotation({annotationElementId:o}){this.#a?.delete(o)}renderAnnotationElement(o){const u=this.#a?.get(o.data.id);if(!u)return;const p=this.#s.getRawValue(u);p&&(this.#T===Xe.NONE&&!p.hasBeenModified||p.renderAnnotationElement(o))}}return C})(),ei=(()=>{class C{#e=null;#t=!1;#n=null;#i=null;#r=null;#s=!1;#a=null;#l=null;#d=null;#c=null;#u=!1;static _l10nPromise=null;constructor(o){this.#l=o,this.#u=o._uiManager.useNewAltTextFlow}static initialize(o){C._l10nPromise||=o}render(){var o=this;return(0,ae.Z)(function*(){const u=o.#n=document.createElement("button");let p;u.className="altText",o.#u?(u.classList.add("new"),p=yield C._l10nPromise.get("pdfjs-editor-new-alt-text-missing-button-label")):p=yield C._l10nPromise.get("pdfjs-editor-alt-text-button-label"),u.textContent=p,u.setAttribute("aria-label",p),u.tabIndex="0";const g=o.#l._uiManager._signal;u.addEventListener("contextmenu",Nr,{signal:g}),u.addEventListener("pointerdown",E=>E.stopPropagation(),{signal:g});const y=E=>{E.preventDefault(),o.#l._uiManager.editAltText(o.#l),o.#u&&o.#l._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:o.#o}})};return u.addEventListener("click",y,{capture:!0,signal:g}),u.addEventListener("keydown",E=>{E.target===u&&"Enter"===E.key&&(o.#s=!0,y(E))},{signal:g}),yield o.#h(),u})()}get#o(){return(this.#e?"added":null===this.#e&&this.guessedText&&"review")||"missing"}finish(){this.#n&&(this.#n.focus({focusVisible:this.#s}),this.#s=!1)}isEmpty(){return this.#u?null===this.#e:!this.#e&&!this.#t}hasData(){return this.#u?null!==this.#e||!!this.#d:this.isEmpty()}get guessedText(){return this.#d}setGuessedText(o){var u=this;return(0,ae.Z)(function*(){null===u.#e&&(u.#d=o,u.#c=yield C._l10nPromise.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer")({generatedAltText:o}),u.#h())})()}toggleAltTextBadge(o=!1){if(!this.#u||this.#e)return this.#a?.remove(),void(this.#a=null);if(!this.#a){const u=this.#a=document.createElement("div");u.className="noAltTextBadge",this.#l.div.append(u)}this.#a.classList.toggle("hidden",!o)}serialize(o){let u=this.#e;return!o&&this.#d===u&&(u=this.#c),{altText:u,decorative:this.#t,guessedText:this.#d,textWithDisclaimer:this.#c}}get data(){return{altText:this.#e,decorative:this.#t}}set data({altText:o,decorative:u,guessedText:p,textWithDisclaimer:g,cancel:y=!1}){p&&(this.#d=p,this.#c=g),(this.#e!==o||this.#t!==u)&&(y||(this.#e=o,this.#t=u),this.#h())}toggle(o=!1){this.#n&&(!o&&this.#r&&(clearTimeout(this.#r),this.#r=null),this.#n.disabled=!o)}shown(){this.#l._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#o}})}destroy(){this.#n?.remove(),this.#n=null,this.#i=null,this.#a?.remove(),this.#a=null}#h(){var o=this;return(0,ae.Z)(function*(){const u=o.#n;if(!u)return;if(o.#u){const y=o.#o,E="review"===y?"to-review":y;if(u.classList.toggle("done",!!o.#e),C._l10nPromise.get(`pdfjs-editor-new-alt-text-${E}-button-label`).then(T=>{u.setAttribute("aria-label",T);for(const x of u.childNodes)if(x.nodeType===Node.TEXT_NODE){x.textContent=T;break}}),!o.#e)return void o.#i?.remove()}else{if(!o.#e&&!o.#t)return u.classList.remove("done"),void o.#i?.remove();u.classList.add("done"),C._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(y=>{u.setAttribute("aria-label",y)})}let p=o.#i;if(!p){o.#i=p=document.createElement("span"),p.className="tooltip",p.setAttribute("role","tooltip");const y=p.id=`alt-text-tooltip-${o.#l.id}`;u.setAttribute("aria-describedby",y);const E=100,T=o.#l._uiManager._signal;T.addEventListener("abort",()=>{clearTimeout(o.#r),o.#r=null},{once:!0}),u.addEventListener("mouseenter",()=>{o.#r=setTimeout(()=>{o.#r=null,o.#i.classList.add("show"),o.#l._reportTelemetry({action:"alt_text_tooltip"})},E)},{signal:T}),u.addEventListener("mouseleave",()=>{o.#r&&(clearTimeout(o.#r),o.#r=null),o.#i?.classList.remove("show")},{signal:T})}p.innerText=o.#t?yield C._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):o.#e,p.parentNode||u.append(p),o.#l.getImageForAltText()?.setAttribute("aria-describedby",p.id)})()}}return C})();class Dt{#e=null;#t=null;#n=null;#i=!1;#r=!1;#s=null;#a=null;#l=null;#d="";#c=!1;#u=null;#o=!1;#h=!1;#p=!1;#f=null;#g=0;#_=0;#m=null;_editToolbar=null;_initialOptions=Object.create(null);_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10nPromise=null;static _l10nResizer=null;#y=!1;#E=Dt._zIndex++;static _borderLineWidth=-1;static _colorManager=new Mi;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const i=Dt.prototype._resizeWithKeyboard,o=ni.TRANSLATE_SMALL,u=ni.TRANSLATE_BIG;return gn(this,"_resizerKeyboardManager",new Ei([[["ArrowLeft","mac+ArrowLeft"],i,{args:[-o,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],i,{args:[-u,0]}],[["ArrowRight","mac+ArrowRight"],i,{args:[o,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],i,{args:[u,0]}],[["ArrowUp","mac+ArrowUp"],i,{args:[0,-o]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],i,{args:[0,-u]}],[["ArrowDown","mac+ArrowDown"],i,{args:[0,o]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],i,{args:[0,u]}],[["Escape","mac+Escape"],Dt.prototype._stopResizingWithKeyboard]]))}constructor(i){this.parent=i.parent,this.id=i.id,this.width=this.height=null,this.pageIndex=i.parent.pageIndex,this.name=i.name,this.div=null,this._uiManager=i.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=i.isCentered,this._structTreeParentId=null;const{rotation:o,rawDims:{pageWidth:u,pageHeight:p,pageX:g,pageY:y}}=this.parent.viewport;this.rotation=o,this.pageRotation=(360+o-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[u,p],this.pageTranslation=[g,y];const[E,T]=this.parentDimensions;this.x=i.x/E,this.y=i.y/T,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return gn(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(i){const o=new Ii({id:i.parent.getNextId(),parent:i.parent,uiManager:i._uiManager});o.annotationElementId=i.annotationElementId,o.deleted=!0,o._uiManager.addToAnnotationStorage(o)}static initialize(i,o,u){if(Dt._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),Dt._l10nPromise||=new Map([...["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-new-alt-text-added-button-label","pdfjs-editor-new-alt-text-missing-button-label","pdfjs-editor-new-alt-text-to-review-button-label"].map(g=>[g,i.get(g)]),...["pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer"].map(g=>[g,i.get.bind(i,g)])]),u?.strings)for(const g of u.strings)Dt._l10nPromise.set(g,i.get(g));if(-1!==Dt._borderLineWidth)return;const p=getComputedStyle(document.documentElement);Dt._borderLineWidth=parseFloat(p.getPropertyValue("--outline-width"))||0}static updateDefaultParams(i,o){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(i){return!1}static paste(i,o){Zt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#y}set _isDraggable(i){this.#y=i,this.div?.classList.toggle("draggable",i)}get isEnterHandled(){return!0}center(){const[i,o]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*o/(2*i),this.y+=this.width*i/(2*o);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*o/(2*i),this.y-=this.width*i/(2*o);break;default:this.x-=this.width/2,this.y-=this.height/2}this.fixAndSetPosition()}addCommands(i){this._uiManager.addCommands(i)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#E}setParent(i){null!==i?(this.pageIndex=i.pageIndex,this.pageDimensions=i.pageDimensions):this.#L(),this.parent=i}focusin(i){this._focusEventsAllowed&&(this.#c?this.#c=!1:this.parent.setSelected(this))}focusout(i){!this._focusEventsAllowed||!this.isAttachedToDOM||i.relatedTarget?.closest(`#${this.id}`)||(i.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(i,o,u,p){const[g,y]=this.parentDimensions;[u,p]=this.screenToPageTranslation(u,p),this.x=(i+u)/g,this.y=(o+p)/y,this.fixAndSetPosition()}#w([i,o],u,p){[u,p]=this.screenToPageTranslation(u,p),this.x+=u/i,this.y+=p/o,this.fixAndSetPosition()}translate(i,o){this.#w(this.parentDimensions,i,o)}translateInPage(i,o){this.#u||=[this.x,this.y],this.#w(this.pageDimensions,i,o),this.div.scrollIntoView({block:"nearest"})}drag(i,o){this.#u||=[this.x,this.y];const[u,p]=this.parentDimensions;if(this.x+=i/u,this.y+=o/p,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x,y:N}=this.div.getBoundingClientRect();this.parent.findNewParent(this,x,N)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:g,y}=this;const[E,T]=this.getBaseTranslation();g+=E,y+=T,this.div.style.left=`${(100*g).toFixed(2)}%`,this.div.style.top=`${(100*y).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!this.#u&&(this.#u[0]!==this.x||this.#u[1]!==this.y)}getBaseTranslation(){const[i,o]=this.parentDimensions,{_borderLineWidth:u}=Dt,p=u/i,g=u/o;switch(this.rotation){case 90:return[-p,g];case 180:return[p,g];case 270:return[p,-g];default:return[-p,-g]}}get _mustFixPosition(){return!0}fixAndSetPosition(i=this.rotation){const[o,u]=this.pageDimensions;let{x:p,y:g,width:y,height:E}=this;if(y*=o,E*=u,p*=o,g*=u,this._mustFixPosition)switch(i){case 0:p=Math.max(0,Math.min(o-y,p)),g=Math.max(0,Math.min(u-E,g));break;case 90:p=Math.max(0,Math.min(o-E,p)),g=Math.min(u,Math.max(y,g));break;case 180:p=Math.min(o,Math.max(y,p)),g=Math.min(u,Math.max(E,g));break;case 270:p=Math.min(o,Math.max(E,p)),g=Math.max(0,Math.min(u-y,g))}this.x=p/=o,this.y=g/=u;const[T,x]=this.getBaseTranslation();p+=T,g+=x;const{style:N}=this.div;N.left=`${(100*p).toFixed(2)}%`,N.top=`${(100*g).toFixed(2)}%`,this.moveInDOM()}static#b(i,o,u){switch(u){case 90:return[o,-i];case 180:return[-i,-o];case 270:return[-o,i];default:return[i,o]}}screenToPageTranslation(i,o){return Dt.#b(i,o,this.parentRotation)}pageTranslationToScreen(i,o){return Dt.#b(i,o,360-this.parentRotation)}#C(i){switch(i){case 90:{const[o,u]=this.pageDimensions;return[0,-o/u,u/o,0]}case 180:return[-1,0,0,-1];case 270:{const[o,u]=this.pageDimensions;return[0,o/u,-u/o,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:i,pageDimensions:[o,u]}=this,p=o*i,g=u*i;return zi.isCSSRoundSupported?[Math.round(p),Math.round(g)]:[p,g]}setDims(i,o){const[u,p]=this.parentDimensions;this.div.style.width=`${(100*i/u).toFixed(2)}%`,this.#r||(this.div.style.height=`${(100*o/p).toFixed(2)}%`)}fixDims(){const{style:i}=this.div,{height:o,width:u}=i,p=u.endsWith("%"),g=!this.#r&&o.endsWith("%");if(p&&g)return;const[y,E]=this.parentDimensions;p||(i.width=`${(100*parseFloat(u)/y).toFixed(2)}%`),!this.#r&&!g&&(i.height=`${(100*parseFloat(o)/E).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#M(){if(this.#s)return;this.#s=document.createElement("div"),this.#s.classList.add("resizers");const i=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],o=this._uiManager._signal;for(const u of i){const p=document.createElement("div");this.#s.append(p),p.classList.add("resizer",u),p.setAttribute("data-resizer-name",u),p.addEventListener("pointerdown",this.#S.bind(this,u),{signal:o}),p.addEventListener("contextmenu",Nr,{signal:o}),p.tabIndex=-1}this.div.prepend(this.#s)}#S(i,o){o.preventDefault();const{isMac:u}=zi.platform;if(0!==o.button||o.ctrlKey&&u)return;this.#n?.toggle(!1);const p=this._isDraggable;this._isDraggable=!1;const g=new AbortController,y=this._uiManager.combinedSignal(g);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#D.bind(this,i),{passive:!0,capture:!0,signal:y}),window.addEventListener("contextmenu",Nr,{signal:y});const E=this.x,T=this.y,x=this.width,N=this.height,B=this.parent.div.style.cursor,Y=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(o.target).cursor;const se=()=>{g.abort(),this.parent.togglePointerEvents(!0),this.#n?.toggle(!0),this._isDraggable=p,this.parent.div.style.cursor=B,this.div.style.cursor=Y,this.#A(E,T,x,N)};window.addEventListener("pointerup",se,{signal:y}),window.addEventListener("blur",se,{signal:y})}#A(i,o,u,p){const g=this.x,y=this.y,E=this.width,T=this.height;g===i&&y===o&&E===u&&T===p||this.addCommands({cmd:()=>{this.width=E,this.height=T,this.x=g,this.y=y;const[x,N]=this.parentDimensions;this.setDims(x*E,N*T),this.fixAndSetPosition()},undo:()=>{this.width=u,this.height=p,this.x=i,this.y=o;const[x,N]=this.parentDimensions;this.setDims(x*u,N*p),this.fixAndSetPosition()},mustExec:!0})}#D(i,o){const[u,p]=this.parentDimensions,g=this.x,y=this.y,E=this.width,T=this.height,x=Dt.MIN_SIZE/u,N=Dt.MIN_SIZE/p,B=Qn=>Math.round(1e4*Qn)/1e4,Y=this.#C(this.rotation),se=(Qn,Zn)=>[Y[0]*Qn+Y[2]*Zn,Y[1]*Qn+Y[3]*Zn],le=this.#C(360-this.rotation);let Fe,Te,nt=!1,ht=!1;switch(i){case"topLeft":nt=!0,Fe=(Qn,Zn)=>[0,0],Te=(Qn,Zn)=>[Qn,Zn];break;case"topMiddle":Fe=(Qn,Zn)=>[Qn/2,0],Te=(Qn,Zn)=>[Qn/2,Zn];break;case"topRight":nt=!0,Fe=(Qn,Zn)=>[Qn,0],Te=(Qn,Zn)=>[0,Zn];break;case"middleRight":ht=!0,Fe=(Qn,Zn)=>[Qn,Zn/2],Te=(Qn,Zn)=>[0,Zn/2];break;case"bottomRight":nt=!0,Fe=(Qn,Zn)=>[Qn,Zn],Te=(Qn,Zn)=>[0,0];break;case"bottomMiddle":Fe=(Qn,Zn)=>[Qn/2,Zn],Te=(Qn,Zn)=>[Qn/2,0];break;case"bottomLeft":nt=!0,Fe=(Qn,Zn)=>[0,Zn],Te=(Qn,Zn)=>[Qn,0];break;case"middleLeft":ht=!0,Fe=(Qn,Zn)=>[0,Zn/2],Te=(Qn,Zn)=>[Qn,Zn/2]}const dt=Fe(E,T),At=Te(E,T);let Et=se(...At);const It=B(g+Et[0]),Lt=B(y+Et[1]);let st=1,Ft=1,[hn,Di]=this.screenToPageTranslation(o.movementX,o.movementY);if([hn,Di]=[le[0]*(Qn=hn/u)+le[2]*(Zn=Di/p),le[1]*Qn+le[3]*Zn],nt){const Qn=Math.hypot(E,T);st=Ft=Math.max(Math.min(Math.hypot(At[0]-dt[0]-hn,At[1]-dt[1]-Di)/Qn,1/E,1/T),x/E,N/T)}else ht?st=Math.max(x,Math.min(1,Math.abs(At[0]-dt[0]-hn)))/E:Ft=Math.max(N,Math.min(1,Math.abs(At[1]-dt[1]-Di)))/T;var Qn,Zn;const Vi=B(E*st),Bi=B(T*Ft);Et=se(...Te(Vi,Bi));const Vr=It-Et[0],vs=Lt-Et[1];this.width=Vi,this.height=Bi,this.x=Vr,this.y=vs,this.setDims(u*Vi,p*Bi),this.fixAndSetPosition()}altTextFinish(){this.#n?.finish()}addEditToolbar(){var i=this;return(0,ae.Z)(function*(){return i._editToolbar||i.#h||(i._editToolbar=new jt(i),i.div.append(i._editToolbar.render()),i.#n&&(yield i._editToolbar.addAltText(i.#n))),i._editToolbar})()}removeEditToolbar(){this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,this.#n?.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}addAltTextButton(){var i=this;return(0,ae.Z)(function*(){i.#n||(ei.initialize(Dt._l10nPromise),i.#n=new ei(i),i.#e&&(i.#n.data=i.#e,i.#e=null),yield i.addEditToolbar())})()}get altTextData(){return this.#n?.data}set altTextData(i){this.#n&&(this.#n.data=i)}get guessedAltText(){return this.#n?.guessedText}setGuessedAltText(i){var o=this;return(0,ae.Z)(function*(){yield o.#n?.setGuessedText(i)})()}serializeAltText(i){return this.#n?.serialize(i)}hasAltText(){return!!this.#n&&!this.#n.isEmpty()}hasAltTextData(){return this.#n?.hasData()??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=this.#i?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),this.#N();const[i,o]=this.parentDimensions;this.parentRotation%180!=0&&(this.div.style.maxWidth=`${(100*o/i).toFixed(2)}%`,this.div.style.maxHeight=`${(100*i/o).toFixed(2)}%`);const[u,p]=this.getInitialTranslation();return this.translate(u,p),vn(this,this.div,["pointerdown"]),this.div}pointerdown(i){const{isMac:o}=zi.platform;0!==i.button||i.ctrlKey&&o?i.preventDefault():(this.#c=!0,this._isDraggable?this.#x(i):this.#I(i))}#I(i){const{isMac:o}=zi.platform;i.ctrlKey&&!o||i.shiftKey||i.metaKey&&o?this.parent.toggleSelected(this):this.parent.setSelected(this)}#x(i){const o=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();const u=new AbortController,p=this._uiManager.combinedSignal(u);o&&(this.div.classList.add("moving"),this.#g=i.clientX,this.#_=i.clientY,window.addEventListener("pointermove",E=>{const{clientX:T,clientY:x}=E,[N,B]=this.screenToPageTranslation(T-this.#g,x-this.#_);this.#g=T,this.#_=x,this._uiManager.dragSelectedEditors(N,B)},{passive:!0,capture:!0,signal:p}));const g=()=>{u.abort(),o&&this.div.classList.remove("moving"),this.#c=!1,this._uiManager.endDragSession()||this.#I(i)};window.addEventListener("pointerup",g,{signal:p}),window.addEventListener("blur",g,{signal:p})}moveInDOM(){this.#f&&clearTimeout(this.#f),this.#f=setTimeout(()=>{this.#f=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(i,o,u){i.changeParent(this),this.x=o,this.y=u,this.fixAndSetPosition()}getRect(i,o,u=this.rotation){const p=this.parentScale,[g,y]=this.pageDimensions,[E,T]=this.pageTranslation,x=i/p,N=o/p,B=this.x*g,Y=this.y*y,se=this.width*g,le=this.height*y;switch(u){case 0:return[B+x+E,y-Y-N-le+T,B+x+se+E,y-Y-N+T];case 90:return[B+N+E,y-Y+x+T,B+N+le+E,y-Y+x+se+T];case 180:return[B-x-se+E,y-Y+N+T,B-x+E,y-Y+N+le+T];case 270:return[B-N-le+E,y-Y-x-se+T,B-N+E,y-Y-x+T];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(i,o){const[u,p,g,y]=i,E=g-u,T=y-p;switch(this.rotation){case 0:return[u,o-y,E,T];case 90:return[u,o-p,T,E];case 180:return[g,o-p,E,T];case 270:return[g,o-y,T,E];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#h=!0}disableEditMode(){this.#h=!1}isInEditMode(){return this.#h}shouldGetKeyboardEvents(){return this.#p}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}#N(){if(this.#l||!this.div)return;this.#l=new AbortController;const i=this._uiManager.combinedSignal(this.#l);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:i}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:i})}rebuild(){this.#N()}rotate(i){}serialize(i=!1,o=null){Zt("An editor must be serializable")}static deserialize(i,o,u){const p=new this.prototype.constructor({parent:o,id:o.getNextId(),uiManager:u});p.rotation=i.rotation,p.#e=i.accessibilityData;const[g,y]=p.pageDimensions,[E,T,x,N]=p.getRectInCurrentCoords(i.rect,y);return p.x=E/g,p.y=T/y,p.width=x/g,p.height=N/y,p}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||null!==this.serialize())}remove(){if(this.#l?.abort(),this.#l=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#f&&(clearTimeout(this.#f),this.#f=null),this.#L(),this.removeEditToolbar(),this.#m){for(const i of this.#m.values())clearTimeout(i);this.#m=null}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#M(),this.#s.classList.remove("hidden"),vn(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(i){if(!this.isResizable||i.target!==this.div||"Enter"!==i.key)return;this._uiManager.setSelected(this),this.#a={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const o=this.#s.children;if(!this.#t){this.#t=Array.from(o);const y=this.#T.bind(this),E=this.#v.bind(this),T=this._uiManager._signal;for(const x of this.#t){const N=x.getAttribute("data-resizer-name");x.setAttribute("role","spinbutton"),x.addEventListener("keydown",y,{signal:T}),x.addEventListener("blur",E,{signal:T}),x.addEventListener("focus",this.#P.bind(this,N),{signal:T}),x.setAttribute("data-l10n-id",Dt._l10nResizer[N])}}const u=this.#t[0];let p=0;for(const y of o){if(y===u)break;p++}const g=(360-this.rotation+this.parentRotation)%360/90*(this.#t.length/4);if(g!==p){if(g<p)for(let E=0;E<p-g;E++)this.#s.append(this.#s.firstChild);else if(g>p)for(let E=0;E<g-p;E++)this.#s.firstChild.before(this.#s.lastChild);let y=0;for(const E of o){const x=this.#t[y++].getAttribute("data-resizer-name");E.setAttribute("data-l10n-id",Dt._l10nResizer[x])}}this.#R(0),this.#p=!0,this.#s.firstChild.focus({focusVisible:!0}),i.preventDefault(),i.stopImmediatePropagation()}#T(i){Dt._resizerKeyboardManager.exec(this,i)}#v(i){this.#p&&i.relatedTarget?.parentNode!==this.#s&&this.#L()}#P(i){this.#d=this.#p?i:""}#R(i){if(this.#t)for(const o of this.#t)o.tabIndex=i}_resizeWithKeyboard(i,o){this.#p&&this.#D(this.#d,{movementX:i,movementY:o})}#L(){if(this.#p=!1,this.#R(-1),this.#a){const{savedX:i,savedY:o,savedWidth:u,savedHeight:p}=this.#a;this.#A(i,o,u,p),this.#a=null}}_stopResizingWithKeyboard(){this.#L(),this.div.focus()}select(){this.makeResizable(),this.div?.classList.add("selectedEditor"),this._editToolbar?(this._editToolbar?.show(),this.#n?.toggleAltTextBadge(!1)):this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()})}unselect(){this.#s?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#n?.toggleAltTextBadge(!0)}updateParams(i,o){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return this.#o}set isEditing(i){this.#o=i,this.parent&&(i?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(i,o){this.#r=!0;const u=i/o,{style:p}=this.div;p.aspectRatio=u,p.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(i,o=!1){if(o){this.#m||=new Map;const{action:u}=i;let p=this.#m.get(u);return p&&clearTimeout(p),p=setTimeout(()=>{this._reportTelemetry(i),this.#m.delete(u),0===this.#m.size&&(this.#m=null)},Dt._telemetryTimeout),void this.#m.set(u,p)}i.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:i}})}show(i=this._isVisible){this.div.classList.toggle("hidden",!i),this._isVisible=i}enable(){this.div&&(this.div.tabIndex=0),this.#i=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#i=!0}renderAnnotationElement(i){let o=i.container.querySelector(".annotationContent");if(o){if("CANVAS"===o.nodeName){const u=o;o=document.createElement("div"),o.classList.add("annotationContent",this.editorType),u.before(o)}}else o=document.createElement("div"),o.classList.add("annotationContent",this.editorType),i.container.prepend(o);return o}resetAnnotationElement(i){const{firstChild:o}=i.container;"DIV"===o.nodeName&&o.classList.contains("annotationContent")&&o.remove()}}class Ii extends Dt{constructor(i){super(i),this.annotationElementId=i.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const zr=3285377520,on=4294901760,ur=65535;class Xo{constructor(i){this.h1=i?4294967295&i:zr,this.h2=i?4294967295&i:zr}update(i){let o,u;if("string"==typeof i){o=new Uint8Array(2*i.length),u=0;for(let me=0,Fe=i.length;me<Fe;me++){const Te=i.charCodeAt(me);Te<=255?o[u++]=Te:(o[u++]=Te>>>8,o[u++]=255&Te)}}else{if(!ArrayBuffer.isView(i))throw new Error("Invalid data format, must be a string or TypedArray.");o=i.slice(),u=o.byteLength}const p=u>>2,g=u-4*p,y=new Uint32Array(o.buffer,0,p);let E=0,T=0,x=this.h1,N=this.h2;const B=3432918353,Y=461845907;for(let me=0;me<p;me++)1&me?(E=y[me],E=E*B&on|11601*E&ur,E=E<<15|E>>>17,E=E*Y&on|13715*E&ur,x^=E,x=x<<13|x>>>19,x=5*x+3864292196):(T=y[me],T=T*B&on|11601*T&ur,T=T<<15|T>>>17,T=T*Y&on|13715*T&ur,N^=T,N=N<<13|N>>>19,N=5*N+3864292196);switch(E=0,g){case 3:E^=o[4*p+2]<<16;case 2:E^=o[4*p+1]<<8;case 1:E^=o[4*p],E=E*B&on|11601*E&ur,E=E<<15|E>>>17,E=E*Y&on|13715*E&ur,1&p?x^=E:N^=E}this.h1=x,this.h2=N}hexdigest(){let i=this.h1,o=this.h2;return i^=o>>>1,i=3981806797*i&on|36045*i&ur,o=4283543511*o&on|(2950163797*(o<<16|i>>>16)&on)>>>16,i^=o>>>1,i=444984403*i&on|60499*i&ur,o=3301882366*o&on|(3120437893*(o<<16|i>>>16)&on)>>>16,i^=o>>>1,(i>>>0).toString(16).padStart(8,"0")+(o>>>0).toString(16).padStart(8,"0")}}const Sr=Object.freeze({map:null,hash:"",transfer:void 0});class hs{#e=!1;#t=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(i,o){const u=this.#n.get(i);return void 0===u?o:Object.assign(o,u)}getRawValue(i){return this.#n.get(i)}remove(i){if(this.#n.delete(i),0===this.#n.size&&this.resetModified(),"function"==typeof this.onAnnotationEditor){for(const o of this.#n.values())if(o instanceof Dt)return;this.onAnnotationEditor(null)}}setValue(i,o){const u=this.#n.get(i);let p=!1;if(void 0!==u)for(const[g,y]of Object.entries(o))u[g]!==y&&(p=!0,u[g]=y);else p=!0,this.#n.set(i,o);p&&this.#i(),o instanceof Dt&&"function"==typeof this.onAnnotationEditor&&this.onAnnotationEditor(o.constructor._type)}has(i){return this.#n.has(i)}getAll(){return this.#n.size>0?ma(this.#n):null}setAll(i){for(const[o,u]of Object.entries(i))this.setValue(o,u)}get size(){return this.#n.size}#i(){this.#e||(this.#e=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get print(){return new _a(this)}get serializable(){if(0===this.#n.size)return Sr;const i=new Map,o=new Xo,u=[],p=Object.create(null);let g=!1;for(const[y,E]of this.#n){const T=E instanceof Dt?E.serialize(!1,p):E;T&&(i.set(y,T),o.update(`${y}:${JSON.stringify(T)}`),g||=!!T.bitmap)}if(g)for(const y of i.values())y.bitmap&&u.push(y.bitmap);return i.size>0?{map:i,hash:o.hexdigest(),transfer:u}:Sr}get editorStats(){let i=null;const o=new Map;for(const u of this.#n.values()){if(!(u instanceof Dt))continue;const p=u.telemetryFinalData;if(!p)continue;const{type:g}=p;o.has(g)||o.set(g,Object.getPrototypeOf(u).constructor),i||=Object.create(null);const y=i[g]||=new Map;for(const[E,T]of Object.entries(p)){if("type"===E)continue;let x=y.get(E);x||(x=new Map,y.set(E,x));const N=x.get(T)??0;x.set(T,N+1)}}for(const[u,p]of o)i[u]=p.computeTelemetryFinalData(i[u]);return i}resetModifiedIds(){this.#t=null}get modifiedIds(){if(this.#t)return this.#t;const i=[];for(const o of this.#n.values())!(o instanceof Dt)||!o.annotationElementId||!o.serialize()||i.push(o.annotationElementId);return this.#t={ids:new Set(i),hash:i.join(",")}}}class _a extends hs{#e;constructor(i){super();const{map:o,hash:u,transfer:p}=i.serializable,g=structuredClone(o,p?{transfer:p}:null);this.#e={map:g,hash:u,transfer:p}}get print(){Zt("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}get modifiedIds(){return gn(this,"modifiedIds",{ids:new Set,hash:""})}}class Jo{#e=new Set;constructor({ownerDocument:i=globalThis.document,styleElement:o=null}){this._document=i,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(i){this.nativeFontFaces.add(i),this._document.fonts.add(i)}removeNativeFontFace(i){this.nativeFontFaces.delete(i),this._document.fonts.delete(i)}insertRule(i){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const o=this.styleElement.sheet;o.insertRule(i,o.cssRules.length)}clear(){for(const i of this.nativeFontFaces)this._document.fonts.delete(i);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}loadSystemFont({systemFontInfo:i,_inspectFont:o}){var u=this;return(0,ae.Z)(function*(){if(i&&!u.#e.has(i.loadedName)){if(Ln(!u.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),u.isFontLoadingAPISupported){const{loadedName:p,src:g,style:y}=i,E=new FontFace(p,g,y);u.addNativeFontFace(E);try{yield E.load(),u.#e.add(p),o?.(i)}catch{mn(`Cannot load system font: ${i.baseFontName}, installing it could help to improve PDF rendering.`),u.removeNativeFontFace(E)}return}Zt("Not implemented: loadSystemFont without the Font Loading API.")}})()}bind(i){var o=this;return(0,ae.Z)(function*(){if(i.attached||i.missingFile&&!i.systemFontInfo)return;if(i.attached=!0,i.systemFontInfo)return void(yield o.loadSystemFont(i));if(o.isFontLoadingAPISupported){const p=i.createNativeFontFace();if(p){o.addNativeFontFace(p);try{yield p.loaded}catch(g){throw mn(`Failed to load font '${p.family}': '${g}'.`),i.disableFontFace=!0,g}}return}const u=i.createFontFaceRule();if(u){if(o.insertRule(u),o.isSyncFontLoadingSupported)return;yield new Promise(p=>{const g=o._queueLoadingCallback(p);o._prepareFontLoadEvent(i,g)})}})()}get isFontLoadingAPISupported(){return gn(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){let i=!1;return(De||typeof navigator<"u"&&"string"==typeof navigator?.userAgent&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(i=!0),gn(this,"isSyncFontLoadingSupported",i)}_queueLoadingCallback(i){const{loadingRequests:u}=this,p={done:!1,complete:function o(){for(Ln(!p.done,"completeRequest() cannot be called twice."),p.done=!0;u.length>0&&u[0].done;){const g=u.shift();setTimeout(g.callback,0)}},callback:i};return u.push(p),p}get _loadTestFont(){return gn(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(i,o){function u(dt,At){return dt.charCodeAt(At)<<24|dt.charCodeAt(At+1)<<16|dt.charCodeAt(At+2)<<8|255&dt.charCodeAt(At+3)}function p(dt,At,Et,It){return dt.substring(0,At)+It+dt.substring(At+Et)}let g,y;const E=this._document.createElement("canvas");E.width=1,E.height=1;const T=E.getContext("2d");let x=0;const B=`lt${Date.now()}${this.loadTestFontId++}`;let Y=this._loadTestFont;Y=p(Y,976,B.length,B);const me=1482184792;let Fe=u(Y,16);for(g=0,y=B.length-3;g<y;g+=4)Fe=Fe-me+u(B,g)|0;g<B.length&&(Fe=Fe-me+u(B+"XXX",g)|0),Y=p(Y,16,4,function Jn(C){return String.fromCharCode(C>>24&255,C>>16&255,C>>8&255,255&C)}(Fe));const Te=`url(data:font/opentype;base64,${btoa(Y)});`;this.insertRule(`@font-face {font-family:"${B}";src:${Te}}`);const ht=this._document.createElement("div");ht.style.visibility="hidden",ht.style.width=ht.style.height="10px",ht.style.position="absolute",ht.style.top=ht.style.left="0px";for(const dt of[i.loadedName,B]){const At=this._document.createElement("span");At.textContent="Hi",At.style.fontFamily=dt,ht.append(At)}this._document.body.append(ht),function N(dt,At){if(++x>30)return mn("Load test font never loaded."),void At();T.font="30px "+dt,T.fillText(".",0,20),T.getImageData(0,0,1,1).data[3]>0?At():setTimeout(N.bind(null,dt,At))}(B,()=>{ht.remove(),o.complete()})}}class Pu{constructor(i,{disableFontFace:o=!1,inspectFont:u=null}){this.compiledGlyphs=Object.create(null);for(const p in i)this[p]=i[p];this.disableFontFace=!0===o,this._inspectFont=u}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let i;if(this.cssFontInfo){const o={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(o.style=`oblique ${this.cssFontInfo.italicAngle}deg`),i=new FontFace(this.cssFontInfo.fontFamily,this.data,o)}else i=new FontFace(this.loadedName,this.data,{});return this._inspectFont?.(this),i}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const i=Xs(this.data),o=`url(data:${this.mimetype};base64,${btoa(i)});`;let u;if(this.cssFontInfo){let p=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(p+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),u=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${p}src:${o}}`}else u=`@font-face {font-family:"${this.loadedName}";src:${o}}`;return this._inspectFont?.(this,o),u}getPathGenerator(i,o){if(void 0!==this.compiledGlyphs[o])return this.compiledGlyphs[o];let u;try{u=i.get(this.loadedName+"_path_"+o)}catch(g){mn(`getPathGenerator - ignoring character: "${g}".`)}if(!Array.isArray(u)||0===u.length)return this.compiledGlyphs[o]=function(g,y){};const p=[];for(let g=0,y=u.length;g<y;)switch(u[g++]){case 0:{const[E,T,x,N,B,Y]=u.slice(g,g+6);p.push(se=>se.bezierCurveTo(E,T,x,N,B,Y)),g+=6}break;case 1:{const[E,T]=u.slice(g,g+2);p.push(x=>x.moveTo(E,T)),g+=2}break;case 2:{const[E,T]=u.slice(g,g+2);p.push(x=>x.lineTo(E,T)),g+=2}break;case 3:{const[E,T,x,N]=u.slice(g,g+4);p.push(B=>B.quadraticCurveTo(E,T,x,N)),g+=4}break;case 4:p.push(E=>E.restore());break;case 5:p.push(E=>E.save());break;case 6:Ln(2===p.length,"Scale command is only valid at the third position.");break;case 7:{const[E,T,x,N,B,Y]=u.slice(g,g+6);p.push(se=>se.transform(E,T,x,N,B,Y)),g+=6}break;case 8:{const[E,T]=u.slice(g,g+2);p.push(x=>x.translate(E,T)),g+=2}}return this.compiledGlyphs[o]=function(y,E){p[0](y),p[1](y),y.scale(E,-E);for(let T=2,x=p.length;T<x;T++)p[T](y)}}}if(De){var fs=Promise.withResolvers(),nc=null;(function(){var i=(0,ae.Z)(function*(){const o=yield import("fs"),u=yield import("http"),p=yield import("https"),g=yield import("url");return new Map(Object.entries({fs:o,http:u,https:p,url:g,canvas:void 0,path2d:void 0}))});return function(){return i.apply(this,arguments)}})()().then(i=>{nc=i,fs.resolve()},i=>{mn(`loadPackages: ${i}`),nc=new Map,fs.resolve()})}class dr{static get promise(){return fs.promise}static get(i){return nc?.get(i)}}const ic=function(C){return dr.get("fs").promises.readFile(C).then(o=>new Uint8Array(o))};function ta(C,i){if(!i)return;const o=i[2]-i[0],u=i[3]-i[1],p=new Path2D;p.rect(i[0],i[1],o,u),C.clip(p)}class ya{getPattern(){Zt("Abstract method `getPattern` called.")}}class na extends ya{constructor(i){super(),this._type=i[1],this._bbox=i[2],this._colorStops=i[3],this._p0=i[4],this._p1=i[5],this._r0=i[6],this._r1=i[7],this.matrix=null}_createGradient(i){let o;"axial"===this._type?o=i.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(o=i.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const u of this._colorStops)o.addColorStop(u[0],u[1]);return o}getPattern(i,o,u,p){let g;if("Stroke"===p||"Fill"===p){const y=o.current.getClippedPathBoundingBox(p,Ae(i))||[0,0,0,0],E=Math.ceil(y[2]-y[0])||1,T=Math.ceil(y[3]-y[1])||1,x=o.cachedCanvases.getCanvas("pattern",E,T,!0),N=x.context;N.clearRect(0,0,N.canvas.width,N.canvas.height),N.beginPath(),N.rect(0,0,N.canvas.width,N.canvas.height),N.translate(-y[0],-y[1]),u=un.transform(u,[1,0,0,1,y[0],y[1]]),N.transform(...o.baseTransform),this.matrix&&N.transform(...this.matrix),ta(N,this._bbox),N.fillStyle=this._createGradient(N),N.fill(),g=i.createPattern(x.canvas,"no-repeat");const B=new DOMMatrix(u);g.setTransform(B)}else ta(i,this._bbox),g=this._createGradient(i);return g}}function vo(C,i,o,u,p,g,y,E){const T=i.coords,x=i.colors,N=C.data,B=4*C.width;let Y;T[o+1]>T[u+1]&&(Y=o,o=u,u=Y,Y=g,g=y,y=Y),T[u+1]>T[p+1]&&(Y=u,u=p,p=Y,Y=y,y=E,E=Y),T[o+1]>T[u+1]&&(Y=o,o=u,u=Y,Y=g,g=y,y=Y);const se=(T[o]+i.offsetX)*i.scaleX,le=(T[o+1]+i.offsetY)*i.scaleY,me=(T[u]+i.offsetX)*i.scaleX,Fe=(T[u+1]+i.offsetY)*i.scaleY,Te=(T[p]+i.offsetX)*i.scaleX,nt=(T[p+1]+i.offsetY)*i.scaleY;if(le>=nt)return;const ht=x[g],dt=x[g+1],At=x[g+2],Et=x[y],It=x[y+1],Lt=x[y+2],st=x[E],Ft=x[E+1],hn=x[E+2],Di=Math.round(le),Vi=Math.round(nt);let Bi,Vr,vs,Qn,Zn,od,Xa,Jf;for(let qs=Di;qs<=Vi;qs++){if(qs<Fe){const Br=qs<le?0:(le-qs)/(le-Fe);Bi=se-(se-me)*Br,Vr=ht-(ht-Et)*Br,vs=dt-(dt-It)*Br,Qn=At-(At-Lt)*Br}else{let Br;Br=qs>nt?1:Fe===nt?0:(Fe-qs)/(Fe-nt),Bi=me-(me-Te)*Br,Vr=Et-(Et-st)*Br,vs=It-(It-Ft)*Br,Qn=Lt-(Lt-hn)*Br}let lo;lo=qs<le?0:qs>nt?1:(le-qs)/(le-nt),Zn=se-(se-Te)*lo,od=ht-(ht-st)*lo,Xa=dt-(dt-Ft)*lo,Jf=At-(At-hn)*lo;const ad=Math.round(Math.min(Bi,Zn)),Cl=Math.round(Math.max(Bi,Zn));let Ra=B*qs+4*ad;for(let Br=ad;Br<=Cl;Br++)lo=(Bi-Br)/(Bi-Zn),lo<0?lo=0:lo>1&&(lo=1),N[Ra++]=Vr-(Vr-od)*lo|0,N[Ra++]=vs-(vs-Xa)*lo|0,N[Ra++]=Qn-(Qn-Jf)*lo|0,N[Ra++]=255}}function vr(C,i,o){const u=i.coords,p=i.colors;let g,y;switch(i.type){case"lattice":const E=i.verticesPerRow,T=Math.floor(u.length/E)-1,x=E-1;for(g=0;g<T;g++){let N=g*E;for(let B=0;B<x;B++,N++)vo(C,o,u[N],u[N+1],u[N+E],p[N],p[N+1],p[N+E]),vo(C,o,u[N+E+1],u[N+1],u[N+E],p[N+E+1],p[N+1],p[N+E])}break;case"triangles":for(g=0,y=u.length;g<y;g+=3)vo(C,o,u[g],u[g+1],u[g+2],p[g],p[g+1],p[g+2]);break;default:throw new Error("illegal figure")}}class Eo extends ya{constructor(i){super(),this._coords=i[2],this._colors=i[3],this._figures=i[4],this._bounds=i[5],this._bbox=i[7],this._background=i[8],this.matrix=null}_createMeshCanvas(i,o,u){const E=Math.floor(this._bounds[0]),T=Math.floor(this._bounds[1]),x=Math.ceil(this._bounds[2])-E,N=Math.ceil(this._bounds[3])-T,B=Math.min(Math.ceil(Math.abs(x*i[0]*1.1)),3e3),Y=Math.min(Math.ceil(Math.abs(N*i[1]*1.1)),3e3),se=x/B,le=N/Y,me={coords:this._coords,colors:this._colors,offsetX:-E,offsetY:-T,scaleX:1/se,scaleY:1/le},nt=u.getCanvas("mesh",B+4,Y+4,!1),ht=nt.context,dt=ht.createImageData(B,Y);if(o){const Et=dt.data;for(let It=0,Lt=Et.length;It<Lt;It+=4)Et[It]=o[0],Et[It+1]=o[1],Et[It+2]=o[2],Et[It+3]=255}for(const Et of this._figures)vr(dt,Et,me);return ht.putImageData(dt,2,2),{canvas:nt.canvas,offsetX:E-2*se,offsetY:T-2*le,scaleX:se,scaleY:le}}getPattern(i,o,u,p){let g;if(ta(i,this._bbox),"Shading"===p)g=un.singularValueDecompose2dScale(Ae(i));else if(g=un.singularValueDecompose2dScale(o.baseTransform),this.matrix){const E=un.singularValueDecompose2dScale(this.matrix);g=[g[0]*E[0],g[1]*E[1]]}const y=this._createMeshCanvas(g,"Shading"===p?null:this._background,o.cachedCanvases);return"Shading"!==p&&(i.setTransform(...o.baseTransform),this.matrix&&i.transform(...this.matrix)),i.translate(y.offsetX,y.offsetY),i.scale(y.scaleX,y.scaleY),i.createPattern(y.canvas,"no-repeat")}}class Dr extends ya{getPattern(){return"hotpink"}}let ps=(()=>{class C{static MAX_PATTERN_SIZE=3e3;constructor(o,u,p,g,y){this.operatorList=o[2],this.matrix=o[3],this.bbox=o[4],this.xstep=o[5],this.ystep=o[6],this.paintType=o[7],this.tilingType=o[8],this.color=u,this.ctx=p,this.canvasGraphicsFactory=g,this.baseTransform=y}createPatternCanvas(o){const u=this.operatorList,p=this.bbox,g=this.xstep,y=this.ystep,E=this.paintType,x=this.color,N=this.canvasGraphicsFactory;Un("TilingType: "+this.tilingType);const B=p[0],Y=p[1],se=p[2],le=p[3],me=un.singularValueDecompose2dScale(this.matrix),Fe=un.singularValueDecompose2dScale(this.baseTransform),Te=[me[0]*Fe[0],me[1]*Fe[1]],nt=this.getSizeAndScale(g,this.ctx.canvas.width,Te[0]),ht=this.getSizeAndScale(y,this.ctx.canvas.height,Te[1]),dt=o.cachedCanvases.getCanvas("pattern",nt.size,ht.size,!0),At=dt.context,Et=N.createCanvasGraphics(At);Et.groupLevel=o.groupLevel,this.setFillAndStrokeStyleToContext(Et,E,x);let It=B,Lt=Y,st=se,Ft=le;return B<0&&(It=0,st+=Math.abs(B)),Y<0&&(Lt=0,Ft+=Math.abs(Y)),At.translate(-nt.scale*It,-ht.scale*Lt),Et.transform(nt.scale,0,0,ht.scale,0,0),At.save(),this.clipBbox(Et,It,Lt,st,Ft),Et.baseTransform=Ae(Et.ctx),Et.executeOperatorList(u),Et.endDrawing(),{canvas:dt.canvas,scaleX:nt.scale,scaleY:ht.scale,offsetX:It,offsetY:Lt}}getSizeAndScale(o,u,p){o=Math.abs(o);const g=Math.max(C.MAX_PATTERN_SIZE,u);let y=Math.ceil(o*p);return y>=g?y=g:p=y/o,{scale:p,size:y}}clipBbox(o,u,p,g,y){o.ctx.rect(u,p,g-u,y-p),o.current.updateRectMinMax(Ae(o.ctx),[u,p,g,y]),o.clip(),o.endPath()}setFillAndStrokeStyleToContext(o,u,p){const g=o.ctx,y=o.current;switch(u){case 1:const E=this.ctx;g.fillStyle=E.fillStyle,g.strokeStyle=E.strokeStyle,y.fillColor=E.fillStyle,y.strokeColor=E.strokeStyle;break;case 2:const T=un.makeHexColor(p[0],p[1],p[2]);g.fillStyle=T,g.strokeStyle=T,y.fillColor=T,y.strokeColor=T;break;default:throw new fo(`Unsupported paint type: ${u}`)}}getPattern(o,u,p,g){let y=p;"Shading"!==g&&(y=un.transform(y,u.baseTransform),this.matrix&&(y=un.transform(y,this.matrix)));const E=this.createPatternCanvas(u);let T=new DOMMatrix(y);T=T.translate(E.offsetX,E.offsetY),T=T.scale(1/E.scaleX,1/E.scaleY);const x=o.createPattern(E.canvas,"repeat");return x.setTransform(T),x}}return C})();function bo({src:C,srcPos:i=0,dest:o,width:u,height:p,nonBlackColor:g=4294967295,inverseDecode:y=!1}){const E=zi.isLittleEndian?4278190080:255,[T,x]=y?[g,E]:[E,g],N=u>>3,B=7&u,Y=C.length;o=new Uint32Array(o.buffer);let se=0;for(let le=0;le<p;le++){for(const Fe=i+N;i<Fe;i++){const Te=i<Y?C[i]:255;o[se++]=128&Te?x:T,o[se++]=64&Te?x:T,o[se++]=32&Te?x:T,o[se++]=16&Te?x:T,o[se++]=8&Te?x:T,o[se++]=4&Te?x:T,o[se++]=2&Te?x:T,o[se++]=1&Te?x:T}if(0===B)continue;const me=i<Y?C[i++]:255;for(let Fe=0;Fe<B;Fe++)o[se++]=me&1<<7-Fe?x:T}return{srcPos:i,destPos:se}}class Ua{constructor(i){this.canvasFactory=i,this.cache=Object.create(null)}getCanvas(i,o,u){let p;return void 0!==this.cache[i]?(p=this.cache[i],this.canvasFactory.reset(p,o,u)):(p=this.canvasFactory.create(o,u),this.cache[i]=p),p}delete(i){delete this.cache[i]}clear(){for(const i in this.cache)this.canvasFactory.destroy(this.cache[i]),delete this.cache[i]}}function wo(C,i,o,u,p,g,y,E,T,x){const[N,B,Y,se,le,me]=Ae(C);if(0===B&&0===Y){const ht=Math.round(y*N+le),At=Math.round(E*se+me),It=Math.abs(Math.round((y+T)*N+le)-ht)||1,st=Math.abs(Math.round((E+x)*se+me)-At)||1;return C.setTransform(Math.sign(N),0,0,Math.sign(se),ht,At),C.drawImage(i,o,u,p,g,0,0,It,st),C.setTransform(N,B,Y,se,le,me),[It,st]}if(0===N&&0===se){const ht=Math.round(E*Y+le),At=Math.round(y*B+me),It=Math.abs(Math.round((E+x)*Y+le)-ht)||1,st=Math.abs(Math.round((y+T)*B+me)-At)||1;return C.setTransform(0,Math.sign(B),Math.sign(Y),0,ht,At),C.drawImage(i,o,u,p,g,0,0,st,It),C.setTransform(N,B,Y,se,le,me),[st,It]}return C.drawImage(i,o,u,p,g,y,E,T,x),[Math.hypot(N,B)*T,Math.hypot(Y,se)*x]}class ia{constructor(i,o){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=$e,this.textMatrixScale=1,this.fontMatrix=xe,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=0,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,i,o])}clone(){const i=Object.create(this);return i.clipBox=this.clipBox.slice(),i}setCurrentPoint(i,o){this.x=i,this.y=o}updatePathMinMax(i,o,u){[o,u]=un.applyTransform([o,u],i),this.minX=Math.min(this.minX,o),this.minY=Math.min(this.minY,u),this.maxX=Math.max(this.maxX,o),this.maxY=Math.max(this.maxY,u)}updateRectMinMax(i,o){const u=un.applyTransform(o,i),p=un.applyTransform(o.slice(2),i),g=un.applyTransform([o[0],o[3]],i),y=un.applyTransform([o[2],o[1]],i);this.minX=Math.min(this.minX,u[0],p[0],g[0],y[0]),this.minY=Math.min(this.minY,u[1],p[1],g[1],y[1]),this.maxX=Math.max(this.maxX,u[0],p[0],g[0],y[0]),this.maxY=Math.max(this.maxY,u[1],p[1],g[1],y[1])}updateScalingPathMinMax(i,o){un.scaleMinMax(i,o),this.minX=Math.min(this.minX,o[0]),this.minY=Math.min(this.minY,o[1]),this.maxX=Math.max(this.maxX,o[2]),this.maxY=Math.max(this.maxY,o[3])}updateCurvePathMinMax(i,o,u,p,g,y,E,T,x,N){const B=un.bezierBoundingBox(o,u,p,g,y,E,T,x,N);N||this.updateRectMinMax(i,B)}getPathBoundingBox(i="Fill",o=null){const u=[this.minX,this.minY,this.maxX,this.maxY];if("Stroke"===i){o||Zt("Stroke bounding box must include transform.");const p=un.singularValueDecompose2dScale(o),g=p[0]*this.lineWidth/2,y=p[1]*this.lineWidth/2;u[0]-=g,u[1]-=y,u[2]+=g,u[3]+=y}return u}updateClipFromPath(){const i=un.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(i||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(i){this.clipBox=i,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(i="Fill",o=null){return un.intersect(this.clipBox,this.getPathBoundingBox(i,o))}}function ol(C,i){if(typeof ImageData<"u"&&i instanceof ImageData)return void C.putImageData(i,0,0);const o=i.height,u=i.width,p=o%16,g=(o-p)/16,y=0===p?g:g+1,E=C.createImageData(u,16);let x,T=0;const N=i.data,B=E.data;let Y,se,le,me;if(i.kind===Ie.GRAYSCALE_1BPP){const Fe=N.byteLength,Te=new Uint32Array(B.buffer,0,B.byteLength>>2),nt=Te.length,ht=u+7>>3,dt=4294967295,At=zi.isLittleEndian?4278190080:255;for(Y=0;Y<y;Y++){for(le=Y<g?16:p,x=0,se=0;se<le;se++){const Et=Fe-T;let It=0;const Lt=Et>ht?u:8*Et-7,st=-8&Lt;let Ft=0,hn=0;for(;It<st;It+=8)hn=N[T++],Te[x++]=128&hn?dt:At,Te[x++]=64&hn?dt:At,Te[x++]=32&hn?dt:At,Te[x++]=16&hn?dt:At,Te[x++]=8&hn?dt:At,Te[x++]=4&hn?dt:At,Te[x++]=2&hn?dt:At,Te[x++]=1&hn?dt:At;for(;It<Lt;It++)0===Ft&&(hn=N[T++],Ft=128),Te[x++]=hn&Ft?dt:At,Ft>>=1}for(;x<nt;)Te[x++]=0;C.putImageData(E,0,16*Y)}}else if(i.kind===Ie.RGBA_32BPP){for(se=0,me=16*u*4,Y=0;Y<g;Y++)B.set(N.subarray(T,T+me)),T+=me,C.putImageData(E,0,se),se+=16;Y<y&&(me=u*p*4,B.set(N.subarray(T,T+me)),C.putImageData(E,0,se))}else{if(i.kind!==Ie.RGB_24BPP)throw new Error(`bad image kind: ${i.kind}`);for(le=16,me=u*le,Y=0;Y<y;Y++){for(Y>=g&&(le=p,me=u*le),x=0,se=me;se--;)B[x++]=N[T++],B[x++]=N[T++],B[x++]=N[T++],B[x++]=255;C.putImageData(E,0,16*Y)}}}function to(C,i){if(i.bitmap)return void C.drawImage(i.bitmap,0,0);const o=i.height,u=i.width,p=o%16,g=(o-p)/16,y=0===p?g:g+1,E=C.createImageData(u,16);let T=0;const x=i.data,N=E.data;for(let B=0;B<y;B++){const Y=B<g?16:p;({srcPos:T}=bo({src:x,srcPos:T,dest:N,width:u,height:Y,nonBlackColor:0})),C.putImageData(E,0,16*B)}}function ja(C,i){const o=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const u of o)void 0!==C[u]&&(i[u]=C[u]);void 0!==C.setLineDash&&(i.setLineDash(C.getLineDash()),i.lineDashOffset=C.lineDashOffset)}function ba(C){if(C.strokeStyle=C.fillStyle="#000000",C.fillRule="nonzero",C.globalAlpha=1,C.lineWidth=1,C.lineCap="butt",C.lineJoin="miter",C.miterLimit=10,C.globalCompositeOperation="source-over",C.font="10px sans-serif",void 0!==C.setLineDash&&(C.setLineDash([]),C.lineDashOffset=0),!De){const{filter:i}=C;"none"!==i&&""!==i&&(C.filter="none")}}function al(C,i){if(i)return!0;const o=un.singularValueDecompose2dScale(C);o[0]=Math.fround(o[0]),o[1]=Math.fround(o[1]);const u=Math.fround((globalThis.devicePixelRatio||1)*Me.PDF_TO_CSS_UNITS);return o[0]<=u&&o[1]<=u}const Ml=["butt","round","square"],$r=["miter","round","bevel"],rc={},Uo={};class Ha{constructor(i,o,u,p,g,{optionalContentConfig:y,markedContentStack:E=null},T,x){this.ctx=i,this.current=new ia(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=o,this.objs=u,this.canvasFactory=p,this.filterFactory=g,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=E||[],this.optionalContentConfig=y,this.cachedCanvases=new Ua(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=T,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=x,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(i,o=null){return"string"==typeof i?i.startsWith("g_")?this.commonObjs.get(i):this.objs.get(i):o}beginDrawing({transform:i,viewport:o,transparency:u=!1,background:p=null}){const g=this.ctx.canvas.width,y=this.ctx.canvas.height,E=this.ctx.fillStyle;if(this.ctx.fillStyle=p||"#ffffff",this.ctx.fillRect(0,0,g,y),this.ctx.fillStyle=E,u){const T=this.cachedCanvases.getCanvas("transparent",g,y);this.compositeCtx=this.ctx,this.transparentCanvas=T.canvas,this.ctx=T.context,this.ctx.save(),this.ctx.transform(...Ae(this.compositeCtx))}this.ctx.save(),ba(this.ctx),i&&(this.ctx.transform(...i),this.outputScaleX=i[0],this.outputScaleY=i[0]),this.ctx.transform(...o.transform),this.viewportScale=o.scale,this.baseTransform=Ae(this.ctx)}executeOperatorList(i,o,u,p){const g=i.argsArray,y=i.fnArray;let E=o||0;const T=g.length;if(T===E)return E;const x=T-E>10&&"function"==typeof u,N=x?Date.now()+15:0;let B=0;const Y=this.commonObjs,se=this.objs;let le;for(;;){if(void 0!==p&&E===p.nextBreakPoint)return p.breakIt(E,u),E;if(le=y[E],le!==_t.dependency)this[le].apply(this,g[E]);else for(const me of g[E]){const Fe=me.startsWith("g_")?Y:se;if(!Fe.has(me))return Fe.get(me,u),E}if(E++,E===T)return E;if(x&&++B>10){if(Date.now()>N)return u(),E;B=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const i of this._cachedBitmapsMap.values()){for(const o of i.values())typeof HTMLCanvasElement<"u"&&o instanceof HTMLCanvasElement&&(o.width=o.height=0);i.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const i=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if("none"!==i){const o=this.ctx.filter;this.ctx.filter=i,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=o}}}_scaleImage(i,o){const u=i.width,p=i.height;let N,B,g=Math.max(Math.hypot(o[0],o[1]),1),y=Math.max(Math.hypot(o[2],o[3]),1),E=u,T=p,x="prescale1";for(;g>2&&E>1||y>2&&T>1;){let Y=E,se=T;g>2&&E>1&&(Y=E>=16384?Math.floor(E/2)-1||1:Math.ceil(E/2),g/=E/Y),y>2&&T>1&&(se=T>=16384?Math.floor(T/2)-1||1:Math.ceil(T)/2,y/=T/se),N=this.cachedCanvases.getCanvas(x,Y,se),B=N.context,B.clearRect(0,0,Y,se),B.drawImage(i,0,0,E,T,0,0,Y,se),i=N.canvas,E=Y,T=se,x="prescale1"===x?"prescale2":"prescale1"}return{img:i,paintWidth:E,paintHeight:T}}_createMaskCanvas(i){const o=this.ctx,{width:u,height:p}=i,g=this.current.fillColor,y=this.current.patternFill,E=Ae(o);let T,x,N,B;if((i.bitmap||i.data)&&i.count>1){const Lt=i.bitmap||i.data.buffer;x=JSON.stringify(y?E:[E.slice(0,4),g]),T=this._cachedBitmapsMap.get(Lt),T||(T=new Map,this._cachedBitmapsMap.set(Lt,T));const st=T.get(x);if(st&&!y)return{canvas:st,offsetX:Math.round(Math.min(E[0],E[2])+E[4]),offsetY:Math.round(Math.min(E[1],E[3])+E[5])};N=st}N||(B=this.cachedCanvases.getCanvas("maskCanvas",u,p),to(B.context,i));let Y=un.transform(E,[1/u,0,0,-1/p,0,0]);Y=un.transform(Y,[1,0,0,1,0,-p]);const[se,le,me,Fe]=un.getAxialAlignedBoundingBox([0,0,u,p],Y),Te=Math.round(me-se)||1,nt=Math.round(Fe-le)||1,ht=this.cachedCanvases.getCanvas("fillCanvas",Te,nt),dt=ht.context,At=se,Et=le;dt.translate(-At,-Et),dt.transform(...Y),N||(N=this._scaleImage(B.canvas,ot(dt)),N=N.img,T&&y&&T.set(x,N)),dt.imageSmoothingEnabled=al(Ae(dt),i.interpolate),wo(dt,N,0,0,N.width,N.height,0,0,u,p),dt.globalCompositeOperation="source-in";const It=un.transform(ot(dt),[1,0,0,1,-At,-Et]);return dt.fillStyle=y?g.getPattern(o,this,It,"Fill"):g,dt.fillRect(0,0,u,p),T&&!y&&(this.cachedCanvases.delete("fillCanvas"),T.set(x,ht.canvas)),{canvas:ht.canvas,offsetX:Math.round(At),offsetY:Math.round(Et)}}setLineWidth(i){i!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=i,this.ctx.lineWidth=i}setLineCap(i){this.ctx.lineCap=Ml[i]}setLineJoin(i){this.ctx.lineJoin=$r[i]}setMiterLimit(i){this.ctx.miterLimit=i}setDash(i,o){const u=this.ctx;void 0!==u.setLineDash&&(u.setLineDash(i),u.lineDashOffset=o)}setRenderingIntent(i){}setFlatness(i){}setGState(i){for(const[o,u]of i)switch(o){case"LW":this.setLineWidth(u);break;case"LC":this.setLineCap(u);break;case"LJ":this.setLineJoin(u);break;case"ML":this.setMiterLimit(u);break;case"D":this.setDash(u[0],u[1]);break;case"RI":this.setRenderingIntent(u);break;case"FL":this.setFlatness(u);break;case"Font":this.setFont(u[0],u[1]);break;case"CA":this.current.strokeAlpha=u;break;case"ca":this.current.fillAlpha=u,this.ctx.globalAlpha=u;break;case"BM":this.ctx.globalCompositeOperation=u;break;case"SMask":this.current.activeSMask=u?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(u)}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const i=this.inSMaskMode;this.current.activeSMask&&!i?this.beginSMaskMode():!this.current.activeSMask&&i&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const p=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height);this.suspendedCtx=this.ctx,this.ctx=p.context;const g=this.ctx;g.setTransform(...Ae(this.suspendedCtx)),ja(this.suspendedCtx,g),function Ss(C,i){if(C._removeMirroring)throw new Error("Context is already forwarding operations.");C.__originalSave=C.save,C.__originalRestore=C.restore,C.__originalRotate=C.rotate,C.__originalScale=C.scale,C.__originalTranslate=C.translate,C.__originalTransform=C.transform,C.__originalSetTransform=C.setTransform,C.__originalResetTransform=C.resetTransform,C.__originalClip=C.clip,C.__originalMoveTo=C.moveTo,C.__originalLineTo=C.lineTo,C.__originalBezierCurveTo=C.bezierCurveTo,C.__originalRect=C.rect,C.__originalClosePath=C.closePath,C.__originalBeginPath=C.beginPath,C._removeMirroring=()=>{C.save=C.__originalSave,C.restore=C.__originalRestore,C.rotate=C.__originalRotate,C.scale=C.__originalScale,C.translate=C.__originalTranslate,C.transform=C.__originalTransform,C.setTransform=C.__originalSetTransform,C.resetTransform=C.__originalResetTransform,C.clip=C.__originalClip,C.moveTo=C.__originalMoveTo,C.lineTo=C.__originalLineTo,C.bezierCurveTo=C.__originalBezierCurveTo,C.rect=C.__originalRect,C.closePath=C.__originalClosePath,C.beginPath=C.__originalBeginPath,delete C._removeMirroring},C.save=function(){i.save(),this.__originalSave()},C.restore=function(){i.restore(),this.__originalRestore()},C.translate=function(u,p){i.translate(u,p),this.__originalTranslate(u,p)},C.scale=function(u,p){i.scale(u,p),this.__originalScale(u,p)},C.transform=function(u,p,g,y,E,T){i.transform(u,p,g,y,E,T),this.__originalTransform(u,p,g,y,E,T)},C.setTransform=function(u,p,g,y,E,T){i.setTransform(u,p,g,y,E,T),this.__originalSetTransform(u,p,g,y,E,T)},C.resetTransform=function(){i.resetTransform(),this.__originalResetTransform()},C.rotate=function(u){i.rotate(u),this.__originalRotate(u)},C.clip=function(u){i.clip(u),this.__originalClip(u)},C.moveTo=function(o,u){i.moveTo(o,u),this.__originalMoveTo(o,u)},C.lineTo=function(o,u){i.lineTo(o,u),this.__originalLineTo(o,u)},C.bezierCurveTo=function(o,u,p,g,y,E){i.bezierCurveTo(o,u,p,g,y,E),this.__originalBezierCurveTo(o,u,p,g,y,E)},C.rect=function(o,u,p,g){i.rect(o,u,p,g),this.__originalRect(o,u,p,g)},C.closePath=function(){i.closePath(),this.__originalClosePath()},C.beginPath=function(){i.beginPath(),this.__originalBeginPath()}}(g,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),ja(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(i){this.current.activeSMask&&(i?(i[0]=Math.floor(i[0]),i[1]=Math.floor(i[1]),i[2]=Math.ceil(i[2]),i[3]=Math.ceil(i[3])):i=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],this.composeSMask(this.suspendedCtx,this.current.activeSMask,this.ctx,i),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}composeSMask(i,o,u,p){const g=p[0],y=p[1],E=p[2]-g,T=p[3]-y;0===E||0===T||(this.genericComposeSMask(o.context,u,E,T,o.subtype,o.backdrop,o.transferMap,g,y,o.offsetX,o.offsetY),i.save(),i.globalAlpha=1,i.globalCompositeOperation="source-over",i.setTransform(1,0,0,1,0,0),i.drawImage(u.canvas,0,0),i.restore())}genericComposeSMask(i,o,u,p,g,y,E,T,x,N,B){let Y=i.canvas,se=T-N,le=x-B;if(y)if(se<0||le<0||se+u>Y.width||le+p>Y.height){const Fe=this.cachedCanvases.getCanvas("maskExtension",u,p),Te=Fe.context;Te.drawImage(Y,-se,-le),y.some(nt=>0!==nt)&&(Te.globalCompositeOperation="destination-atop",Te.fillStyle=un.makeHexColor(...y),Te.fillRect(0,0,u,p),Te.globalCompositeOperation="source-over"),Y=Fe.canvas,se=le=0}else if(y.some(Fe=>0!==Fe)){i.save(),i.globalAlpha=1,i.setTransform(1,0,0,1,0,0);const Fe=new Path2D;Fe.rect(se,le,u,p),i.clip(Fe),i.globalCompositeOperation="destination-atop",i.fillStyle=un.makeHexColor(...y),i.fillRect(se,le,u,p),i.restore()}o.save(),o.globalAlpha=1,o.setTransform(1,0,0,1,0,0),"Alpha"===g&&E?o.filter=this.filterFactory.addAlphaFilter(E):"Luminosity"===g&&(o.filter=this.filterFactory.addLuminosityFilter(E));const me=new Path2D;me.rect(T,x,u,p),o.clip(me),o.globalCompositeOperation="destination-in",o.drawImage(Y,se,le,u,p,T,x,u,p),o.restore()}save(){this.inSMaskMode?(ja(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const i=this.current;this.stateStack.push(i),this.current=i.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),ja(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(i,o,u,p,g,y){this.ctx.transform(i,o,u,p,g,y),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(i,o,u){const p=this.ctx,g=this.current;let T,x,y=g.x,E=g.y;const N=Ae(p),B=0===N[0]&&0===N[3]||0===N[1]&&0===N[2],Y=B?u.slice(0):null;for(let se=0,le=0,me=i.length;se<me;se++)switch(0|i[se]){case _t.rectangle:y=o[le++],E=o[le++];const Fe=o[le++],Te=o[le++],nt=y+Fe,ht=E+Te;p.moveTo(y,E),0===Fe||0===Te?p.lineTo(nt,ht):(p.lineTo(nt,E),p.lineTo(nt,ht),p.lineTo(y,ht)),B||g.updateRectMinMax(N,[y,E,nt,ht]),p.closePath();break;case _t.moveTo:y=o[le++],E=o[le++],p.moveTo(y,E),B||g.updatePathMinMax(N,y,E);break;case _t.lineTo:y=o[le++],E=o[le++],p.lineTo(y,E),B||g.updatePathMinMax(N,y,E);break;case _t.curveTo:T=y,x=E,y=o[le+4],E=o[le+5],p.bezierCurveTo(o[le],o[le+1],o[le+2],o[le+3],y,E),g.updateCurvePathMinMax(N,T,x,o[le],o[le+1],o[le+2],o[le+3],y,E,Y),le+=6;break;case _t.curveTo2:T=y,x=E,p.bezierCurveTo(y,E,o[le],o[le+1],o[le+2],o[le+3]),g.updateCurvePathMinMax(N,T,x,y,E,o[le],o[le+1],o[le+2],o[le+3],Y),y=o[le+2],E=o[le+3],le+=4;break;case _t.curveTo3:T=y,x=E,y=o[le+2],E=o[le+3],p.bezierCurveTo(o[le],o[le+1],y,E,y,E),g.updateCurvePathMinMax(N,T,x,o[le],o[le+1],y,E,y,E,Y),le+=4;break;case _t.closePath:p.closePath()}B&&g.updateScalingPathMinMax(N,Y),g.setCurrentPoint(y,E)}closePath(){this.ctx.closePath()}stroke(i=!0){const o=this.ctx,u=this.current.strokeColor;o.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof u&&u?.getPattern?(o.save(),o.strokeStyle=u.getPattern(o,this,ot(o),"Stroke"),this.rescaleAndStroke(!1),o.restore()):this.rescaleAndStroke(!0)),i&&this.consumePath(this.current.getClippedPathBoundingBox()),o.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(i=!0){const o=this.ctx,u=this.current.fillColor;let g=!1;this.current.patternFill&&(o.save(),o.fillStyle=u.getPattern(o,this,ot(o),"Fill"),g=!0);const y=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==y&&(this.pendingEOFill?(o.fill("evenodd"),this.pendingEOFill=!1):o.fill()),g&&o.restore(),i&&this.consumePath(y)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=rc}eoClip(){this.pendingClip=Uo}beginText(){this.current.textMatrix=$e,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const i=this.pendingTextPaths,o=this.ctx;if(void 0!==i){o.save(),o.beginPath();for(const u of i)o.setTransform(...u.transform),o.translate(u.x,u.y),u.addToPath(o,u.fontSize);o.restore(),o.clip(),o.beginPath(),delete this.pendingTextPaths}else o.beginPath()}setCharSpacing(i){this.current.charSpacing=i}setWordSpacing(i){this.current.wordSpacing=i}setHScale(i){this.current.textHScale=i/100}setLeading(i){this.current.leading=-i}setFont(i,o){const u=this.commonObjs.get(i),p=this.current;if(!u)throw new Error(`Can't find font for ${i}`);if(p.fontMatrix=u.fontMatrix||xe,(0===p.fontMatrix[0]||0===p.fontMatrix[3])&&mn("Invalid font matrix for font "+i),o<0?(o=-o,p.fontDirection=-1):p.fontDirection=1,this.current.font=u,this.current.fontSize=o,u.isType3Font)return;const g=u.loadedName||"sans-serif",y=u.systemFontInfo?.css||`"${g}", ${u.fallbackName}`;let E="normal";u.black?E="900":u.bold&&(E="bold");const T=u.italic?"italic":"normal";let x=o;o<16?x=16:o>100&&(x=100),this.current.fontSizeScale=o/x,this.ctx.font=`${T} ${E} ${x}px ${y}`}setTextRenderingMode(i){this.current.textRenderingMode=i}setTextRise(i){this.current.textRise=i}moveText(i,o){this.current.x=this.current.lineX+=i,this.current.y=this.current.lineY+=o}setLeadingMoveText(i,o){this.setLeading(-o),this.moveText(i,o)}setTextMatrix(i,o,u,p,g,y){this.current.textMatrix=[i,o,u,p,g,y],this.current.textMatrixScale=Math.hypot(i,o),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(i,o,u,p){const g=this.ctx,y=this.current,E=y.font,T=y.textRenderingMode,x=y.fontSize/y.fontSizeScale,N=3&T,B=!!(4&T),Y=y.patternFill&&!E.missingFile;let se;(E.disableFontFace||B||Y)&&(se=E.getPathGenerator(this.commonObjs,i)),E.disableFontFace||Y?(g.save(),g.translate(o,u),g.beginPath(),se(g,x),p&&g.setTransform(...p),(0===N||2===N)&&g.fill(),(1===N||2===N)&&g.stroke(),g.restore()):((0===N||2===N)&&g.fillText(i,o,u),(1===N||2===N)&&g.strokeText(i,o,u)),B&&(this.pendingTextPaths||=[]).push({transform:Ae(g),x:o,y:u,fontSize:x,addToPath:se})}get isFontSubpixelAAEnabled(){const{context:i}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);i.scale(1.5,1),i.fillText("I",0,10);const o=i.getImageData(0,0,10,10).data;let u=!1;for(let p=3;p<o.length;p+=4)if(o[p]>0&&o[p]<255){u=!0;break}return gn(this,"isFontSubpixelAAEnabled",u)}showText(i){const o=this.current,u=o.font;if(u.isType3Font)return this.showType3Text(i);const p=o.fontSize;if(0===p)return;const g=this.ctx,y=o.fontSizeScale,E=o.charSpacing,T=o.wordSpacing,x=o.fontDirection,N=o.textHScale*x,B=i.length,Y=u.vertical,se=Y?1:-1,le=u.defaultVMetrics,me=p*o.fontMatrix[0],Fe=0===o.textRenderingMode&&!u.disableFontFace&&!o.patternFill;let Te;if(g.save(),g.transform(...o.textMatrix),g.translate(o.x,o.y+o.textRise),g.scale(N,x>0?-1:1),o.patternFill){g.save();const Et=o.fillColor.getPattern(g,this,ot(g),"Fill");Te=Ae(g),g.restore(),g.fillStyle=Et}let nt=o.lineWidth;const ht=o.textMatrixScale;if(0===ht||0===nt){const Et=3&o.textRenderingMode;(1===Et||2===Et)&&(nt=this.getSinglePixelWidth())}else nt/=ht;if(1!==y&&(g.scale(y,y),nt/=y),g.lineWidth=nt,u.isInvalidPDFjsFont){const Et=[];let It=0;for(const Lt of i)Et.push(Lt.unicode),It+=Lt.width;return g.fillText(Et.join(""),0,0),o.x+=It*me*N,g.restore(),void this.compose()}let At,dt=0;for(At=0;At<B;++At){const Et=i[At];if("number"==typeof Et){dt+=se*Et*p/1e3;continue}let It=!1;const Lt=(Et.isSpace?T:0)+E,st=Et.fontChar,Ft=Et.accent;let hn,Di,Vi=Et.width;if(Y){const Vr=Et.vmetric||le,vs=-(Et.vmetric?Vr[1]:.5*Vi)*me;Vi=Vr?-Vr[0]:Vi,hn=vs/y,Di=(dt+Vr[2]*me)/y}else hn=dt/y,Di=0;if(u.remeasure&&Vi>0){const Vr=1e3*g.measureText(st).width/p*y;if(Vi<Vr&&this.isFontSubpixelAAEnabled){const vs=Vi/Vr;It=!0,g.save(),g.scale(vs,1),hn/=vs}else Vi!==Vr&&(hn+=(Vi-Vr)/2e3*p/y)}this.contentVisible&&(Et.isInFont||u.missingFile)&&(Fe&&!Ft?g.fillText(st,hn,Di):(this.paintChar(st,hn,Di,Te),Ft&&this.paintChar(Ft.fontChar,hn+p*Ft.offset.x/y,Di-p*Ft.offset.y/y,Te))),dt+=Y?Vi*me-Lt*x:Vi*me+Lt*x,It&&g.restore()}Y?o.y-=dt:o.x+=dt*N,g.restore(),this.compose()}showType3Text(i){const o=this.ctx,u=this.current,p=u.font,g=u.fontSize,y=u.fontDirection,E=p.vertical?1:-1,T=u.charSpacing,x=u.wordSpacing,N=u.textHScale*y,B=u.fontMatrix||xe,Y=i.length;let le,me,Fe,Te;if(3!==u.textRenderingMode&&0!==g){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,o.save(),o.transform(...u.textMatrix),o.translate(u.x,u.y),o.scale(N,y),le=0;le<Y;++le){if(me=i[le],"number"==typeof me){Te=E*me*g/1e3,this.ctx.translate(Te,0),u.x+=Te*N;continue}const nt=(me.isSpace?x:0)+T,ht=p.charProcOperatorList[me.operatorListId];ht?(this.contentVisible&&(this.processingType3=me,this.save(),o.scale(g,g),o.transform(...B),this.executeOperatorList(ht),this.restore()),Fe=un.applyTransform([me.width,0],B)[0]*g+nt,o.translate(Fe,0),u.x+=Fe*N):mn(`Type3 character "${me.operatorListId}" is not available.`)}o.restore(),this.processingType3=null}}setCharWidth(i,o){}setCharWidthAndBounds(i,o,u,p,g,y){this.ctx.rect(u,p,g-u,y-p),this.ctx.clip(),this.endPath()}getColorN_Pattern(i){let o;if("TilingPattern"===i[0]){const u=i[1],p=this.baseTransform||Ae(this.ctx);o=new ps(i,u,this.ctx,{createCanvasGraphics:y=>new Ha(y,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})},p)}else o=this._getPattern(i[1],i[2]);return o}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(i,o,u){this.ctx.strokeStyle=this.current.strokeColor=un.makeHexColor(i,o,u)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(i,o,u){this.ctx.fillStyle=this.current.fillColor=un.makeHexColor(i,o,u),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(i,o=null){let u;return this.cachedPatterns.has(i)?u=this.cachedPatterns.get(i):(u=function Bo(C){switch(C[0]){case"RadialAxial":return new na(C);case"Mesh":return new Eo(C);case"Dummy":return new Dr}throw new Error(`Unknown IR type: ${C[0]}`)}(this.getObject(i)),this.cachedPatterns.set(i,u)),o&&(u.matrix=o),u}shadingFill(i){if(!this.contentVisible)return;const o=this.ctx;this.save();const u=this._getPattern(i);o.fillStyle=u.getPattern(o,this,ot(o),"Shading");const p=ot(o);if(p){const{width:g,height:y}=o.canvas,[E,T,x,N]=un.getAxialAlignedBoundingBox([0,0,g,y],p);this.ctx.fillRect(E,T,x-E,N-T)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Zt("Should not call beginInlineImage")}beginImageData(){Zt("Should not call beginImageData")}paintFormXObjectBegin(i,o){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),i&&this.transform(...i),this.baseTransform=Ae(this.ctx),o)&&(this.ctx.rect(o[0],o[1],o[2]-o[0],o[3]-o[1]),this.current.updateRectMinMax(Ae(this.ctx),o),this.clip(),this.endPath())}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(i){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const o=this.ctx;i.isolated||Un("TODO: Support non-isolated groups."),i.knockout&&mn("Knockout groups not supported.");const u=Ae(o);if(i.matrix&&o.transform(...i.matrix),!i.bbox)throw new Error("Bounding box is required.");let p=un.getAxialAlignedBoundingBox(i.bbox,Ae(o));p=un.intersect(p,[0,0,o.canvas.width,o.canvas.height])||[0,0,0,0];const y=Math.floor(p[0]),E=Math.floor(p[1]),T=Math.max(Math.ceil(p[2])-y,1),x=Math.max(Math.ceil(p[3])-E,1);this.current.startNewPathAndClipBox([0,0,T,x]);let N="groupAt"+this.groupLevel;i.smask&&(N+="_smask_"+this.smaskCounter++%2);const B=this.cachedCanvases.getCanvas(N,T,x),Y=B.context;Y.translate(-y,-E),Y.transform(...u),i.smask?this.smaskStack.push({canvas:B.canvas,context:Y,offsetX:y,offsetY:E,subtype:i.smask.subtype,backdrop:i.smask.backdrop,transferMap:i.smask.transferMap||null,startTransformInverse:null}):(o.setTransform(1,0,0,1,0,0),o.translate(y,E),o.save()),ja(o,Y),this.ctx=Y,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(o),this.groupLevel++}endGroup(i){if(!this.contentVisible)return;this.groupLevel--;const o=this.ctx,u=this.groupStack.pop();if(this.ctx=u,this.ctx.imageSmoothingEnabled=!1,i.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const p=Ae(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...p);const g=un.getAxialAlignedBoundingBox([0,0,o.canvas.width,o.canvas.height],p);this.ctx.drawImage(o.canvas,0,0),this.ctx.restore(),this.compose(g)}}beginAnnotation(i,o,u,p,g){if(this.#e(),ba(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),o){const y=o[2]-o[0],E=o[3]-o[1];if(g&&this.annotationCanvasMap){(u=u.slice())[4]-=o[0],u[5]-=o[1],(o=o.slice())[0]=o[1]=0,o[2]=y,o[3]=E;const[T,x]=un.singularValueDecompose2dScale(Ae(this.ctx)),{viewportScale:N}=this,B=Math.ceil(y*this.outputScaleX*N),Y=Math.ceil(E*this.outputScaleY*N);this.annotationCanvas=this.canvasFactory.create(B,Y);const{canvas:se,context:le}=this.annotationCanvas;this.annotationCanvasMap.set(i,se),this.annotationCanvas.savedCtx=this.ctx,this.ctx=le,this.ctx.save(),this.ctx.setTransform(T,0,0,-x,0,E*x),ba(this.ctx)}else ba(this.ctx),this.ctx.rect(o[0],o[1],y,E),this.ctx.clip(),this.endPath()}this.current=new ia(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...u),this.transform(...p)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(i){if(!this.contentVisible)return;const o=i.count;(i=this.getObject(i.data,i)).count=o;const u=this.ctx,p=this.processingType3;if(p&&(void 0===p.compiled&&(p.compiled=function Ao(C){const{width:i,height:o}=C;if(i>1e3||o>1e3)return null;const p=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),g=i+1;let E,T,x,y=new Uint8Array(g*(o+1));const N=i+7&-8;let B=new Uint8Array(N*o),Y=0;for(const Te of C.data){let nt=128;for(;nt>0;)B[Y++]=Te&nt?0:255,nt>>=1}let se=0;for(Y=0,0!==B[Y]&&(y[0]=1,++se),T=1;T<i;T++)B[Y]!==B[Y+1]&&(y[T]=B[Y]?2:1,++se),Y++;for(0!==B[Y]&&(y[T]=2,++se),E=1;E<o;E++){Y=E*N,x=E*g,B[Y-N]!==B[Y]&&(y[x]=B[Y]?1:8,++se);let Te=(B[Y]?4:0)+(B[Y-N]?8:0);for(T=1;T<i;T++)Te=(Te>>2)+(B[Y+1]?4:0)+(B[Y-N+1]?8:0),p[Te]&&(y[x+T]=p[Te],++se),Y++;if(B[Y-N]!==B[Y]&&(y[x+T]=B[Y]?2:4,++se),se>1e3)return null}for(Y=N*(o-1),x=E*g,0!==B[Y]&&(y[x]=8,++se),T=1;T<i;T++)B[Y]!==B[Y+1]&&(y[x+T]=B[Y]?4:8,++se),Y++;if(0!==B[Y]&&(y[x+T]=4,++se),se>1e3)return null;const le=new Int32Array([0,g,-1,0,-g,0,0,0,1]),me=new Path2D;for(E=0;se&&E<=o;E++){let Te=E*g;const nt=Te+i;for(;Te<nt&&!y[Te];)Te++;if(Te===nt)continue;me.moveTo(Te%g,E);const ht=Te;let dt=y[Te];do{const At=le[dt];do{Te+=At}while(!y[Te]);const Et=y[Te];5!==Et&&10!==Et?(dt=Et,y[Te]=0):(dt=Et&51*dt>>4,y[Te]&=dt>>2|dt<<2),me.lineTo(Te%g,Te/g|0),y[Te]||--se}while(ht!==Te);--E}return B=null,y=null,function(Te){Te.save(),Te.scale(1/i,-1/o),Te.translate(0,-o),Te.fill(me),Te.beginPath(),Te.restore()}}(i)),p.compiled))return void p.compiled(u);const g=this._createMaskCanvas(i),y=g.canvas;u.save(),u.setTransform(1,0,0,1,0,0),u.drawImage(y,g.offsetX,g.offsetY),u.restore(),this.compose()}paintImageMaskXObjectRepeat(i,o,u=0,p=0,g,y){if(!this.contentVisible)return;i=this.getObject(i.data,i);const E=this.ctx;E.save();const T=Ae(E);E.transform(o,u,p,g,0,0);const x=this._createMaskCanvas(i);E.setTransform(1,0,0,1,x.offsetX-T[4],x.offsetY-T[5]);for(let N=0,B=y.length;N<B;N+=2){const Y=un.transform(T,[o,u,p,g,y[N],y[N+1]]),[se,le]=un.applyTransform([0,0],Y);E.drawImage(x.canvas,se,le)}E.restore(),this.compose()}paintImageMaskXObjectGroup(i){if(!this.contentVisible)return;const o=this.ctx,u=this.current.fillColor,p=this.current.patternFill;for(const g of i){const{data:y,width:E,height:T,transform:x}=g,N=this.cachedCanvases.getCanvas("maskCanvas",E,T),B=N.context;B.save(),to(B,this.getObject(y,g)),B.globalCompositeOperation="source-in",B.fillStyle=p?u.getPattern(B,this,ot(o),"Fill"):u,B.fillRect(0,0,E,T),B.restore(),o.save(),o.transform(...x),o.scale(1,-1),wo(o,N.canvas,0,0,E,T,0,-1,1,1),o.restore()}this.compose()}paintImageXObject(i){if(!this.contentVisible)return;const o=this.getObject(i);o?this.paintInlineImageXObject(o):mn("Dependent image isn't ready yet")}paintImageXObjectRepeat(i,o,u,p){if(!this.contentVisible)return;const g=this.getObject(i);if(!g)return void mn("Dependent image isn't ready yet");const y=g.width,E=g.height,T=[];for(let x=0,N=p.length;x<N;x+=2)T.push({transform:[o,0,0,u,p[x],p[x+1]],x:0,y:0,w:y,h:E});this.paintInlineImageXObjectGroup(g,T)}applyTransferMapsToCanvas(i){return"none"!==this.current.transferMaps&&(i.filter=this.current.transferMaps,i.drawImage(i.canvas,0,0),i.filter="none"),i.canvas}applyTransferMapsToBitmap(i){if("none"===this.current.transferMaps)return i.bitmap;const{bitmap:o,width:u,height:p}=i,g=this.cachedCanvases.getCanvas("inlineImage",u,p),y=g.context;return y.filter=this.current.transferMaps,y.drawImage(o,0,0),y.filter="none",g.canvas}paintInlineImageXObject(i){if(!this.contentVisible)return;const o=i.width,u=i.height,p=this.ctx;if(this.save(),!De){const{filter:E}=p;"none"!==E&&""!==E&&(p.filter="none")}let g;if(p.scale(1/o,-1/u),i.bitmap)g=this.applyTransferMapsToBitmap(i);else if("function"==typeof HTMLElement&&i instanceof HTMLElement||!i.data)g=i;else{const T=this.cachedCanvases.getCanvas("inlineImage",o,u).context;ol(T,i),g=this.applyTransferMapsToCanvas(T)}const y=this._scaleImage(g,ot(p));p.imageSmoothingEnabled=al(Ae(p),i.interpolate),wo(p,y.img,0,0,y.paintWidth,y.paintHeight,0,-u,o,u),this.compose(),this.restore()}paintInlineImageXObjectGroup(i,o){if(!this.contentVisible)return;const u=this.ctx;let p;if(i.bitmap)p=i.bitmap;else{const T=this.cachedCanvases.getCanvas("inlineImage",i.width,i.height).context;ol(T,i),p=this.applyTransferMapsToCanvas(T)}for(const g of o)u.save(),u.transform(...g.transform),u.scale(1,-1),wo(u,p,g.x,g.y,g.w,g.h,0,-1,1,1),u.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(i){}markPointProps(i,o){}beginMarkedContent(i){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(i,o){this.markedContentStack.push("OC"===i?{visible:this.optionalContentConfig.isVisible(o)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(i){const o=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(i);const u=this.ctx;this.pendingClip&&(o||(this.pendingClip===Uo?u.clip("evenodd"):u.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),u.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const i=Ae(this.ctx);if(0===i[1]&&0===i[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(i[0]),Math.abs(i[3]));else{const o=Math.abs(i[0]*i[3]-i[2]*i[1]),u=Math.hypot(i[0],i[2]),p=Math.hypot(i[1],i[3]);this._cachedGetSinglePixelWidth=Math.max(u,p)/o}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(-1===this._cachedScaleForStroking[0]){const{lineWidth:i}=this.current,{a:o,b:u,c:p,d:g}=this.ctx.getTransform();let y,E;if(0===u&&0===p){const T=Math.abs(o),x=Math.abs(g);if(T===x)if(0===i)y=E=1/T;else{const N=T*i;y=E=N<1?1/N:1}else if(0===i)y=1/T,E=1/x;else{const N=T*i,B=x*i;y=N<1?1/N:1,E=B<1?1/B:1}}else{const T=Math.abs(o*g-u*p),x=Math.hypot(o,u),N=Math.hypot(p,g);if(0===i)y=N/T,E=x/T;else{const B=i*T;y=N>B?N/B:1,E=x>B?x/B:1}}this._cachedScaleForStroking[0]=y,this._cachedScaleForStroking[1]=E}return this._cachedScaleForStroking}rescaleAndStroke(i){const{ctx:o}=this,{lineWidth:u}=this.current,[p,g]=this.getScaleForStroking();if(o.lineWidth=u||1,1===p&&1===g)return void o.stroke();const y=o.getLineDash();if(i&&o.save(),o.scale(p,g),y.length>0){const E=Math.max(p,g);o.setLineDash(y.map(T=>T/E)),o.lineDashOffset/=E}o.stroke(),i&&o.restore()}isContentVisible(){for(let i=this.markedContentStack.length-1;i>=0;i--)if(!this.markedContentStack[i].visible)return!1;return!0}}for(const C in _t)void 0!==Ha.prototype[C]&&(Ha.prototype[_t[C]]=Ha.prototype[C]);class ra{static#e=null;static#t="";static get workerPort(){return this.#e}static set workerPort(i){if(!(typeof Worker<"u"&&i instanceof Worker)&&null!==i)throw new Error("Invalid `workerPort` type.");this.#e=i}static get workerSrc(){return this.#t}static set workerSrc(i){if("string"!=typeof i)throw new Error("Invalid `workerSrc` type.");this.#t=i}}function kr(C){switch(C instanceof Error||"object"==typeof C&&null!==C||Zt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),C.name){case"AbortException":return new An(C.message);case"MissingPDFException":return new us(C.message);case"PasswordException":return new ki(C.message,C.code);case"UnexpectedResponseException":return new ds(C.message,C.status);case"UnknownErrorException":return new Or(C.message,C.details);default:return new Or(C.message,C.toString())}}class wa{constructor(i,o,u){this.sourceName=i,this.targetName=o,this.comObj=u,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=p=>{const g=p.data;if(g.targetName!==this.sourceName)return;if(g.stream)return void this.#t(g);if(g.callback){const E=g.callbackId,T=this.callbackCapabilities[E];if(!T)throw new Error(`Cannot resolve callback ${E}`);if(delete this.callbackCapabilities[E],1===g.callback)T.resolve(g.data);else{if(2!==g.callback)throw new Error("Unexpected callback case");T.reject(kr(g.reason))}return}const y=this.actionHandler[g.action];if(!y)throw new Error(`Unknown action from worker: ${g.action}`);if(g.callbackId){const E=this.sourceName,T=g.sourceName;new Promise(function(x){x(y(g.data))}).then(function(x){u.postMessage({sourceName:E,targetName:T,callback:1,callbackId:g.callbackId,data:x})},function(x){u.postMessage({sourceName:E,targetName:T,callback:2,callbackId:g.callbackId,reason:kr(x)})})}else g.streamId?this.#e(g):y(g.data)},u.addEventListener("message",this._onComObjOnMessage)}on(i,o){const u=this.actionHandler;if(u[i])throw new Error(`There is already an actionName called "${i}"`);u[i]=o}send(i,o,u){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:i,data:o},u)}sendWithPromise(i,o,u){const p=this.callbackId++,g=Promise.withResolvers();this.callbackCapabilities[p]=g;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:i,callbackId:p,data:o},u)}catch(y){g.reject(y)}return g.promise}sendWithStream(i,o,u,p){const g=this.streamId++,y=this.sourceName,E=this.targetName,T=this.comObj;return new ReadableStream({start:x=>{const N=Promise.withResolvers();return this.streamControllers[g]={controller:x,startCall:N,pullCall:null,cancelCall:null,isClosed:!1},T.postMessage({sourceName:y,targetName:E,action:i,streamId:g,data:o,desiredSize:x.desiredSize},p),N.promise},pull:x=>{const N=Promise.withResolvers();return this.streamControllers[g].pullCall=N,T.postMessage({sourceName:y,targetName:E,stream:6,streamId:g,desiredSize:x.desiredSize}),N.promise},cancel:x=>{Ln(x instanceof Error,"cancel must have a valid reason");const N=Promise.withResolvers();return this.streamControllers[g].cancelCall=N,this.streamControllers[g].isClosed=!0,T.postMessage({sourceName:y,targetName:E,stream:1,streamId:g,reason:kr(x)}),N.promise}},u)}#e(i){const o=i.streamId,u=this.sourceName,p=i.sourceName,g=this.comObj,y=this,E=this.actionHandler[i.action],T={enqueue(x,N=1,B){if(this.isCancelled)return;const Y=this.desiredSize;this.desiredSize-=N,Y>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),g.postMessage({sourceName:u,targetName:p,stream:4,streamId:o,chunk:x},B)},close(){this.isCancelled||(this.isCancelled=!0,g.postMessage({sourceName:u,targetName:p,stream:3,streamId:o}),delete y.streamSinks[o])},error(x){Ln(x instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,g.postMessage({sourceName:u,targetName:p,stream:5,streamId:o,reason:kr(x)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:i.desiredSize,ready:null};T.sinkCapability.resolve(),T.ready=T.sinkCapability.promise,this.streamSinks[o]=T,new Promise(function(x){x(E(i.data,T))}).then(function(){g.postMessage({sourceName:u,targetName:p,stream:8,streamId:o,success:!0})},function(x){g.postMessage({sourceName:u,targetName:p,stream:8,streamId:o,reason:kr(x)})})}#t(i){const o=i.streamId,u=this.sourceName,p=i.sourceName,g=this.comObj,y=this.streamControllers[o],E=this.streamSinks[o];switch(i.stream){case 8:i.success?y.startCall.resolve():y.startCall.reject(kr(i.reason));break;case 7:i.success?y.pullCall.resolve():y.pullCall.reject(kr(i.reason));break;case 6:if(!E){g.postMessage({sourceName:u,targetName:p,stream:7,streamId:o,success:!0});break}E.desiredSize<=0&&i.desiredSize>0&&E.sinkCapability.resolve(),E.desiredSize=i.desiredSize,new Promise(function(T){T(E.onPull?.())}).then(function(){g.postMessage({sourceName:u,targetName:p,stream:7,streamId:o,success:!0})},function(T){g.postMessage({sourceName:u,targetName:p,stream:7,streamId:o,reason:kr(T)})});break;case 4:if(Ln(y,"enqueue should have stream controller"),y.isClosed)break;y.controller.enqueue(i.chunk);break;case 3:if(Ln(y,"close should have stream controller"),y.isClosed)break;y.isClosed=!0,y.controller.close(),this.#n(y,o);break;case 5:Ln(y,"error should have stream controller"),y.controller.error(kr(i.reason)),this.#n(y,o);break;case 2:i.success?y.cancelCall.resolve():y.cancelCall.reject(kr(i.reason)),this.#n(y,o);break;case 1:if(!E)break;new Promise(function(T){T(E.onCancel?.(kr(i.reason)))}).then(function(){g.postMessage({sourceName:u,targetName:p,stream:2,streamId:o,success:!0})},function(T){g.postMessage({sourceName:u,targetName:p,stream:2,streamId:o,reason:kr(T)})}),E.sinkCapability.reject(kr(i.reason)),E.isCancelled=!0,delete this.streamSinks[o];break;default:throw new Error("Unexpected stream case")}}#n(i,o){var u=this;return(0,ae.Z)(function*(){yield Promise.allSettled([i.startCall?.promise,i.pullCall?.promise,i.cancelCall?.promise]),delete u.streamControllers[o]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}class ll{#e;#t;constructor({parsedData:i,rawData:o}){this.#e=i,this.#t=o}getRaw(){return this.#t}get(i){return this.#e.get(i)??null}getAll(){return ma(this.#e)}has(i){return this.#e.has(i)}}const no=Symbol("INTERNAL");class Us{#e=!1;#t=!1;#n=!1;#i=!0;constructor(i,{name:o,intent:u,usage:p}){this.#e=!!(2&i),this.#t=!!(4&i),this.name=o,this.intent=u,this.usage=p}get visible(){if(this.#n)return this.#i;if(!this.#i)return!1;const{print:i,view:o}=this.usage;return this.#e?"OFF"!==o?.viewState:!this.#t||"OFF"!==i?.printState}_setVisible(i,o,u=!1){i!==no&&Zt("Internal method `_setVisible` called."),this.#n=u,this.#i=o}}class xu{#e=null;#t=new Map;#n=null;#i=null;constructor(i,o=2){if(this.renderingIntent=o,this.name=null,this.creator=null,null!==i){this.name=i.name,this.creator=i.creator,this.#i=i.order;for(const u of i.groups)this.#t.set(u.id,new Us(o,u));if("OFF"===i.baseState)for(const u of this.#t.values())u._setVisible(no,!1);for(const u of i.on)this.#t.get(u)._setVisible(no,!0);for(const u of i.off)this.#t.get(u)._setVisible(no,!1);this.#n=this.getHash()}}#r(i){const o=i.length;if(o<2)return!0;const u=i[0];for(let p=1;p<o;p++){const g=i[p];let y;if(Array.isArray(g))y=this.#r(g);else{if(!this.#t.has(g))return mn(`Optional content group not found: ${g}`),!0;y=this.#t.get(g).visible}switch(u){case"And":if(!y)return!1;break;case"Or":if(y)return!0;break;case"Not":return!y;default:return!0}}return"And"===u}isVisible(i){if(0===this.#t.size)return!0;if(!i)return Un("Optional content group not defined."),!0;if("OCG"===i.type)return this.#t.has(i.id)?this.#t.get(i.id).visible:(mn(`Optional content group not found: ${i.id}`),!0);if("OCMD"===i.type){if(i.expression)return this.#r(i.expression);if(!i.policy||"AnyOn"===i.policy){for(const o of i.ids){if(!this.#t.has(o))return mn(`Optional content group not found: ${o}`),!0;if(this.#t.get(o).visible)return!0}return!1}if("AllOn"===i.policy){for(const o of i.ids){if(!this.#t.has(o))return mn(`Optional content group not found: ${o}`),!0;if(!this.#t.get(o).visible)return!1}return!0}if("AnyOff"===i.policy){for(const o of i.ids){if(!this.#t.has(o))return mn(`Optional content group not found: ${o}`),!0;if(!this.#t.get(o).visible)return!0}return!1}if("AllOff"===i.policy){for(const o of i.ids){if(!this.#t.has(o))return mn(`Optional content group not found: ${o}`),!0;if(this.#t.get(o).visible)return!1}return!0}return mn(`Unknown optional content policy ${i.policy}.`),!0}return mn(`Unknown group type ${i.type}.`),!0}setVisibility(i,o=!0){const u=this.#t.get(i);u?(u._setVisible(no,!!o,!0),this.#e=null):mn(`Optional content group not found: ${i}`)}setOCGState({state:i}){let u;for(const p of i){switch(p){case"ON":case"OFF":case"Toggle":u=p;continue}const g=this.#t.get(p);if(g)switch(u){case"ON":g._setVisible(no,!0);break;case"OFF":g._setVisible(no,!1);break;case"Toggle":g._setVisible(no,!g.visible)}}this.#e=null}get hasInitialVisibility(){return null===this.#n||this.getHash()===this.#n}getOrder(){return this.#t.size?this.#i?this.#i.slice():[...this.#t.keys()]:null}getGroups(){return this.#t.size>0?ma(this.#t):null}getGroup(i){return this.#t.get(i)||null}getHash(){if(null!==this.#e)return this.#e;const i=new Xo;for(const[o,u]of this.#t)i.update(`${o}:${u.visible}`);return this.#e=i.hexdigest()}}class cl{constructor(i,{disableRange:o=!1,disableStream:u=!1}){Ln(i,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:p,initialData:g,progressiveDone:y,contentDispositionFilename:E}=i;if(this._queuedChunks=[],this._progressiveDone=y,this._contentDispositionFilename=E,g?.length>0){const T=g instanceof Uint8Array&&g.byteLength===g.buffer.byteLength?g.buffer:new Uint8Array(g).buffer;this._queuedChunks.push(T)}this._pdfDataRangeTransport=i,this._isStreamingSupported=!u,this._isRangeSupported=!o,this._contentLength=p,this._fullRequestReader=null,this._rangeReaders=[],i.addRangeListener((T,x)=>{this._onReceiveData({begin:T,chunk:x})}),i.addProgressListener((T,x)=>{this._onProgress({loaded:T,total:x})}),i.addProgressiveReadListener(T=>{this._onReceiveData({chunk:T})}),i.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),i.transportReady()}_onReceiveData({begin:i,chunk:o}){const u=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;void 0===i?this._fullRequestReader?this._fullRequestReader._enqueue(u):this._queuedChunks.push(u):Ln(this._rangeReaders.some(function(g){return g._begin===i&&(g._enqueue(u),!0)}),"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(i){void 0===i.total?this._rangeReaders[0]?.onProgress?.({loaded:i.loaded}):this._fullRequestReader?.onProgress?.({loaded:i.loaded,total:i.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(i){const o=this._rangeReaders.indexOf(i);o>=0&&this._rangeReaders.splice(o,1)}getFullReader(){Ln(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const i=this._queuedChunks;return this._queuedChunks=null,new Ru(this,i,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(i,o){if(o<=this._progressiveDataLength)return null;const u=new sc(this,i,o);return this._pdfDataRangeTransport.requestDataRange(i,o),this._rangeReaders.push(u),u}cancelAllRequests(i){this._fullRequestReader?.cancel(i);for(const o of this._rangeReaders.slice(0))o.cancel(i);this._pdfDataRangeTransport.abort()}}class Ru{constructor(i,o,u=!1,p=null){this._stream=i,this._done=u||!1,this._filename=_o(p)?p:null,this._queuedChunks=o||[],this._loaded=0;for(const g of this._queuedChunks)this._loaded+=g.byteLength;this._requests=[],this._headersReady=Promise.resolve(),i._fullRequestReader=this,this.onProgress=null}_enqueue(i){this._done||(this._requests.length>0?this._requests.shift().resolve({value:i,done:!1}):this._queuedChunks.push(i),this._loaded+=i.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var i=this;return(0,ae.Z)(function*(){if(i._queuedChunks.length>0)return{value:i._queuedChunks.shift(),done:!1};if(i._done)return{value:void 0,done:!0};const o=Promise.withResolvers();return i._requests.push(o),o.promise})()}cancel(i){this._done=!0;for(const o of this._requests)o.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class sc{constructor(i,o,u){this._stream=i,this._begin=o,this._end=u,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(i){if(!this._done){if(0===this._requests.length)this._queuedChunk=i;else{this._requests.shift().resolve({value:i,done:!1});for(const u of this._requests)u.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var i=this;return(0,ae.Z)(function*(){if(i._queuedChunk){const u=i._queuedChunk;return i._queuedChunk=null,{value:u,done:!1}}if(i._done)return{value:void 0,done:!0};const o=Promise.withResolvers();return i._requests.push(o),o.promise})()}cancel(i){this._done=!0;for(const o of this._requests)o.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function dl({getResponseHeader:C,isHttp:i,rangeChunkSize:o,disableRange:u}){const p={allowRangeRequests:!1,suggestedLength:void 0},g=parseInt(C("Content-Length"),10);return!Number.isInteger(g)||(p.suggestedLength=g,g<=2*o)||u||!i||"bytes"!==C("Accept-Ranges")||"identity"!==(C("Content-Encoding")||"identity")||(p.allowRangeRequests=!0),p}function Wn(C){const i=C("Content-Disposition");if(i){let o=function ul(C){let i=!0,o=u("filename\\*","i").exec(C);if(o){o=o[1];let N=E(o);return N=unescape(N),N=T(N),N=x(N),g(N)}if(o=function y(N){const B=[];let Y;const se=u("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(Y=se.exec(N));){let[,me,Fe,Te]=Y;if(me=parseInt(me,10),me in B){if(0===me)break}else B[me]=[Fe,Te]}const le=[];for(let me=0;me<B.length&&me in B;++me){let[Fe,Te]=B[me];Te=E(Te),Fe&&(Te=unescape(Te),0===me&&(Te=T(Te))),le.push(Te)}return le.join("")}(C),o)return g(x(o));if(o=u("filename","i").exec(C),o){o=o[1];let N=E(o);return N=x(N),g(N)}function u(N,B){return new RegExp("(?:^|;)\\s*"+N+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',B)}function p(N,B){if(N){if(!/^[\x00-\xFF]+$/.test(B))return B;try{const Y=new TextDecoder(N,{fatal:!0}),se=si(B);B=Y.decode(se),i=!1}catch{}}return B}function g(N){return i&&/[\x80-\xff]/.test(N)&&(N=p("utf-8",N),i&&(N=p("iso-8859-1",N))),N}function E(N){if(N.startsWith('"')){const B=N.slice(1).split('\\"');for(let Y=0;Y<B.length;++Y){const se=B[Y].indexOf('"');-1!==se&&(B[Y]=B[Y].slice(0,se),B.length=Y+1),B[Y]=B[Y].replaceAll(/\\(.)/g,"$1")}N=B.join('"')}return N}function T(N){const B=N.indexOf("'");return-1===B?N:p(N.slice(0,B),N.slice(B+1).replace(/^[^']*'/,""))}function x(N){return!N.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(N)?N:N.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(B,Y,se,le){if("q"===se||"Q"===se)return p(Y,le=(le=le.replaceAll("_"," ")).replaceAll(/=([0-9a-fA-F]{2})/g,function(me,Fe){return String.fromCharCode(parseInt(Fe,16))}));try{le=atob(le)}catch{}return p(Y,le)})}return""}(i);if(o.includes("%"))try{o=decodeURIComponent(o)}catch{}if(_o(o))return o}return null}function Gi(C,i){return 404===C||0===C&&i.startsWith("file:")?new us('Missing PDF "'+i+'".'):new ds(`Unexpected server response (${C}) while retrieving PDF "${i}".`,C)}function Pr(C){return 200===C||206===C}function Gr(C,i,o){return{method:"GET",headers:C,signal:o.signal,mode:"cors",credentials:i?"include":"same-origin",redirect:"follow"}}function hr(C){const i=new Headers;for(const o in C){const u=C[o];void 0!==u&&i.append(o,u)}return i}function oc(C){return C instanceof Uint8Array?C.buffer:C instanceof ArrayBuffer?C:(mn(`getArrayBuffer - unexpected data format: ${C}`),new Uint8Array(C).buffer)}class ac{constructor(i){this.source=i,this.isHttp=/^https?:/i.test(i.url),this.httpHeaders=this.isHttp&&i.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Ln(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new sa(this),this._fullRequestReader}getRangeReader(i,o){if(o<=this._progressiveDataLength)return null;const u=new K(this,i,o);return this._rangeRequestReaders.push(u),u}cancelAllRequests(i){this._fullRequestReader?.cancel(i);for(const o of this._rangeRequestReaders.slice(0))o.cancel(i)}}class sa{constructor(i){this._stream=i,this._reader=null,this._loaded=0,this._filename=null;const o=i.source;this._withCredentials=o.withCredentials||!1,this._contentLength=o.length,this._headersCapability=Promise.withResolvers(),this._disableRange=o.disableRange||!1,this._rangeChunkSize=o.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!o.disableStream,this._isRangeSupported=!o.disableRange,this._headers=hr(this._stream.httpHeaders);const u=o.url;fetch(u,Gr(this._headers,this._withCredentials,this._abortController)).then(p=>{if(!Pr(p.status))throw Gi(p.status,u);this._reader=p.body.getReader(),this._headersCapability.resolve();const g=T=>p.headers.get(T),{allowRangeRequests:y,suggestedLength:E}=dl({getResponseHeader:g,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=y,this._contentLength=E||this._contentLength,this._filename=Wn(g),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new An("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var i=this;return(0,ae.Z)(function*(){yield i._headersCapability.promise;const{value:o,done:u}=yield i._reader.read();return u?{value:o,done:u}:(i._loaded+=o.byteLength,i.onProgress?.({loaded:i._loaded,total:i._contentLength}),{value:oc(o),done:!1})})()}cancel(i){this._reader?.cancel(i),this._abortController.abort()}}class K{constructor(i,o,u){this._stream=i,this._reader=null,this._loaded=0;const p=i.source;this._withCredentials=p.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!p.disableStream,this._abortController=new AbortController,this._headers=hr(this._stream.httpHeaders),this._headers.append("Range",`bytes=${o}-${u-1}`);const g=p.url;fetch(g,Gr(this._headers,this._withCredentials,this._abortController)).then(y=>{if(!Pr(y.status))throw Gi(y.status,g);this._readCapability.resolve(),this._reader=y.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var i=this;return(0,ae.Z)(function*(){yield i._readCapability.promise;const{value:o,done:u}=yield i._reader.read();return u?{value:o,done:u}:(i._loaded+=o.byteLength,i.onProgress?.({loaded:i._loaded}),{value:oc(o),done:!1})})()}cancel(i){this._reader?.cancel(i),this._abortController.abort()}}class _e{constructor(i,o={}){this.url=i,this.isHttp=/^https?:/i.test(i),this.httpHeaders=this.isHttp&&o.httpHeaders||Object.create(null),this.withCredentials=o.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(i,o,u){const p={begin:i,end:o};for(const g in u)p[g]=u[g];return this.request(p)}requestFull(i){return this.request(i)}request(i){const o=new XMLHttpRequest,u=this.currXhrId++,p=this.pendingRequests[u]={xhr:o};o.open("GET",this.url),o.withCredentials=this.withCredentials;for(const g in this.httpHeaders){const y=this.httpHeaders[g];void 0!==y&&o.setRequestHeader(g,y)}return this.isHttp&&"begin"in i&&"end"in i?(o.setRequestHeader("Range",`bytes=${i.begin}-${i.end-1}`),p.expectedStatus=206):p.expectedStatus=200,o.responseType="arraybuffer",i.onError&&(o.onerror=function(g){i.onError(o.status)}),o.onreadystatechange=this.onStateChange.bind(this,u),o.onprogress=this.onProgress.bind(this,u),p.onHeadersReceived=i.onHeadersReceived,p.onDone=i.onDone,p.onError=i.onError,p.onProgress=i.onProgress,o.send(null),u}onProgress(i,o){const u=this.pendingRequests[i];u&&u.onProgress?.(o)}onStateChange(i,o){const u=this.pendingRequests[i];if(!u)return;const p=u.xhr;if(p.readyState>=2&&u.onHeadersReceived&&(u.onHeadersReceived(),delete u.onHeadersReceived),4!==p.readyState||!(i in this.pendingRequests))return;if(delete this.pendingRequests[i],0===p.status&&this.isHttp)return void u.onError?.(p.status);const g=p.status||200;if((200!==g||206!==u.expectedStatus)&&g!==u.expectedStatus)return void u.onError?.(p.status);const E=function J(C){const i=C.response;return"string"!=typeof i?i:si(i).buffer}(p);if(206===g){const T=p.getResponseHeader("Content-Range"),x=/bytes (\d+)-(\d+)\/(\d+)/.exec(T);u.onDone({begin:parseInt(x[1],10),chunk:E})}else E?u.onDone({begin:0,chunk:E}):u.onError?.(p.status)}getRequestXhr(i){return this.pendingRequests[i].xhr}isPendingRequest(i){return i in this.pendingRequests}abortRequest(i){const o=this.pendingRequests[i].xhr;delete this.pendingRequests[i],o.abort()}}class Rt{constructor(i){this._source=i,this._manager=new _e(i.url,{httpHeaders:i.httpHeaders,withCredentials:i.withCredentials}),this._rangeChunkSize=i.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(i){const o=this._rangeRequestReaders.indexOf(i);o>=0&&this._rangeRequestReaders.splice(o,1)}getFullReader(){return Ln(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new kn(this._manager,this._source),this._fullRequestReader}getRangeReader(i,o){const u=new Yi(this._manager,i,o);return u.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(u),u}cancelAllRequests(i){this._fullRequestReader?.cancel(i);for(const o of this._rangeRequestReaders.slice(0))o.cancel(i)}}class kn{constructor(i,o){this._manager=i;const u={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=o.url,this._fullRequestId=i.requestFull(u),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=o.disableRange||!1,this._contentLength=o.length,this._rangeChunkSize=o.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const i=this._fullRequestId,o=this._manager.getRequestXhr(i),u=y=>o.getResponseHeader(y),{allowRangeRequests:p,suggestedLength:g}=dl({getResponseHeader:u,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});p&&(this._isRangeSupported=!0),this._contentLength=g||this._contentLength,this._filename=Wn(u),this._isRangeSupported&&this._manager.abortRequest(i),this._headersReceivedCapability.resolve()}_onDone(i){if(i&&(this._requests.length>0?this._requests.shift().resolve({value:i.chunk,done:!1}):this._cachedChunks.push(i.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const o of this._requests)o.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(i){this._storedError=Gi(i,this._url),this._headersReceivedCapability.reject(this._storedError);for(const o of this._requests)o.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(i){this.onProgress?.({loaded:i.loaded,total:i.lengthComputable?i.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var i=this;return(0,ae.Z)(function*(){if(i._storedError)throw i._storedError;if(i._cachedChunks.length>0)return{value:i._cachedChunks.shift(),done:!1};if(i._done)return{value:void 0,done:!0};const o=Promise.withResolvers();return i._requests.push(o),o.promise})()}cancel(i){this._done=!0,this._headersReceivedCapability.reject(i);for(const o of this._requests)o.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Yi{constructor(i,o,u){this._manager=i;const p={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=i.url,this._requestId=i.requestRange(o,u,p),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(i){const o=i.chunk;this._requests.length>0?this._requests.shift().resolve({value:o,done:!1}):this._queuedChunk=o,this._done=!0;for(const u of this._requests)u.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(i){this._storedError=Gi(i,this._url);for(const o of this._requests)o.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(i){this.isStreamingSupported||this.onProgress?.({loaded:i.loaded})}get isStreamingSupported(){return!1}read(){var i=this;return(0,ae.Z)(function*(){if(i._storedError)throw i._storedError;if(null!==i._queuedChunk){const u=i._queuedChunk;return i._queuedChunk=null,{value:u,done:!1}}if(i._done)return{value:void 0,done:!0};const o=Promise.withResolvers();return i._requests.push(o),o.promise})()}cancel(i){this._done=!0;for(const o of this._requests)o.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const Wr=/^[a-z][a-z0-9\-+.]+:/i;function xi(C,i,o){return"http:"===C.protocol?dr.get("http").request(C,{headers:i},o):dr.get("https").request(C,{headers:i},o)}class fr{constructor(i){this.source=i,this.url=function jo(C){if(Wr.test(C))return new URL(C);const i=dr.get("url");return new URL(i.pathToFileURL(C))}(i.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&i.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Ln(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new os(this):new Rl(this),this._fullRequestReader}getRangeReader(i,o){if(o<=this._progressiveDataLength)return null;const u=this.isFsUrl?new Ri(this,i,o):new Ou(this,i,o);return this._rangeRequestReaders.push(u),u}cancelAllRequests(i){this._fullRequestReader?.cancel(i);for(const o of this._rangeRequestReaders.slice(0))o.cancel(i)}}class hl{constructor(i){this._url=i.url,this._done=!1,this._storedError=null,this.onProgress=null;const o=i.source;this._contentLength=o.length,this._loaded=0,this._filename=null,this._disableRange=o.disableRange||!1,this._rangeChunkSize=o.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!o.disableStream,this._isRangeSupported=!o.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var i=this;return(0,ae.Z)(function*(){if(yield i._readCapability.promise,i._done)return{value:void 0,done:!0};if(i._storedError)throw i._storedError;const o=i._readableStream.read();return null===o?(i._readCapability=Promise.withResolvers(),i.read()):(i._loaded+=o.length,i.onProgress?.({loaded:i._loaded,total:i._contentLength}),{value:new Uint8Array(o).buffer,done:!1})})()}cancel(i){this._readableStream?this._readableStream.destroy(i):this._error(i)}_error(i){this._storedError=i,this._readCapability.resolve()}_setReadableStream(i){this._readableStream=i,i.on("readable",()=>{this._readCapability.resolve()}),i.on("end",()=>{i.destroy(),this._done=!0,this._readCapability.resolve()}),i.on("error",o=>{this._error(o)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new An("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Hn{constructor(i){this._url=i.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var i=this;return(0,ae.Z)(function*(){if(yield i._readCapability.promise,i._done)return{value:void 0,done:!0};if(i._storedError)throw i._storedError;const o=i._readableStream.read();return null===o?(i._readCapability=Promise.withResolvers(),i.read()):(i._loaded+=o.length,i.onProgress?.({loaded:i._loaded}),{value:new Uint8Array(o).buffer,done:!1})})()}cancel(i){this._readableStream?this._readableStream.destroy(i):this._error(i)}_error(i){this._storedError=i,this._readCapability.resolve()}_setReadableStream(i){this._readableStream=i,i.on("readable",()=>{this._readCapability.resolve()}),i.on("end",()=>{i.destroy(),this._done=!0,this._readCapability.resolve()}),i.on("error",o=>{this._error(o)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class Rl extends hl{constructor(i){super(i),this._request=xi(this._url,i.httpHeaders,u=>{if(404===u.statusCode){const E=new us(`Missing PDF "${this._url}".`);return this._storedError=E,void this._headersCapability.reject(E)}this._headersCapability.resolve(),this._setReadableStream(u);const p=E=>this._readableStream.headers[E.toLowerCase()],{allowRangeRequests:g,suggestedLength:y}=dl({getResponseHeader:p,isHttp:i.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=g,this._contentLength=y||this._contentLength,this._filename=Wn(p)}),this._request.on("error",u=>{this._storedError=u,this._headersCapability.reject(u)}),this._request.end()}}class Ou extends Hn{constructor(i,o,u){super(i),this._httpHeaders={};for(const g in i.httpHeaders){const y=i.httpHeaders[g];void 0!==y&&(this._httpHeaders[g]=y)}this._httpHeaders.Range=`bytes=${o}-${u-1}`,this._request=xi(this._url,this._httpHeaders,g=>{if(404!==g.statusCode)this._setReadableStream(g);else{const y=new us(`Missing PDF "${this._url}".`);this._storedError=y}}),this._request.on("error",g=>{this._storedError=g}),this._request.end()}}class os extends hl{constructor(i){super(i);const o=dr.get("fs");o.promises.lstat(this._url).then(u=>{this._contentLength=u.size,this._setReadableStream(o.createReadStream(this._url)),this._headersCapability.resolve()},u=>{"ENOENT"===u.code&&(u=new us(`Missing PDF "${this._url}".`)),this._storedError=u,this._headersCapability.reject(u)})}}class Ri extends Hn{constructor(i,o,u){super(i);const p=dr.get("fs");this._setReadableStream(p.createReadStream(this._url,{start:o,end:u-1}))}}class pr{#e=Promise.withResolvers();#t=null;#n=!1;#i=!!globalThis.FontInspector?.enabled;#r=null;#s=null;#a=0;#l=0;#d=null;#c=null;#u=0;#o=0;#h=Object.create(null);#p=[];#f=null;#g=[];#_=new WeakMap;#m=null;static#y=new Map;static#E=new Map;static#w=null;static#b=new Set;constructor({textContentSource:i,container:o,viewport:u}){if(i instanceof ReadableStream)this.#f=i;else{if("object"!=typeof i)throw new Error('No "textContentSource" parameter specified.');this.#f=new ReadableStream({start(T){T.enqueue(i),T.close()}})}this.#t=this.#c=o,this.#o=u.scale*(globalThis.devicePixelRatio||1),this.#u=u.rotation,this.#s={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null};const{pageWidth:p,pageHeight:g,pageX:y,pageY:E}=u.rawDims;this.#m=[1,0,0,-1,-y,E+g],this.#l=p,this.#a=g,pr.#D(),St(o,u),this.#e.promise.catch(()=>{}).then(()=>{pr.#b.delete(this),this.#s=null,this.#h=null})}render(){const i=()=>{this.#d.read().then(({value:o,done:u})=>{u?this.#e.resolve():(this.#r??=o.lang,Object.assign(this.#h,o.styles),this.#C(o.items),i())},this.#e.reject)};return this.#d=this.#f.getReader(),pr.#b.add(this),i(),this.#e.promise}update({viewport:i,onBefore:o=null}){const u=i.scale*(globalThis.devicePixelRatio||1),p=i.rotation;if(p!==this.#u&&(o?.(),this.#u=p,St(this.#c,{rotation:p})),u!==this.#o){o?.(),this.#o=u;const g={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:pr.#A(this.#r)};for(const y of this.#g)g.properties=this.#_.get(y),g.div=y,this.#S(g)}}cancel(){const i=new An("TextLayer task cancelled.");this.#d?.cancel(i).catch(()=>{}),this.#d=null,this.#e.reject(i)}get textDivs(){return this.#g}get textContentItemsStr(){return this.#p}#C(i){if(this.#n)return;this.#s.ctx??=pr.#A(this.#r);const o=this.#g,u=this.#p;for(const p of i){if(o.length>1e5)return mn("Ignoring additional textDivs for performance reasons."),void(this.#n=!0);if(void 0!==p.str)u.push(p.str),this.#M(p);else if("beginMarkedContentProps"===p.type||"beginMarkedContent"===p.type){const g=this.#t;this.#t=document.createElement("span"),this.#t.classList.add("markedContent"),null!==p.id&&this.#t.setAttribute("id",`${p.id}`),g.append(this.#t)}else"endMarkedContent"===p.type&&(this.#t=this.#t.parentNode)}}#M(i){const o=document.createElement("span"),u={angle:0,canvasWidth:0,hasText:""!==i.str,hasEOL:i.hasEOL,fontSize:0};this.#g.push(o);const p=un.transform(this.#m,i.transform);let g=Math.atan2(p[1],p[0]);const y=this.#h[i.fontName];y.vertical&&(g+=Math.PI/2);const E=this.#i&&y.fontSubstitution||y.fontFamily,T=Math.hypot(p[2],p[3]),x=T*pr.#I(E,this.#r);let N,B;0===g?(N=p[4],B=p[5]-x):(N=p[4]+x*Math.sin(g),B=p[5]-x*Math.cos(g));const Y="calc(var(--scale-factor)*",se=o.style;this.#t===this.#c?(se.left=`${(100*N/this.#l).toFixed(2)}%`,se.top=`${(100*B/this.#a).toFixed(2)}%`):(se.left=`${Y}${N.toFixed(2)}px)`,se.top=`${Y}${B.toFixed(2)}px)`),se.fontSize=`${Y}${(pr.#w*T).toFixed(2)}px)`,se.fontFamily=E,u.fontSize=T,o.setAttribute("role","presentation"),o.textContent=i.str,o.dir=i.dir,this.#i&&(o.dataset.fontName=y.fontSubstitutionLoadedName||i.fontName),0!==g&&(u.angle=g*(180/Math.PI));let le=!1;if(i.str.length>1)le=!0;else if(" "!==i.str&&i.transform[0]!==i.transform[3]){const me=Math.abs(i.transform[0]),Fe=Math.abs(i.transform[3]);me!==Fe&&Math.max(me,Fe)/Math.min(me,Fe)>1.5&&(le=!0)}if(le&&(u.canvasWidth=y.vertical?i.height:i.width),this.#_.set(o,u),this.#s.div=o,this.#s.properties=u,this.#S(this.#s),u.hasText&&this.#t.append(o),u.hasEOL){const me=document.createElement("br");me.setAttribute("role","presentation"),this.#t.append(me)}}#S(i){const{div:o,properties:u,ctx:p,prevFontSize:g,prevFontFamily:y}=i,{style:E}=o;let T="";if(pr.#w>1&&(T=`scale(${1/pr.#w})`),0!==u.canvasWidth&&u.hasText){const{fontFamily:x}=E,{canvasWidth:N,fontSize:B}=u;(g!==B||y!==x)&&(p.font=`${B*this.#o}px ${x}`,i.prevFontSize=B,i.prevFontFamily=x);const{width:Y}=p.measureText(o.textContent);Y>0&&(T=`scaleX(${N*this.#o/Y}) ${T}`)}0!==u.angle&&(T=`rotate(${u.angle}deg) ${T}`),T.length>0&&(E.transform=T)}static cleanup(){if(!(this.#b.size>0)){this.#y.clear();for(const{canvas:i}of this.#E.values())i.remove();this.#E.clear()}}static#A(i=null){let o=this.#E.get(i||="");if(!o){const u=document.createElement("canvas");u.className="hiddenCanvasElement",u.lang=i,document.body.append(u),o=u.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#E.set(i,o)}return o}static#D(){if(null!==this.#w)return;const i=document.createElement("div");i.style.opacity=0,i.style.lineHeight=1,i.style.fontSize="1px",i.style.position="absolute",i.textContent="X",document.body.append(i),this.#w=i.getBoundingClientRect().height,i.remove()}static#I(i,o){const u=this.#y.get(i);if(u)return u;const p=this.#A(o),g=p.font;p.canvas.width=p.canvas.height=30,p.font=`30px ${i}`;const y=p.measureText("");let E=y.fontBoundingBoxAscent,T=Math.abs(y.fontBoundingBoxDescent);if(E){const B=E/(E+T);return this.#y.set(i,B),p.canvas.width=p.canvas.height=0,p.font=g,B}p.strokeStyle="red",p.clearRect(0,0,30,30),p.strokeText("g",0,0);let x=p.getImageData(0,0,30,30).data;T=0;for(let B=x.length-1-3;B>=0;B-=4)if(x[B]>0){T=Math.ceil(B/4/30);break}p.clearRect(0,0,30,30),p.strokeText("A",0,30),x=p.getImageData(0,0,30,30).data,E=0;for(let B=0,Y=x.length;B<Y;B+=4)if(x[B]>0){E=30-Math.floor(B/4/30);break}p.canvas.width=p.canvas.height=0,p.font=g;const N=E?E/(E+T):.8;return this.#y.set(i,N),N}}class fl{static textContent(i){const o=[],u={items:o,styles:Object.create(null)};return function p(g){if(!g)return;let y=null;const E=g.name;if("#text"===E)y=g.value;else{if(!fl.shouldBuildText(E))return;g?.attributes?.textContent?y=g.attributes.textContent:g.value&&(y=g.value)}if(null!==y&&o.push({str:y}),g.children)for(const T of g.children)p(T)}(i),u}static shouldBuildText(i){return!("textarea"===i||"input"===i||"option"===i||"select"===i)}}const Hs=65536,qn=De?class ea extends go{_createCanvas(i,o){return dr.get("canvas").createCanvas(i,o)}}:class Wt extends go{constructor({ownerDocument:i=globalThis.document,enableHWA:o=!1}={}){super({enableHWA:o}),this._document=i}_createCanvas(i,o){const u=this._document.createElement("canvas");return u.width=i,u.height=o,u}},Nu=De?class Va extends Fo{_fetchData(i,o){return ic(i).then(u=>({cMapData:u,compressionType:o}))}}:ai,pl=De?class Fa extends Ts{}:class Tt extends Ts{#e;#t;#n;#i;#r;#s;#a=0;constructor({docId:i,ownerDocument:o=globalThis.document}={}){super(),this.#i=i,this.#r=o}get#l(){return this.#t||=new Map}get#d(){return this.#s||=new Map}get#c(){if(!this.#n){const i=this.#r.createElement("div"),{style:o}=i;o.visibility="hidden",o.contain="strict",o.width=o.height=0,o.position="absolute",o.top=o.left=0,o.zIndex=-1;const u=this.#r.createElementNS(we,"svg");u.setAttribute("width",0),u.setAttribute("height",0),this.#n=this.#r.createElementNS(we,"defs"),i.append(u),u.append(this.#n),this.#r.body.append(i)}return this.#n}#u(i){if(1===i.length){const T=i[0],x=new Array(256);for(let B=0;B<256;B++)x[B]=T[B]/255;const N=x.join(",");return[N,N,N]}const[o,u,p]=i,g=new Array(256),y=new Array(256),E=new Array(256);for(let T=0;T<256;T++)g[T]=o[T]/255,y[T]=u[T]/255,E[T]=p[T]/255;return[g.join(","),y.join(","),E.join(",")]}#o(i){if(void 0===this.#e){this.#e="";const o=this.#r.URL;o!==this.#r.baseURI&&(Vo(o)?mn('#createUrl: ignore "data:"-URL for performance reasons.'):this.#e=o.split("#",1)[0])}return`url(${this.#e}#${i})`}addFilter(i){if(!i)return"none";let o=this.#l.get(i);if(o)return o;const[u,p,g]=this.#u(i),y=1===i.length?u:`${u}${p}${g}`;if(o=this.#l.get(y),o)return this.#l.set(i,o),o;const E=`g_${this.#i}_transfer_map_${this.#a++}`,T=this.#o(E);this.#l.set(i,T),this.#l.set(y,T);const x=this.#f(E);return this.#_(u,p,g,x),T}addHCMFilter(i,o){const u=`${i}-${o}`,p="base";let g=this.#d.get(p);if(g?.key===u||(g?(g.filter?.remove(),g.key=u,g.url="none",g.filter=null):(g={key:u,url:"none",filter:null},this.#d.set(p,g)),!i||!o))return g.url;const y=this.#y(i);i=un.makeHexColor(...y);const E=this.#y(o);if(o=un.makeHexColor(...E),this.#c.style.color="","#000000"===i&&"#ffffff"===o||i===o)return g.url;const T=new Array(256);for(let se=0;se<=255;se++){const le=se/255;T[se]=le<=.03928?le/12.92:((le+.055)/1.055)**2.4}const x=T.join(","),N=`g_${this.#i}_hcm_filter`,B=g.filter=this.#f(N);this.#_(x,x,x,B),this.#p(B);const Y=(se,le)=>{const me=y[se]/255,Fe=E[se]/255,Te=new Array(le+1);for(let nt=0;nt<=le;nt++)Te[nt]=me+nt/le*(Fe-me);return Te.join(",")};return this.#_(Y(0,5),Y(1,5),Y(2,5),B),g.url=this.#o(N),g.url}addAlphaFilter(i){let o=this.#l.get(i);if(o)return o;const[u]=this.#u([i]),p=`alpha_${u}`;if(o=this.#l.get(p),o)return this.#l.set(i,o),o;const g=`g_${this.#i}_alpha_map_${this.#a++}`,y=this.#o(g);this.#l.set(i,y),this.#l.set(p,y);const E=this.#f(g);return this.#m(u,E),y}addLuminosityFilter(i){let u,p,o=this.#l.get(i||"luminosity");if(o)return o;if(i?([u]=this.#u([i]),p=`luminosity_${u}`):p="luminosity",o=this.#l.get(p),o)return this.#l.set(i,o),o;const g=`g_${this.#i}_luminosity_map_${this.#a++}`,y=this.#o(g);this.#l.set(i,y),this.#l.set(p,y);const E=this.#f(g);return this.#h(E),i&&this.#m(u,E),y}addHighlightHCMFilter(i,o,u,p,g){const y=`${o}-${u}-${p}-${g}`;let E=this.#d.get(i);if(E?.key===y||(E?(E.filter?.remove(),E.key=y,E.url="none",E.filter=null):(E={key:y,url:"none",filter:null},this.#d.set(i,E)),!o||!u))return E.url;const[T,x]=[o,u].map(this.#y.bind(this));let N=Math.round(.2126*T[0]+.7152*T[1]+.0722*T[2]),B=Math.round(.2126*x[0]+.7152*x[1]+.0722*x[2]),[Y,se]=[p,g].map(this.#y.bind(this));B<N&&([N,B,Y,se]=[B,N,se,Y]),this.#c.style.color="";const le=(Te,nt,ht)=>{const dt=new Array(256),At=(B-N)/ht,Et=Te/255,It=(nt-Te)/(255*ht);let Lt=0;for(let st=0;st<=ht;st++){const Ft=Math.round(N+st*At),hn=Et+st*It;for(let Di=Lt;Di<=Ft;Di++)dt[Di]=hn;Lt=Ft+1}for(let st=Lt;st<256;st++)dt[st]=dt[Lt-1];return dt.join(",")},me=`g_${this.#i}_hcm_${i}_filter`,Fe=E.filter=this.#f(me);return this.#p(Fe),this.#_(le(Y[0],se[0],5),le(Y[1],se[1],5),le(Y[2],se[2],5),Fe),E.url=this.#o(me),E.url}destroy(i=!1){i&&0!==this.#d.size||(this.#n&&(this.#n.parentNode.parentNode.remove(),this.#n=null),this.#t&&(this.#t.clear(),this.#t=null),this.#a=0)}#h(i){const o=this.#r.createElementNS(we,"feColorMatrix");o.setAttribute("type","matrix"),o.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),i.append(o)}#p(i){const o=this.#r.createElementNS(we,"feColorMatrix");o.setAttribute("type","matrix"),o.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),i.append(o)}#f(i){const o=this.#r.createElementNS(we,"filter");return o.setAttribute("color-interpolation-filters","sRGB"),o.setAttribute("id",i),this.#c.append(o),o}#g(i,o,u){const p=this.#r.createElementNS(we,o);p.setAttribute("type","discrete"),p.setAttribute("tableValues",u),i.append(p)}#_(i,o,u,p){const g=this.#r.createElementNS(we,"feComponentTransfer");p.append(g),this.#g(g,"feFuncR",i),this.#g(g,"feFuncG",o),this.#g(g,"feFuncB",u)}#m(i,o){const u=this.#r.createElementNS(we,"feComponentTransfer");o.append(u),this.#g(u,"feFuncA",i)}#y(i){return this.#c.style.color=i,ze(getComputedStyle(this.#c).getPropertyValue("color"))}},Ho=De?class Mu extends ct{_fetchData(i){return ic(i)}}:lr;function lc(C={}){"string"==typeof C||C instanceof URL?C={url:C}:(C instanceof ArrayBuffer||ArrayBuffer.isView(C))&&(C={data:C});const i=new Tr,{docId:o}=i,u=C.url?function cc(C){if(C instanceof URL)return C.href;try{return new URL(C,window.location).href}catch{if(De&&"string"==typeof C)return C}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}(C.url):null,p=C.data?function Wi(C){if(De&&typeof Buffer<"u"&&C instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(C instanceof Uint8Array&&C.byteLength===C.buffer.byteLength)return C;if("string"==typeof C)return si(C);if(C instanceof ArrayBuffer||ArrayBuffer.isView(C)||"object"==typeof C&&!isNaN(C?.length))return new Uint8Array(C);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}(C.data):null,g=C.httpHeaders||null,y=!0===C.withCredentials,E=C.password??null,T=C.range instanceof Lr?C.range:null,x=Number.isInteger(C.rangeChunkSize)&&C.rangeChunkSize>0?C.rangeChunkSize:Hs;let N=C.worker instanceof bi?C.worker:null;const B=C.verbosity,Y="string"!=typeof C.docBaseUrl||Vo(C.docBaseUrl)?null:C.docBaseUrl,se="string"==typeof C.cMapUrl?C.cMapUrl:null,le=!1!==C.cMapPacked,me=C.CMapReaderFactory||Nu,Fe="string"==typeof C.standardFontDataUrl?C.standardFontDataUrl:null,Te=C.StandardFontDataFactory||Ho,nt=!0!==C.stopAtErrors,ht=Number.isInteger(C.maxImageSize)&&C.maxImageSize>-1?C.maxImageSize:-1,dt=!1!==C.isEvalSupported,At="boolean"==typeof C.isOffscreenCanvasSupported?C.isOffscreenCanvasSupported:!De,Et=Number.isInteger(C.canvasMaxAreaInBytes)?C.canvasMaxAreaInBytes:-1,It="boolean"==typeof C.disableFontFace?C.disableFontFace:De,Lt=!0===C.fontExtraProperties,st=!0===C.enableXfa,Ft=C.ownerDocument||globalThis.document,hn=!0===C.disableRange,Di=!0===C.disableStream,Vi=!0===C.disableAutoFetch,Bi=!0===C.pdfBug,Vr=!0===C.enableHWA,vs=T?T.length:C.length??NaN,Qn="boolean"==typeof C.useSystemFonts?C.useSystemFonts:!De&&!It,Zn="boolean"==typeof C.useWorkerFetch?C.useWorkerFetch:me===ai&&Te===lr&&se&&Fe&&Js(se,document.baseURI)&&Js(Fe,document.baseURI),od=C.canvasFactory||new qn({ownerDocument:Ft,enableHWA:Vr}),Xa=C.filterFactory||new pl({docId:o,ownerDocument:Ft});!function zt(C){Number.isInteger(C)&&(kt=C)}(B);const qs={canvasFactory:od,filterFactory:Xa};if(Zn||(qs.cMapReaderFactory=new me({baseUrl:se,isCompressed:le}),qs.standardFontDataFactory=new Te({baseUrl:Fe})),!N){const Cl={verbosity:B,port:ra.workerPort};N=Cl.port?bi.fromPort(Cl):new bi(Cl),i._worker=N}const lo={docId:o,apiVersion:"4.6.82",data:p,password:E,disableAutoFetch:Vi,rangeChunkSize:x,length:vs,docBaseUrl:Y,enableXfa:st,evaluatorOptions:{maxImageSize:ht,disableFontFace:It,ignoreErrors:nt,isEvalSupported:dt,isOffscreenCanvasSupported:At,canvasMaxAreaInBytes:Et,fontExtraProperties:Lt,useSystemFonts:Qn,cMapUrl:Zn?se:null,standardFontDataUrl:Zn?Fe:null}},ad={disableFontFace:It,fontExtraProperties:Lt,ownerDocument:Ft,pdfBug:Bi,styleElement:null,loadingParams:{disableAutoFetch:Vi,enableXfa:st}};return N.promise.then(function(){if(i.destroyed)throw new Error("Loading aborted");if(N.destroyed)throw new Error("Worker was destroyed");const Cl=N.messageHandler.sendWithPromise("GetDocRequest",lo,p?[p.buffer]:null);let Ra;if(T)Ra=new cl(T,{disableRange:hn,disableStream:Di});else if(!p){if(!u)throw new Error("getDocument - no `url` parameter provided.");xs={url:u,length:vs,httpHeaders:g,withCredentials:y,rangeChunkSize:x,disableRange:hn,disableStream:Di},Ra=De?typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&Js(xs.url)?new ac(xs):new fr(xs):Js(xs.url)?new ac(xs):new Rt(xs)}var xs;return Cl.then(Br=>{if(i.destroyed)throw new Error("Loading aborted");if(N.destroyed)throw new Error("Worker was destroyed");const xs=new wa(o,Br,N.port),lh=new ku(xs,i,Ra,ad,qs);i._transport=lh,xs.send("Ready",null)})}).catch(i._capability.reject),i}function $a(C){return"object"==typeof C&&Number.isInteger(C?.num)&&C.num>=0&&Number.isInteger(C?.gen)&&C.gen>=0}class Tr{static#e=0;constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId="d"+Tr.#e++,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}destroy(){var i=this;return(0,ae.Z)(function*(){i.destroyed=!0;try{i._worker?.port&&(i._worker._pendingDestroy=!0),yield i._transport?.destroy()}catch(o){throw i._worker?.port&&delete i._worker._pendingDestroy,o}i._transport=null,i._worker&&(i._worker.destroy(),i._worker=null)})()}}class Lr{constructor(i,o,u=!1,p=null){this.length=i,this.initialData=o,this.progressiveDone=u,this.contentDispositionFilename=p,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(i){this._rangeListeners.push(i)}addProgressListener(i){this._progressListeners.push(i)}addProgressiveReadListener(i){this._progressiveReadListeners.push(i)}addProgressiveDoneListener(i){this._progressiveDoneListeners.push(i)}onDataRange(i,o){for(const u of this._rangeListeners)u(i,o)}onDataProgress(i,o){this._readyCapability.promise.then(()=>{for(const u of this._progressListeners)u(i,o)})}onDataProgressiveRead(i){this._readyCapability.promise.then(()=>{for(const o of this._progressiveReadListeners)o(i)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const i of this._progressiveDoneListeners)i()})}transportReady(){this._readyCapability.resolve()}requestDataRange(i,o){Zt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class xc{constructor(i,o){this._pdfInfo=i,this._transport=o}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return gn(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(i){return this._transport.getPage(i)}getPageIndex(i){return this._transport.getPageIndex(i)}getDestinations(){return this._transport.getDestinations()}getDestination(i){return this._transport.getDestination(i)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:i="display"}={}){const{renderingIntent:o}=this._transport.getRenderingIntent(i);return this._transport.getOptionalContentConfig(o)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(i=!1){return this._transport.startCleanup(i||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(i){return this._transport.cachedPageNumber(i)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class gl{#e=null;#t=!1;constructor(i,o,u,p=!1){this._pageIndex=i,this._pageInfo=o,this._transport=u,this._stats=p?new Mn:null,this._pdfBug=p,this.commonObjs=u.commonObjs,this.objs=new Lu,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:i,rotation:o=this.rotate,offsetX:u=0,offsetY:p=0,dontFlip:g=!1}={}){return new cr({viewBox:this.view,scale:i,rotation:o,offsetX:u,offsetY:p,dontFlip:g})}getAnnotations({intent:i="display"}={}){const{renderingIntent:o}=this._transport.getRenderingIntent(i);return this._transport.getAnnotations(this._pageIndex,o)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return gn(this,"isPureXfa",!!this._transport._htmlForXfa)}getXfa(){var i=this;return(0,ae.Z)(function*(){return i._transport._htmlForXfa?.children[i._pageIndex]||null})()}render({canvasContext:i,viewport:o,intent:u="display",annotationMode:p=Ot.ENABLE,transform:g=null,background:y=null,optionalContentConfigPromise:E=null,annotationCanvasMap:T=null,pageColors:x=null,printAnnotationStorage:N=null,isEditing:B=!1}){this._stats?.time("Overall");const Y=this._transport.getRenderingIntent(u,p,N,B),{renderingIntent:se,cacheKey:le}=Y;this.#t=!1,this.#i(),E||=this._transport.getOptionalContentConfig(se);let me=this._intentStates.get(le);me||(me=Object.create(null),this._intentStates.set(le,me)),me.streamReaderCancelTimeout&&(clearTimeout(me.streamReaderCancelTimeout),me.streamReaderCancelTimeout=null);const Fe=!!(4&se);me.displayReadyCapability||(me.displayReadyCapability=Promise.withResolvers(),me.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(Y));const Te=dt=>{me.renderTasks.delete(nt),(this._maybeCleanupAfterRender||Fe)&&(this.#t=!0),this.#n(!Fe),dt?(nt.capability.reject(dt),this._abortOperatorList({intentState:me,reason:dt instanceof Error?dt:new Error(dt)})):nt.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},nt=new Ga({callback:Te,params:{canvasContext:i,viewport:o,transform:g,background:y},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:T,operatorList:me.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!Fe,pdfBug:this._pdfBug,pageColors:x});(me.renderTasks||=new Set).add(nt);const ht=nt.task;return Promise.all([me.displayReadyCapability.promise,E]).then(([dt,At])=>{if(this.destroyed)Te();else{if(this._stats?.time("Rendering"),!(At.renderingIntent&se))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");nt.initializeGraphics({transparency:dt,optionalContentConfig:At}),nt.operatorListChanged()}}).catch(Te),ht}getOperatorList({intent:i="display",annotationMode:o=Ot.ENABLE,printAnnotationStorage:u=null,isEditing:p=!1}={}){const y=this._transport.getRenderingIntent(i,o,u,p,!0);let T,E=this._intentStates.get(y.cacheKey);return E||(E=Object.create(null),this._intentStates.set(y.cacheKey,E)),E.opListReadCapability||(T=Object.create(null),T.operatorListChanged=function g(){E.operatorList.lastChunk&&(E.opListReadCapability.resolve(E.operatorList),E.renderTasks.delete(T))},E.opListReadCapability=Promise.withResolvers(),(E.renderTasks||=new Set).add(T),E.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(y)),E.opListReadCapability.promise}streamTextContent({includeMarkedContent:i=!1,disableNormalization:o=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:!0===i,disableNormalization:!0===o},{highWaterMark:100,size:p=>p.items.length})}getTextContent(i={}){if(this._transport._htmlForXfa)return this.getXfa().then(u=>fl.textContent(u));const o=this.streamTextContent(i);return new Promise(function(u,p){const y=o.getReader(),E={items:[],styles:Object.create(null),lang:null};!function g(){y.read().then(function({value:T,done:x}){x?u(E):(E.lang??=T.lang,Object.assign(E.styles,T.styles),E.items.push(...T.items),g())},p)}()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const i=[];for(const o of this._intentStates.values())if(this._abortOperatorList({intentState:o,reason:new Error("Page was destroyed."),force:!0}),!o.opListReadCapability)for(const u of o.renderTasks)i.push(u.completed),u.cancel();return this.objs.clear(),this.#t=!1,this.#i(),Promise.all(i)}cleanup(i=!1){this.#t=!0;const o=this.#n(!1);return i&&o&&(this._stats&&=new Mn),o}#n(i=!1){if(this.#i(),!this.#t||this.destroyed)return!1;if(i)return this.#e=setTimeout(()=>{this.#e=null,this.#n(!1)},5e3),!1;for(const{renderTasks:o,operatorList:u}of this._intentStates.values())if(o.size>0||!u.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}#i(){this.#e&&(clearTimeout(this.#e),this.#e=null)}_startRenderPage(i,o){const u=this._intentStates.get(o);u&&(this._stats?.timeEnd("Page Request"),u.displayReadyCapability?.resolve(i))}_renderPageChunk(i,o){for(let u=0,p=i.length;u<p;u++)o.operatorList.fnArray.push(i.fnArray[u]),o.operatorList.argsArray.push(i.argsArray[u]);o.operatorList.lastChunk=i.lastChunk,o.operatorList.separateAnnots=i.separateAnnots;for(const u of o.renderTasks)u.operatorListChanged();i.lastChunk&&this.#n(!0)}_pumpOperatorList({renderingIntent:i,cacheKey:o,annotationStorageSerializable:u,modifiedIds:p}){const{map:g,transfer:y}=u,T=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:i,cacheKey:o,annotationStorage:g,modifiedIds:p},y).getReader(),x=this._intentStates.get(o);x.streamReader=T;const N=()=>{T.read().then(({value:B,done:Y})=>{Y?x.streamReader=null:this._transport.destroyed||(this._renderPageChunk(B,x),N())},B=>{if(x.streamReader=null,!this._transport.destroyed){if(x.operatorList){x.operatorList.lastChunk=!0;for(const Y of x.renderTasks)Y.operatorListChanged();this.#n(!0)}if(x.displayReadyCapability)x.displayReadyCapability.reject(B);else{if(!x.opListReadCapability)throw B;x.opListReadCapability.reject(B)}}})};N()}_abortOperatorList({intentState:i,reason:o,force:u=!1}){if(i.streamReader){if(i.streamReaderCancelTimeout&&(clearTimeout(i.streamReaderCancelTimeout),i.streamReaderCancelTimeout=null),!u){if(i.renderTasks.size>0)return;if(o instanceof mo){let p=100;return o.extraDelay>0&&o.extraDelay<1e3&&(p+=o.extraDelay),void(i.streamReaderCancelTimeout=setTimeout(()=>{i.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:i,reason:o,force:!0})},p))}}if(i.streamReader.cancel(new An(o.message)).catch(()=>{}),i.streamReader=null,!this._transport.destroyed){for(const[p,g]of this._intentStates)if(g===i){this._intentStates.delete(p);break}this.cleanup()}}}get stats(){return this._stats}}class uc{#e=new Set;#t=Promise.resolve();postMessage(i,o){const u={data:structuredClone(i,o?{transfer:o}:null)};this.#t.then(()=>{for(const p of this.#e)p.call(this,u)})}addEventListener(i,o){this.#e.add(o)}removeEventListener(i,o){this.#e.delete(o)}terminate(){this.#e.clear()}}class bi{static#e=0;static#t=!1;static#n;static#i=(()=>{De&&(this.#t=!0,ra.workerSrc||="./pdf.worker.mjs"),this._isSameOrigin=(i,o)=>{let u;try{if(u=new URL(i),!u.origin||"null"===u.origin)return!1}catch{return!1}const p=new URL(o,u);return u.origin===p.origin},this._createCDNWrapper=i=>URL.createObjectURL(new Blob([`await import("${i}");`],{type:"text/javascript"}))})();constructor({name:i=null,port:o=null,verbosity:u=Rn()}={}){if(this.name=i,this.destroyed=!1,this.verbosity=u,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,o){if(bi.#n?.has(o))throw new Error("Cannot use more than one PDFWorker per port.");return(bi.#n||=new WeakMap).set(o,this),void this._initializeFromPort(o)}this._initialize()}get promise(){return De?Promise.all([dr.promise,this._readyCapability.promise]):this._readyCapability.promise}#r(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(i){this._port=i,this._messageHandler=new wa("main","worker",i),this._messageHandler.on("ready",function(){}),this.#r()}_initialize(){if(bi.#t||bi.#s)return void this._setupFakeWorker();let{workerSrc:i}=bi;try{bi._isSameOrigin(window.location.href,i)||(i=bi._createCDNWrapper(new URL(i,window.location).href));const o=new Worker(i,{type:"module"}),u=new wa("main","worker",o),p=()=>{g.abort(),u.destroy(),o.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},g=new AbortController;o.addEventListener("error",()=>{this._webWorker||p()},{signal:g.signal}),u.on("test",E=>{g.abort(),!this.destroyed&&E?(this._messageHandler=u,this._port=o,this._webWorker=o,this.#r()):p()}),u.on("ready",E=>{if(g.abort(),this.destroyed)p();else try{y()}catch{this._setupFakeWorker()}});const y=()=>{const E=new Uint8Array;u.send("test",E,[E.buffer])};return void y()}catch{Un("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){bi.#t||(mn("Setting up fake worker."),bi.#t=!0),bi._setupFakeWorkerGlobal.then(i=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const o=new uc;this._port=o;const u="fake"+bi.#e++,p=new wa(u+"_worker",u,o);i.setup(p,o),this._messageHandler=new wa(u,u+"_worker",o),this.#r()}).catch(i=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${i.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),bi.#n?.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(i){if(!i?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");const o=this.#n?.get(i.port);if(o){if(o._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return o}return new bi(i)}static get workerSrc(){if(ra.workerSrc)return ra.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get#s(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){var i=this;return gn(this,"_setupFakeWorkerGlobal",function(){var u=(0,ae.Z)(function*(){return i.#s?i.#s:(yield import(i.workerSrc)).WorkerMessageHandler});return function(){return u.apply(this,arguments)}}()())}}class ku{#e=new Map;#t=new Map;#n=new Map;#i=new Map;#r=null;constructor(i,o,u,p,g){this.messageHandler=i,this.loadingTask=o,this.commonObjs=new Lu,this.fontLoader=new Jo({ownerDocument:p.ownerDocument,styleElement:p.styleElement}),this.loadingParams=p.loadingParams,this._params=p,this.canvasFactory=g.canvasFactory,this.filterFactory=g.filterFactory,this.cMapReaderFactory=g.cMapReaderFactory,this.standardFontDataFactory=g.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=u,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}#s(i,o=null){const u=this.#e.get(i);if(u)return u;const p=this.messageHandler.sendWithPromise(i,o);return this.#e.set(i,p),p}get annotationStorage(){return gn(this,"annotationStorage",new hs)}getRenderingIntent(i,o=Ot.ENABLE,u=null,p=!1,g=!1){let y=2,E=Sr;switch(i){case"any":y=1;break;case"display":break;case"print":y=4;break;default:mn(`getRenderingIntent - invalid intent: ${i}`)}const T=4&y&&u instanceof _a?u:this.annotationStorage;switch(o){case Ot.DISABLE:y+=64;break;case Ot.ENABLE:break;case Ot.ENABLE_FORMS:y+=16;break;case Ot.ENABLE_STORAGE:y+=32,E=T.serializable;break;default:mn(`getRenderingIntent - invalid annotationMode: ${o}`)}p&&(y+=128),g&&(y+=256);const{ids:x,hash:N}=T.modifiedIds;return{renderingIntent:y,cacheKey:[y,E.hash,N].join("_"),annotationStorageSerializable:E,modifiedIds:x}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#r?.reject(new Error("Worker was destroyed during onPassword callback"));const i=[];for(const u of this.#t.values())i.push(u._destroy());this.#t.clear(),this.#n.clear(),this.#i.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const o=this.messageHandler.sendWithPromise("Terminate",null);return i.push(o),Promise.all(i).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),pr.cleanup(),this._networkStream?.cancelAllRequests(new An("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:i,loadingTask:o}=this;i.on("GetReader",(u,p)=>{Ln(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=g=>{this._lastProgress={loaded:g.loaded,total:g.total}},p.onPull=()=>{this._fullReader.read().then(function({value:g,done:y}){y?p.close():(Ln(g instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),p.enqueue(new Uint8Array(g),1,[g]))}).catch(g=>{p.error(g)})},p.onCancel=g=>{this._fullReader.cancel(g),p.ready.catch(y=>{if(!this.destroyed)throw y})}}),i.on("ReaderHeadersReady",u=>{const p=Promise.withResolvers(),g=this._fullReader;return g.headersReady.then(()=>{(!g.isStreamingSupported||!g.isRangeSupported)&&(this._lastProgress&&o.onProgress?.(this._lastProgress),g.onProgress=y=>{o.onProgress?.({loaded:y.loaded,total:y.total})}),p.resolve({isStreamingSupported:g.isStreamingSupported,isRangeSupported:g.isRangeSupported,contentLength:g.contentLength})},p.reject),p.promise}),i.on("GetRangeReader",(u,p)=>{Ln(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const g=this._networkStream.getRangeReader(u.begin,u.end);g?(p.onPull=()=>{g.read().then(function({value:y,done:E}){E?p.close():(Ln(y instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),p.enqueue(new Uint8Array(y),1,[y]))}).catch(y=>{p.error(y)})},p.onCancel=y=>{g.cancel(y),p.ready.catch(E=>{if(!this.destroyed)throw E})}):p.close()}),i.on("GetDoc",({pdfInfo:u})=>{this._numPages=u.numPages,this._htmlForXfa=u.htmlForXfa,delete u.htmlForXfa,o._capability.resolve(new xc(u,this))}),i.on("DocException",function(u){let p;switch(u.name){case"PasswordException":p=new ki(u.message,u.code);break;case"InvalidPDFException":p=new rr(u.message);break;case"MissingPDFException":p=new us(u.message);break;case"UnexpectedResponseException":p=new ds(u.message,u.status);break;case"UnknownErrorException":p=new Or(u.message,u.details);break;default:Zt("DocException - expected a valid Error.")}o._capability.reject(p)}),i.on("PasswordRequest",u=>{if(this.#r=Promise.withResolvers(),o.onPassword){const p=g=>{g instanceof Error?this.#r.reject(g):this.#r.resolve({password:g})};try{o.onPassword(p,u.code)}catch(g){this.#r.reject(g)}}else this.#r.reject(new ki(u.message,u.code));return this.#r.promise}),i.on("DataLoaded",u=>{o.onProgress?.({loaded:u.length,total:u.length}),this.downloadInfoCapability.resolve(u)}),i.on("StartRenderPage",u=>{this.destroyed||this.#t.get(u.pageIndex)._startRenderPage(u.transparency,u.cacheKey)}),i.on("commonobj",([u,p,g])=>{if(this.destroyed||this.commonObjs.has(u))return null;switch(p){case"Font":const{disableFontFace:y,fontExtraProperties:E,pdfBug:T}=this._params;if("error"in g){const Y=g.error;mn(`Error during font loading: ${Y}`),this.commonObjs.resolve(u,Y);break}const x=T&&globalThis.FontInspector?.enabled?(Y,se)=>globalThis.FontInspector.fontAdded(Y,se):null,N=new Pu(g,{disableFontFace:y,inspectFont:x});this.fontLoader.bind(N).catch(()=>i.sendWithPromise("FontFallback",{id:u})).finally(()=>{!E&&N.data&&(N.data=null),this.commonObjs.resolve(u,N)});break;case"CopyLocalImage":const{imageRef:B}=g;Ln(B,"The imageRef must be defined.");for(const Y of this.#t.values())for(const[,se]of Y.objs)if(se?.ref===B)return se.dataLen?(this.commonObjs.resolve(u,structuredClone(se)),se.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(u,g);break;default:throw new Error(`Got unknown common object type ${p}`)}return null}),i.on("obj",([u,p,g,y])=>{if(this.destroyed)return;const E=this.#t.get(p);if(!E.objs.has(u)){if(0===E._intentStates.size)return void y?.bitmap?.close();switch(g){case"Image":E.objs.resolve(u,y),y?.dataLen>1e7&&(E._maybeCleanupAfterRender=!0);break;case"Pattern":E.objs.resolve(u,y);break;default:throw new Error(`Got unknown object type ${g}`)}}}),i.on("DocProgress",u=>{this.destroyed||o.onProgress?.({loaded:u.loaded,total:u.total})}),i.on("FetchBuiltInCMap",u=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(u):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),i.on("FetchStandardFontData",u=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(u):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&mn("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:i,transfer:o}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:i,filename:this._fullReader?.filename??null},o).finally(()=>{this.annotationStorage.resetModified()})}getPage(i){if(!Number.isInteger(i)||i<=0||i>this._numPages)return Promise.reject(new Error("Invalid page request."));const o=i-1,u=this.#n.get(o);if(u)return u;const p=this.messageHandler.sendWithPromise("GetPage",{pageIndex:o}).then(g=>{if(this.destroyed)throw new Error("Transport destroyed");g.refStr&&this.#i.set(g.refStr,i);const y=new gl(o,g,this,this._params.pdfBug);return this.#t.set(o,y),y});return this.#n.set(o,p),p}getPageIndex(i){return $a(i)?this.messageHandler.sendWithPromise("GetPageIndex",{num:i.num,gen:i.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(i,o){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:i,intent:o})}getFieldObjects(){return this.#s("GetFieldObjects")}hasJSActions(){return this.#s("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(i){return"string"!=typeof i?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:i})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#s("GetDocJSActions")}getPageJSActions(i){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:i})}getStructTree(i){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:i})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(i){return this.#s("GetOptionalContentConfig").then(o=>new xu(o,i))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const i="GetMetadata",o=this.#e.get(i);if(o)return o;const u=this.messageHandler.sendWithPromise(i,null).then(p=>({info:p[0],metadata:p[1]?new ll(p[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(i,u),u}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(i=!1){var o=this;return(0,ae.Z)(function*(){if(!o.destroyed){yield o.messageHandler.sendWithPromise("Cleanup",null);for(const u of o.#t.values())if(!u.cleanup())throw new Error(`startCleanup: Page ${u.pageNumber} is currently rendering.`);o.commonObjs.clear(),i||o.fontLoader.clear(),o.#e.clear(),o.filterFactory.destroy(!0),pr.cleanup()}})()}cachedPageNumber(i){return $a(i)?this.#i.get(0===i.gen?`${i.num}R`:`${i.num}R${i.gen}`)??null:null}}const Rc=Symbol("INITIAL_DATA");class Lu{#e=Object.create(null);#t(i){return this.#e[i]||={...Promise.withResolvers(),data:Rc}}get(i,o=null){if(o){const p=this.#t(i);return p.promise.then(()=>o(p.data)),null}const u=this.#e[i];if(!u||u.data===Rc)throw new Error(`Requesting object that isn't resolved yet ${i}.`);return u.data}has(i){const o=this.#e[i];return!!o&&o.data!==Rc}resolve(i,o=null){const u=this.#t(i);u.data=o,u.resolve()}clear(){for(const i in this.#e){const{data:o}=this.#e[i];o?.bitmap?.close()}this.#e=Object.create(null)}*[Symbol.iterator](){for(const i in this.#e){const{data:o}=this.#e[i];o!==Rc&&(yield[i,o])}}}class dc{#e=null;constructor(i){this.#e=i,this.onContinue=null}get promise(){return this.#e.capability.promise}cancel(i=0){this.#e.cancel(null,i)}get separateAnnots(){const{separateAnnots:i}=this.#e.operatorList;if(!i)return!1;const{annotationCanvasMap:o}=this.#e;return i.form||i.canvas&&o?.size>0}}class Ga{#e=null;static#t=new WeakSet;constructor({callback:i,params:o,objs:u,commonObjs:p,annotationCanvasMap:g,operatorList:y,pageIndex:E,canvasFactory:T,filterFactory:x,useRequestAnimationFrame:N=!1,pdfBug:B=!1,pageColors:Y=null}){this.callback=i,this.params=o,this.objs=u,this.commonObjs=p,this.annotationCanvasMap=g,this.operatorListIdx=null,this.operatorList=y,this._pageIndex=E,this.canvasFactory=T,this.filterFactory=x,this._pdfBug=B,this.pageColors=Y,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===N&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new dc(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=o.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:i=!1,optionalContentConfig:o}){if(this.cancelled)return;if(this._canvas){if(Ga.#t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Ga.#t.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:u,viewport:p,transform:g,background:y}=this.params;this.gfx=new Ha(u,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:o},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:g,viewport:p,transparency:i,background:y}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(i=null,o=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#e&&(window.cancelAnimationFrame(this.#e),this.#e=null),Ga.#t.delete(this._canvas),this.callback(i||new mo(`Rendering cancelled, page ${this._pageIndex+1}`,o))}operatorListChanged(){this.graphicsReady?(this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||=this._continueBound}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#e=window.requestAnimationFrame(()=>{this.#e=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var i=this;return(0,ae.Z)(function*(){i.cancelled||(i.operatorListIdx=i.gfx.executeOperatorList(i.operatorList,i.operatorListIdx,i._continueBound,i.stepper),i.operatorListIdx===i.operatorList.argsArray.length&&(i.running=!1,i.operatorList.lastChunk&&(i.gfx.endDrawing(),Ga.#t.delete(i._canvas),i.callback())))})()}}const Od="4.6.82",Nd="9b541910f";function dg(C){return Math.floor(255*Math.max(0,Math.min(1,C))).toString(16).padStart(2,"0")}function Oc(C){return Math.max(0,Math.min(255,255*C))}class hg{static CMYK_G([i,o,u,p]){return["G",1-Math.min(1,.3*i+.59*u+.11*o+p)]}static G_CMYK([i]){return["CMYK",0,0,0,1-i]}static G_RGB([i]){return["RGB",i,i,i]}static G_rgb([i]){return[i=Oc(i),i,i]}static G_HTML([i]){const o=dg(i);return`#${o}${o}${o}`}static RGB_G([i,o,u]){return["G",.3*i+.59*o+.11*u]}static RGB_rgb(i){return i.map(Oc)}static RGB_HTML(i){return`#${i.map(dg).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([i,o,u,p]){return["RGB",1-Math.min(1,i+p),1-Math.min(1,u+p),1-Math.min(1,o+p)]}static CMYK_rgb([i,o,u,p]){return[Oc(1-Math.min(1,i+p)),Oc(1-Math.min(1,u+p)),Oc(1-Math.min(1,o+p))]}static CMYK_HTML(i){const o=this.CMYK_RGB(i).slice(1);return this.RGB_HTML(o)}static RGB_CMYK([i,o,u]){const p=1-i,g=1-o,y=1-u;return["CMYK",p,g,y,Math.min(p,g,y)]}}class Nl{static setupStorage(i,o,u,p,g){const y=p.getValue(o,{value:null});switch(u.name){case"textarea":if(null!==y.value&&(i.textContent=y.value),"print"===g)break;i.addEventListener("input",E=>{p.setValue(o,{value:E.target.value})});break;case"input":if("radio"===u.attributes.type||"checkbox"===u.attributes.type){if(y.value===u.attributes.xfaOn?i.setAttribute("checked",!0):y.value===u.attributes.xfaOff&&i.removeAttribute("checked"),"print"===g)break;i.addEventListener("change",E=>{p.setValue(o,{value:E.target.getAttribute(E.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==y.value&&i.setAttribute("value",y.value),"print"===g)break;i.addEventListener("input",E=>{p.setValue(o,{value:E.target.value})})}break;case"select":if(null!==y.value){i.setAttribute("value",y.value);for(const E of u.children)E.attributes.value===y.value?E.attributes.selected=!0:E.attributes.hasOwnProperty("selected")&&delete E.attributes.selected}i.addEventListener("input",E=>{const T=E.target.options;p.setValue(o,{value:-1===T.selectedIndex?"":T[T.selectedIndex].value})})}}static setAttributes({html:i,element:o,storage:u=null,intent:p,linkService:g}){const{attributes:y}=o,E=i instanceof HTMLAnchorElement;"radio"===y.type&&(y.name=`${y.name}-${p}`);for(const[T,x]of Object.entries(y))if(null!=x)switch(T){case"class":x.length&&i.setAttribute(T,x.join(" "));break;case"dataId":break;case"id":i.setAttribute("data-element-id",x);break;case"style":Object.assign(i.style,x);break;case"textContent":i.textContent=x;break;default:(!E||"href"!==T&&"newWindow"!==T)&&i.setAttribute(T,x)}E&&g.addLinkAttributes(i,y.href,y.newWindow),u&&y.dataId&&this.setupStorage(i,y.dataId,o,u)}static render(i){const o=i.annotationStorage,u=i.linkService,p=i.xfaHtml,g=i.intent||"display",y=document.createElement(p.name);p.attributes&&this.setAttributes({html:y,element:p,intent:g,linkService:u});const E="richText"!==g,T=i.div;if(T.append(y),i.viewport){const B=`matrix(${i.viewport.transform.join(",")})`;T.style.transform=B}E&&T.setAttribute("class","xfaLayer xfaFont");const x=[];if(0===p.children.length){if(p.value){const B=document.createTextNode(p.value);y.append(B),E&&fl.shouldBuildText(p.name)&&x.push(B)}return{textDivs:x}}const N=[[p,-1,y]];for(;N.length>0;){const[B,Y,se]=N.at(-1);if(Y+1===B.children.length){N.pop();continue}const le=B.children[++N.at(-1)[1]];if(null===le)continue;const{name:me}=le;if("#text"===me){const Te=document.createTextNode(le.value);x.push(Te),se.append(Te);continue}const Fe=le?.attributes?.xmlns?document.createElementNS(le.attributes.xmlns,me):document.createElement(me);if(se.append(Fe),le.attributes&&this.setAttributes({html:Fe,element:le,storage:o,intent:g,linkService:u}),le.children?.length>0)N.push([le,-1,Fe]);else if(le.value){const Te=document.createTextNode(le.value);E&&fl.shouldBuildText(me)&&x.push(Te),Fe.append(Te)}}for(const B of T.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))B.setAttribute("readOnly",!0);return{textDivs:x}}static update(i){const o=`matrix(${i.viewport.transform.join(",")})`;i.div.style.transform=o,i.div.hidden=!1}}const Nc=1e3,ie=new WeakSet;function j(C){return{width:C[2]-C[0],height:C[3]-C[1]}}class X{static create(i){switch(i.data.annotationType){case 2:return new lt(i);case 1:return new xt(i);case 20:switch(i.data.fieldType){case"Tx":return new $i(i);case"Btn":return i.data.radioButton?new ti(i):i.data.checkBox?new Ai(i):new Er(i);case"Ch":return new fi(i);case"Sig":return new wi(i)}return new en(i);case 16:return new ut(i);case 3:return new io(i);case 4:return new Wa(i);case 5:return new zo(i);case 6:return new Aa(i);case 8:return new Co(i);case 14:return new kl(i);case 15:return new kc(i);case 7:return new oa(i);case 9:return new To(i);case 10:return new fg(i);case 11:return new Fu(i);case 12:return new Qi(i);case 13:return new ml(i);case 17:return new hc(i);default:return new ye(i)}}}class ye{#e=null;#t=!1;#n=null;constructor(i,{isRenderable:o=!1,ignoreBorder:u=!1,createQuadrilaterals:p=!1}={}){this.isRenderable=o,this.data=i.data,this.layer=i.layer,this.linkService=i.linkService,this.downloadManager=i.downloadManager,this.imageResourcesPath=i.imageResourcesPath,this.renderForms=i.renderForms,this.svgFactory=i.svgFactory,this.annotationStorage=i.annotationStorage,this.enableScripting=i.enableScripting,this.hasJSActions=i.hasJSActions,this._fieldObjects=i.fieldObjects,this.parent=i.parent,o&&(this.container=this._createContainer(u)),p&&this._createQuadrilaterals()}static _hasPopupData({titleObj:i,contentsObj:o,richText:u}){return!!(i?.str||o?.str||u?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return ye._hasPopupData(this.data)}updateEdited(i){if(!this.container)return;this.#e||={rect:this.data.rect.slice(0)};const{rect:o}=i;o&&this.#i(o),this.#n?.popup.updateEdited(i)}resetEdited(){this.#e&&(this.#i(this.#e.rect),this.#n?.popup.resetEdited(),this.#e=null)}#i(i){const{container:{style:o},data:{rect:u,rotation:p},parent:{viewport:{rawDims:{pageWidth:g,pageHeight:y,pageX:E,pageY:T}}}}=this;u?.splice(0,4,...i);const{width:x,height:N}=j(i);o.left=100*(i[0]-E)/g+"%",o.top=100*(y-i[3]+T)/y+"%",0===p?(o.width=100*x/g+"%",o.height=100*N/y+"%"):this.setRotation(p)}_createContainer(i){const{data:o,parent:{page:u,viewport:p}}=this,g=document.createElement("section");g.setAttribute("data-annotation-id",o.id),this instanceof en||(g.tabIndex=Nc);const{style:y}=g;if(y.zIndex=this.parent.zIndex++,o.popupRef&&g.setAttribute("aria-haspopup","dialog"),o.alternativeText&&(g.title=o.alternativeText),o.noRotate&&g.classList.add("norotate"),!o.rect||this instanceof ut){const{rotation:me}=o;return!o.hasOwnCanvas&&0!==me&&this.setRotation(me,g),g}const{width:E,height:T}=j(o.rect);if(!i&&o.borderStyle.width>0){y.borderWidth=`${o.borderStyle.width}px`;const me=o.borderStyle.horizontalCornerRadius,Fe=o.borderStyle.verticalCornerRadius;switch(me>0||Fe>0?y.borderRadius=`calc(${me}px * var(--scale-factor)) / calc(${Fe}px * var(--scale-factor))`:this instanceof ti&&(y.borderRadius=`calc(${E}px * var(--scale-factor)) / calc(${T}px * var(--scale-factor))`),o.borderStyle.style){case 1:y.borderStyle="solid";break;case 2:y.borderStyle="dashed";break;case 3:mn("Unimplemented border style: beveled");break;case 4:mn("Unimplemented border style: inset");break;case 5:y.borderBottomStyle="solid"}const Te=o.borderColor||null;Te?(this.#t=!0,y.borderColor=un.makeHexColor(0|Te[0],0|Te[1],0|Te[2])):y.borderWidth=0}const x=un.normalizeRect([o.rect[0],u.view[3]-o.rect[1]+u.view[1],o.rect[2],u.view[3]-o.rect[3]+u.view[1]]),{pageWidth:N,pageHeight:B,pageX:Y,pageY:se}=p.rawDims;y.left=100*(x[0]-Y)/N+"%",y.top=100*(x[1]-se)/B+"%";const{rotation:le}=o;return o.hasOwnCanvas||0===le?(y.width=100*E/N+"%",y.height=100*T/B+"%"):this.setRotation(le,g),g}setRotation(i,o=this.container){if(!this.data.rect)return;const{pageWidth:u,pageHeight:p}=this.parent.viewport.rawDims,{width:g,height:y}=j(this.data.rect);let E,T;i%180==0?(E=100*g/u,T=100*y/p):(E=100*y/u,T=100*g/p),o.style.width=`${E}%`,o.style.height=`${T}%`,o.setAttribute("data-main-rotation",(360-i)%360)}get _commonActions(){const i=(o,u,p)=>{const g=p.detail[o],y=g[0],E=g.slice(1);p.target.style[u]=hg[`${y}_HTML`](E),this.annotationStorage.setValue(this.data.id,{[u]:hg[`${y}_rgb`](E)})};return gn(this,"_commonActions",{display:o=>{const{display:u}=o.detail,p=u%2==1;this.container.style.visibility=p?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:p,noPrint:1===u||2===u})},print:o=>{this.annotationStorage.setValue(this.data.id,{noPrint:!o.detail.print})},hidden:o=>{const{hidden:u}=o.detail;this.container.style.visibility=u?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:u,noView:u})},focus:o=>{setTimeout(()=>o.target.focus({preventScroll:!1}),0)},userName:o=>{o.target.title=o.detail.userName},readonly:o=>{o.target.disabled=o.detail.readonly},required:o=>{this._setRequired(o.target,o.detail.required)},bgColor:o=>{i("bgColor","backgroundColor",o)},fillColor:o=>{i("fillColor","backgroundColor",o)},fgColor:o=>{i("fgColor","color",o)},textColor:o=>{i("textColor","color",o)},borderColor:o=>{i("borderColor","borderColor",o)},strokeColor:o=>{i("strokeColor","borderColor",o)},rotation:o=>{const u=o.detail.rotation;this.setRotation(u),this.annotationStorage.setValue(this.data.id,{rotation:u})}})}_dispatchEventFromSandbox(i,o){const u=this._commonActions;for(const p of Object.keys(o.detail))(i[p]||u[p])?.(o)}_setDefaultPropertiesFromJS(i){if(!this.enableScripting)return;const o=this.annotationStorage.getRawValue(this.data.id);if(!o)return;const u=this._commonActions;for(const[p,g]of Object.entries(o)){const y=u[p];y&&(y({detail:{[p]:g},target:i}),delete o[p])}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:i}=this.data;if(!i)return;const[o,u,p,g]=this.data.rect.map(me=>Math.fround(me));if(8===i.length){const[me,Fe,Te,nt]=i.subarray(2,6);if(p===me&&g===Fe&&o===Te&&u===nt)return}const{style:y}=this.container;let E;if(this.#t){const{borderColor:me,borderWidth:Fe}=y;y.borderWidth=0,E=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${me}" stroke-width="${Fe}">`],this.container.classList.add("hasBorder")}const T=p-o,x=g-u,{svgFactory:N}=this,B=N.createElement("svg");B.classList.add("quadrilateralsContainer"),B.setAttribute("width",0),B.setAttribute("height",0);const Y=N.createElement("defs");B.append(Y);const se=N.createElement("clipPath"),le=`clippath_${this.data.id}`;se.setAttribute("id",le),se.setAttribute("clipPathUnits","objectBoundingBox"),Y.append(se);for(let me=2,Fe=i.length;me<Fe;me+=8){const Te=i[me],nt=i[me+1],ht=i[me+2],dt=i[me+3],At=N.createElement("rect"),Et=(ht-o)/T,It=(g-nt)/x,Lt=(Te-ht)/T,st=(nt-dt)/x;At.setAttribute("x",Et),At.setAttribute("y",It),At.setAttribute("width",Lt),At.setAttribute("height",st),se.append(At),E?.push(`<rect vector-effect="non-scaling-stroke" x="${Et}" y="${It}" width="${Lt}" height="${st}"/>`)}this.#t&&(E.push("</g></svg>')"),y.backgroundImage=E.join("")),this.container.append(B),this.container.style.clipPath=`url(#${le})`}_createPopup(){const{container:i,data:o}=this;i.setAttribute("aria-haspopup","dialog");const u=this.#n=new ut({data:{color:o.color,titleObj:o.titleObj,modificationDate:o.modificationDate,contentsObj:o.contentsObj,richText:o.richText,parentRect:o.rect,borderStyle:0,id:`popup_${o.id}`,rotation:o.rotation},parent:this.parent,elements:[this]});this.parent.div.append(u.render())}render(){Zt("Abstract method `AnnotationElement.render` called")}_getElementsByName(i,o=null){const u=[];if(this._fieldObjects){const p=this._fieldObjects[i];if(p)for(const{page:g,id:y,exportValues:E}of p){if(-1===g||y===o)continue;const T="string"==typeof E?E:null,x=document.querySelector(`[data-element-id="${y}"]`);!x||ie.has(x)?u.push({id:y,exportValue:T,domElement:x}):mn(`_getElementsByName - element not allowed: ${y}`)}return u}for(const p of document.getElementsByName(i)){const{exportValue:g}=p,y=p.getAttribute("data-element-id");y!==o&&ie.has(p)&&u.push({id:y,exportValue:g,domElement:p})}return u}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const i=this.getElementsToTriggerPopup();if(Array.isArray(i))for(const o of i)o.classList.add("highlightArea");else i.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:i,data:{id:o}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:i,editId:o})})}}class lt extends ye{constructor(i,o=null){super(i,{isRenderable:!0,ignoreBorder:!!o?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=i.data.isTooltipOnly}render(){const{data:i,linkService:o}=this,u=document.createElement("a");u.setAttribute("data-element-id",i.id);let p=!1;return i.url?(o.addLinkAttributes(u,i.url,i.newWindow),p=!0):i.action?(this._bindNamedAction(u,i.action),p=!0):i.attachment?(this.#t(u,i.attachment,i.attachmentDest),p=!0):i.setOCGState?(this.#n(u,i.setOCGState),p=!0):i.dest?(this._bindLink(u,i.dest),p=!0):(i.actions&&(i.actions.Action||i.actions["Mouse Up"]||i.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(u,i),p=!0),i.resetForm?(this._bindResetFormAction(u,i.resetForm),p=!0):this.isTooltipOnly&&!p&&(this._bindLink(u,""),p=!0)),this.container.classList.add("linkAnnotation"),p&&this.container.append(u),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(i,o){i.href=this.linkService.getDestinationHash(o),i.onclick=()=>(o&&this.linkService.goToDestination(o),!1),(o||""===o)&&this.#e()}_bindNamedAction(i,o){i.href=this.linkService.getAnchorUrl(""),i.onclick=()=>(this.linkService.executeNamedAction(o),!1),this.#e()}#t(i,o,u=null){i.href=this.linkService.getAnchorUrl(""),o.description&&(i.title=o.description),i.onclick=()=>(this.downloadManager?.openOrDownloadData(o.content,o.filename,u),!1),this.#e()}#n(i,o){i.href=this.linkService.getAnchorUrl(""),i.onclick=()=>(this.linkService.executeSetOCGState(o),!1),this.#e()}_bindJSAction(i,o){i.href=this.linkService.getAnchorUrl("");const u=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const p of Object.keys(o.actions)){const g=u.get(p);g&&(i[g]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:o.id,name:p}}),!1))}i.onclick||(i.onclick=()=>!1),this.#e()}_bindResetFormAction(i,o){const u=i.onclick;if(u||(i.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects)return mn('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(u||(i.onclick=()=>!1));i.onclick=()=>{u?.();const{fields:p,refs:g,include:y}=o,E=[];if(0!==p.length||0!==g.length){const N=new Set(g);for(const B of p){const Y=this._fieldObjects[B]||[];for(const{id:se}of Y)N.add(se)}for(const B of Object.values(this._fieldObjects))for(const Y of B)N.has(Y.id)===y&&E.push(Y)}else for(const N of Object.values(this._fieldObjects))E.push(...N);const T=this.annotationStorage,x=[];for(const N of E){const{id:B}=N;switch(x.push(B),N.type){case"text":case"combobox":case"listbox":T.setValue(B,{value:N.defaultValue||""});break;case"checkbox":case"radiobutton":T.setValue(B,{value:N.defaultValue===N.exportValues});break;default:continue}const Y=document.querySelector(`[data-element-id="${B}"]`);Y&&(ie.has(Y)?Y.dispatchEvent(new Event("resetform")):mn(`_bindResetFormAction - element not allowed: ${B}`))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:x,name:"ResetForm"}}),!1}}}class xt extends ye{constructor(i){super(i,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const i=document.createElement("img");return i.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",i.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),i.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(i),this.container}}class en extends ye{render(){return this.container}showElementAndHideCanvas(i){this.data.hasOwnCanvas&&("CANVAS"===i.previousSibling?.nodeName&&(i.previousSibling.hidden=!0),i.hidden=!1)}_getKeyModifier(i){return zi.platform.isMac?i.metaKey:i.ctrlKey}_setEventListener(i,o,u,p,g){u.includes("mouse")?i.addEventListener(u,y=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:p,value:g(y),shift:y.shiftKey,modifier:this._getKeyModifier(y)}})}):i.addEventListener(u,y=>{if("blur"===u){if(!o.focused||!y.relatedTarget)return;o.focused=!1}else if("focus"===u){if(o.focused)return;o.focused=!0}g&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:p,value:g(y)}})})}_setEventListeners(i,o,u,p){for(const[g,y]of u)("Action"===y||this.data.actions?.[y])&&(("Focus"===y||"Blur"===y)&&(o||={focused:!1}),this._setEventListener(i,o,g,y,p),"Focus"!==y||this.data.actions?.Blur?"Blur"===y&&!this.data.actions?.Focus&&this._setEventListener(i,o,"focus","Focus",null):this._setEventListener(i,o,"blur","Blur",null))}_setBackgroundColor(i){const o=this.data.backgroundColor||null;i.style.backgroundColor=null===o?"transparent":un.makeHexColor(o[0],o[1],o[2])}_setTextStyle(i){const{fontColor:u}=this.data.defaultAppearanceData,p=this.data.defaultAppearanceData.fontSize||9,g=i.style;let y;const T=x=>Math.round(10*x)/10;if(this.data.multiLine){const x=Math.abs(this.data.rect[3]-this.data.rect[1]-2),N=Math.round(x/(1.35*p))||1;y=Math.min(p,T(x/N/1.35))}else{const x=Math.abs(this.data.rect[3]-this.data.rect[1]-2);y=Math.min(p,T(x/1.35))}g.fontSize=`calc(${y}px * var(--scale-factor))`,g.color=un.makeHexColor(u[0],u[1],u[2]),null!==this.data.textAlignment&&(g.textAlign=["left","center","right"][this.data.textAlignment])}_setRequired(i,o){o?i.setAttribute("required",!0):i.removeAttribute("required"),i.setAttribute("aria-required",o)}}class $i extends en{constructor(i){super(i,{isRenderable:i.renderForms||i.data.hasOwnCanvas||!i.data.hasAppearance&&!!i.data.fieldValue})}setPropertyOnSiblings(i,o,u,p){const g=this.annotationStorage;for(const y of this._getElementsByName(i.name,i.id))y.domElement&&(y.domElement[o]=u),g.setValue(y.id,{[p]:u})}render(){const i=this.annotationStorage,o=this.data.id;this.container.classList.add("textWidgetAnnotation");let u=null;if(this.renderForms){const p=i.getValue(o,{value:this.data.fieldValue});let g=p.value||"";const y=i.getValue(o,{charLimit:this.data.maxLen}).charLimit;y&&g.length>y&&(g=g.slice(0,y));let E=p.formattedValue||this.data.textContent?.join("\n")||null;E&&this.data.comb&&(E=E.replaceAll(/\s+/g,""));const T={userValue:g,formattedValue:E,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(u=document.createElement("textarea"),u.textContent=E??g,this.data.doNotScroll&&(u.style.overflowY="hidden")):(u=document.createElement("input"),u.type="text",u.setAttribute("value",E??g),this.data.doNotScroll&&(u.style.overflowX="hidden")),this.data.hasOwnCanvas&&(u.hidden=!0),ie.add(u),u.setAttribute("data-element-id",o),u.disabled=this.data.readOnly,u.name=this.data.fieldName,u.tabIndex=Nc,this._setRequired(u,this.data.required),y&&(u.maxLength=y),u.addEventListener("input",N=>{i.setValue(o,{value:N.target.value}),this.setPropertyOnSiblings(u,"value",N.target.value,"value"),T.formattedValue=null}),u.addEventListener("resetform",N=>{u.value=T.userValue=this.data.defaultFieldValue??"",T.formattedValue=null});let x=N=>{const{formattedValue:B}=T;null!=B&&(N.target.value=B),N.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){u.addEventListener("focus",B=>{if(T.focused)return;const{target:Y}=B;T.userValue&&(Y.value=T.userValue),T.lastCommittedValue=Y.value,T.commitKey=1,this.data.actions?.Focus||(T.focused=!0)}),u.addEventListener("updatefromsandbox",B=>{this.showElementAndHideCanvas(B.target),this._dispatchEventFromSandbox({value(se){T.userValue=se.detail.value??"",i.setValue(o,{value:T.userValue.toString()}),se.target.value=T.userValue},formattedValue(se){const{formattedValue:le}=se.detail;T.formattedValue=le,null!=le&&se.target!==document.activeElement&&(se.target.value=le),i.setValue(o,{formattedValue:le})},selRange(se){se.target.setSelectionRange(...se.detail.selRange)},charLimit:se=>{const{charLimit:le}=se.detail,{target:me}=se;if(0===le)return void me.removeAttribute("maxLength");me.setAttribute("maxLength",le);let Fe=T.userValue;!Fe||Fe.length<=le||(Fe=Fe.slice(0,le),me.value=T.userValue=Fe,i.setValue(o,{value:Fe}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:o,name:"Keystroke",value:Fe,willCommit:!0,commitKey:1,selStart:me.selectionStart,selEnd:me.selectionEnd}}))}},B)}),u.addEventListener("keydown",B=>{T.commitKey=1;let Y=-1;if("Escape"===B.key?Y=0:"Enter"!==B.key||this.data.multiLine?"Tab"===B.key&&(T.commitKey=3):Y=2,-1===Y)return;const{value:se}=B.target;T.lastCommittedValue!==se&&(T.lastCommittedValue=se,T.userValue=se,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:o,name:"Keystroke",value:se,willCommit:!0,commitKey:Y,selStart:B.target.selectionStart,selEnd:B.target.selectionEnd}}))});const N=x;x=null,u.addEventListener("blur",B=>{if(!T.focused||!B.relatedTarget)return;this.data.actions?.Blur||(T.focused=!1);const{value:Y}=B.target;T.userValue=Y,T.lastCommittedValue!==Y&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:o,name:"Keystroke",value:Y,willCommit:!0,commitKey:T.commitKey,selStart:B.target.selectionStart,selEnd:B.target.selectionEnd}}),N(B)}),this.data.actions?.Keystroke&&u.addEventListener("beforeinput",B=>{T.lastCommittedValue=null;const{data:Y,target:se}=B,{value:le,selectionStart:me,selectionEnd:Fe}=se;let Te=me,nt=Fe;switch(B.inputType){case"deleteWordBackward":{const ht=le.substring(0,me).match(/\w*[^\w]*$/);ht&&(Te-=ht[0].length);break}case"deleteWordForward":{const ht=le.substring(me).match(/^[^\w]*\w*/);ht&&(nt+=ht[0].length);break}case"deleteContentBackward":me===Fe&&(Te-=1);break;case"deleteContentForward":me===Fe&&(nt+=1)}B.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:o,name:"Keystroke",value:le,change:Y||"",willCommit:!1,selStart:Te,selEnd:nt}})}),this._setEventListeners(u,T,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],B=>B.target.value)}if(x&&u.addEventListener("blur",x),this.data.comb){const B=(this.data.rect[2]-this.data.rect[0])/y;u.classList.add("comb"),u.style.letterSpacing=`calc(${B}px * var(--scale-factor) - 1ch)`}}else u=document.createElement("div"),u.textContent=this.data.fieldValue,u.style.verticalAlign="middle",u.style.display="table-cell",this.data.hasOwnCanvas&&(u.hidden=!0);return this._setTextStyle(u),this._setBackgroundColor(u),this._setDefaultPropertiesFromJS(u),this.container.append(u),this.container}}class wi extends en{constructor(i){super(i,{isRenderable:!!i.data.hasOwnCanvas})}}class Ai extends en{constructor(i){super(i,{isRenderable:i.renderForms})}render(){const i=this.annotationStorage,o=this.data,u=o.id;let p=i.getValue(u,{value:o.exportValue===o.fieldValue}).value;"string"==typeof p&&(p="Off"!==p,i.setValue(u,{value:p})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const g=document.createElement("input");return ie.add(g),g.setAttribute("data-element-id",u),g.disabled=o.readOnly,this._setRequired(g,this.data.required),g.type="checkbox",g.name=o.fieldName,p&&g.setAttribute("checked",!0),g.setAttribute("exportValue",o.exportValue),g.tabIndex=Nc,g.addEventListener("change",y=>{const{name:E,checked:T}=y.target;for(const x of this._getElementsByName(E,u)){const N=T&&x.exportValue===o.exportValue;x.domElement&&(x.domElement.checked=N),i.setValue(x.id,{value:N})}i.setValue(u,{value:T})}),g.addEventListener("resetform",y=>{y.target.checked=(o.defaultFieldValue||"Off")===o.exportValue}),this.enableScripting&&this.hasJSActions&&(g.addEventListener("updatefromsandbox",y=>{this._dispatchEventFromSandbox({value(T){T.target.checked="Off"!==T.detail.value,i.setValue(u,{value:T.target.checked})}},y)}),this._setEventListeners(g,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],y=>y.target.checked)),this._setBackgroundColor(g),this._setDefaultPropertiesFromJS(g),this.container.append(g),this.container}}class ti extends en{constructor(i){super(i,{isRenderable:i.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const i=this.annotationStorage,o=this.data,u=o.id;let p=i.getValue(u,{value:o.fieldValue===o.buttonValue}).value;if("string"==typeof p&&(p=p!==o.buttonValue,i.setValue(u,{value:p})),p)for(const y of this._getElementsByName(o.fieldName,u))i.setValue(y.id,{value:!1});const g=document.createElement("input");if(ie.add(g),g.setAttribute("data-element-id",u),g.disabled=o.readOnly,this._setRequired(g,this.data.required),g.type="radio",g.name=o.fieldName,p&&g.setAttribute("checked",!0),g.tabIndex=Nc,g.addEventListener("change",y=>{const{name:E,checked:T}=y.target;for(const x of this._getElementsByName(E,u))i.setValue(x.id,{value:!1});i.setValue(u,{value:T})}),g.addEventListener("resetform",y=>{const E=o.defaultFieldValue;y.target.checked=null!=E&&E===o.buttonValue}),this.enableScripting&&this.hasJSActions){const y=o.buttonValue;g.addEventListener("updatefromsandbox",E=>{this._dispatchEventFromSandbox({value:x=>{const N=y===x.detail.value;for(const B of this._getElementsByName(x.target.name)){const Y=N&&B.id===u;B.domElement&&(B.domElement.checked=Y),i.setValue(B.id,{value:Y})}}},E)}),this._setEventListeners(g,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],E=>E.target.checked)}return this._setBackgroundColor(g),this._setDefaultPropertiesFromJS(g),this.container.append(g),this.container}}class Er extends lt{constructor(i){super(i,{ignoreBorder:i.data.hasAppearance})}render(){const i=super.render();i.classList.add("buttonWidgetAnnotation","pushButton");const o=i.lastChild;return this.enableScripting&&this.hasJSActions&&o&&(this._setDefaultPropertiesFromJS(o),o.addEventListener("updatefromsandbox",u=>{this._dispatchEventFromSandbox({},u)})),i}}class fi extends en{constructor(i){super(i,{isRenderable:i.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const i=this.annotationStorage,o=this.data.id,u=i.getValue(o,{value:this.data.fieldValue}),p=document.createElement("select");ie.add(p),p.setAttribute("data-element-id",o),p.disabled=this.data.readOnly,this._setRequired(p,this.data.required),p.name=this.data.fieldName,p.tabIndex=Nc;let g=this.data.combo&&this.data.options.length>0;this.data.combo||(p.size=this.data.options.length,this.data.multiSelect&&(p.multiple=!0)),p.addEventListener("resetform",N=>{const B=this.data.defaultFieldValue;for(const Y of p.options)Y.selected=Y.value===B});for(const N of this.data.options){const B=document.createElement("option");B.textContent=N.displayValue,B.value=N.exportValue,u.value.includes(N.exportValue)&&(B.setAttribute("selected",!0),g=!1),p.append(B)}let y=null;if(g){const N=document.createElement("option");N.value=" ",N.setAttribute("hidden",!0),N.setAttribute("selected",!0),p.prepend(N),y=()=>{N.remove(),p.removeEventListener("input",y),y=null},p.addEventListener("input",y)}const E=N=>{const B=N?"value":"textContent",{options:Y,multiple:se}=p;return se?Array.prototype.filter.call(Y,le=>le.selected).map(le=>le[B]):-1===Y.selectedIndex?null:Y[Y.selectedIndex][B]};let T=E(!1);const x=N=>Array.prototype.map.call(N.target.options,Y=>({displayValue:Y.textContent,exportValue:Y.value}));return this.enableScripting&&this.hasJSActions?(p.addEventListener("updatefromsandbox",N=>{this._dispatchEventFromSandbox({value(Y){y?.();const se=Y.detail.value,le=new Set(Array.isArray(se)?se:[se]);for(const me of p.options)me.selected=le.has(me.value);i.setValue(o,{value:E(!0)}),T=E(!1)},multipleSelection(Y){p.multiple=!0},remove(Y){const se=p.options,le=Y.detail.remove;se[le].selected=!1,p.remove(le),se.length>0&&-1===Array.prototype.findIndex.call(se,Fe=>Fe.selected)&&(se[0].selected=!0),i.setValue(o,{value:E(!0),items:x(Y)}),T=E(!1)},clear(Y){for(;0!==p.length;)p.remove(0);i.setValue(o,{value:null,items:[]}),T=E(!1)},insert(Y){const{index:se,displayValue:le,exportValue:me}=Y.detail.insert,Fe=p.children[se],Te=document.createElement("option");Te.textContent=le,Te.value=me,Fe?Fe.before(Te):p.append(Te),i.setValue(o,{value:E(!0),items:x(Y)}),T=E(!1)},items(Y){const{items:se}=Y.detail;for(;0!==p.length;)p.remove(0);for(const le of se){const{displayValue:me,exportValue:Fe}=le,Te=document.createElement("option");Te.textContent=me,Te.value=Fe,p.append(Te)}p.options.length>0&&(p.options[0].selected=!0),i.setValue(o,{value:E(!0),items:x(Y)}),T=E(!1)},indices(Y){const se=new Set(Y.detail.indices);for(const le of Y.target.options)le.selected=se.has(le.index);i.setValue(o,{value:E(!0)}),T=E(!1)},editable(Y){Y.target.disabled=!Y.detail.editable}},N)}),p.addEventListener("input",N=>{const B=E(!0),Y=E(!1);i.setValue(o,{value:B}),N.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:o,name:"Keystroke",value:T,change:Y,changeEx:B,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(p,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],N=>N.target.value)):p.addEventListener("input",function(N){i.setValue(o,{value:E(!0)})}),this.data.combo&&this._setTextStyle(p),this._setBackgroundColor(p),this._setDefaultPropertiesFromJS(p),this.container.append(p),this.container}}class ut extends ye{constructor(i){const{data:o,elements:u}=i;super(i,{isRenderable:ye._hasPopupData(o)}),this.elements=u,this.popup=null}render(){this.container.classList.add("popupAnnotation");const i=this.popup=new Ds({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),o=[];for(const u of this.elements)u.popup=i,o.push(u.data.id),u.addHighlightArea();return this.container.setAttribute("aria-controls",o.map(u=>`${Cn}${u}`).join(",")),this.container}}class Ds{#e=this.#M.bind(this);#t=this.#I.bind(this);#n=this.#D.bind(this);#i=this.#A.bind(this);#r=null;#s=null;#a=null;#l=null;#d=null;#c=null;#u=null;#o=!1;#h=null;#p=null;#f=null;#g=null;#_=null;#m=null;#y=!1;constructor({container:i,color:o,elements:u,titleObj:p,modificationDate:g,contentsObj:y,richText:E,parent:T,rect:x,parentRect:N,open:B}){this.#s=i,this.#_=p,this.#a=y,this.#g=E,this.#c=T,this.#r=o,this.#f=x,this.#u=N,this.#d=u,this.#l=vi.toDateObject(g),this.trigger=u.flatMap(Y=>Y.getElementsToTriggerPopup());for(const Y of this.trigger)Y.addEventListener("click",this.#i),Y.addEventListener("mouseenter",this.#n),Y.addEventListener("mouseleave",this.#t),Y.classList.add("popupTriggerArea");for(const Y of u)Y.container?.addEventListener("keydown",this.#e);this.#s.hidden=!0,B&&this.#A()}render(){if(this.#h)return;const i=this.#h=document.createElement("div");if(i.className="popup",this.#r){const g=i.style.outlineColor=un.makeHexColor(...this.#r);i.style.backgroundColor=CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?`color-mix(in srgb, ${g} 30%, white)`:un.makeHexColor(...this.#r.map(E=>Math.floor(.7*(255-E)+E)))}const o=document.createElement("span");o.className="header";const u=document.createElement("h1");if(o.append(u),({dir:u.dir,str:u.textContent}=this.#_),i.append(o),this.#l){const g=document.createElement("span");g.classList.add("popupDate"),g.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),g.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#l.valueOf()})),o.append(g)}const p=this.#E;if(p)Nl.render({xfaHtml:p,intent:"richText",div:i}),i.lastChild.classList.add("richText","popupContent");else{const g=this._formatContents(this.#a);i.append(g)}this.#s.append(i)}get#E(){const i=this.#g,o=this.#a;return i?.str&&(!o?.str||o.str===i.str)&&this.#g.html||null}get#w(){return this.#E?.attributes?.style?.fontSize||0}get#b(){return this.#E?.attributes?.style?.color||null}#C(i){const o=[],u={str:i,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:o}]}},p={style:{color:this.#b,fontSize:this.#w?`calc(${this.#w}px * var(--scale-factor))`:""}};for(const g of i.split("\n"))o.push({name:"span",value:g,attributes:p});return u}_formatContents({str:i,dir:o}){const u=document.createElement("p");u.classList.add("popupContent"),u.dir=o;const p=i.split(/(?:\r\n?|\n)/);for(let g=0,y=p.length;g<y;++g)u.append(document.createTextNode(p[g])),g<y-1&&u.append(document.createElement("br"));return u}#M(i){i.altKey||i.shiftKey||i.ctrlKey||i.metaKey||("Enter"===i.key||"Escape"===i.key&&this.#o)&&this.#A()}updateEdited({rect:i,popupContent:o}){this.#m||={contentsObj:this.#a,richText:this.#g},i&&(this.#p=null),o&&(this.#g=this.#C(o),this.#a=null),this.#h?.remove(),this.#h=null}resetEdited(){this.#m&&(({contentsObj:this.#a,richText:this.#g}=this.#m),this.#m=null,this.#h?.remove(),this.#h=null,this.#p=null)}#S(){if(null!==this.#p)return;const{page:{view:i},viewport:{rawDims:{pageWidth:o,pageHeight:u,pageX:p,pageY:g}}}=this.#c;let y=!!this.#u,E=y?this.#u:this.#f;for(const le of this.#d)if(!E||null!==un.intersect(le.data.rect,E)){E=le.data.rect,y=!0;break}const T=un.normalizeRect([E[0],i[3]-E[1]+i[1],E[2],i[3]-E[3]+i[1]]);this.#p=[100*(T[0]+(y?E[2]-E[0]+5:0)-p)/o,100*(T[1]-g)/u];const{style:se}=this.#s;se.left=`${this.#p[0]}%`,se.top=`${this.#p[1]}%`}#A(){this.#o=!this.#o,this.#o?(this.#D(),this.#s.addEventListener("click",this.#i),this.#s.addEventListener("keydown",this.#e)):(this.#I(),this.#s.removeEventListener("click",this.#i),this.#s.removeEventListener("keydown",this.#e))}#D(){this.#h||this.render(),this.isVisible?this.#o&&this.#s.classList.add("focused"):(this.#S(),this.#s.hidden=!1,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)+1e3)}#I(){this.#s.classList.remove("focused"),!this.#o&&this.isVisible&&(this.#s.hidden=!0,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)-1e3)}forceHide(){this.#y=this.isVisible,this.#y&&(this.#s.hidden=!0)}maybeShow(){this.#y&&(this.#h||this.#D(),this.#y=!1,this.#s.hidden=!1)}get isVisible(){return!1===this.#s.hidden}}class io extends ye{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0}),this.textContent=i.data.textContent,this.textPosition=i.data.textPosition,this.annotationEditorType=Xe.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const i=document.createElement("div");i.classList.add("annotationTextContent"),i.setAttribute("role","comment");for(const o of this.textContent){const u=document.createElement("span");u.textContent=o,i.append(u)}this.container.append(i)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class Wa extends ye{#e=null;constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const i=this.data,{width:o,height:u}=j(i.rect),p=this.svgFactory.create(o,u,!0),g=this.#e=this.svgFactory.createElement("svg:line");return g.setAttribute("x1",i.rect[2]-i.lineCoordinates[0]),g.setAttribute("y1",i.rect[3]-i.lineCoordinates[1]),g.setAttribute("x2",i.rect[2]-i.lineCoordinates[2]),g.setAttribute("y2",i.rect[3]-i.lineCoordinates[3]),g.setAttribute("stroke-width",i.borderStyle.width||1),g.setAttribute("stroke","transparent"),g.setAttribute("fill","transparent"),p.append(g),this.container.append(p),!i.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class zo extends ye{#e=null;constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const i=this.data,{width:o,height:u}=j(i.rect),p=this.svgFactory.create(o,u,!0),g=i.borderStyle.width,y=this.#e=this.svgFactory.createElement("svg:rect");return y.setAttribute("x",g/2),y.setAttribute("y",g/2),y.setAttribute("width",o-g),y.setAttribute("height",u-g),y.setAttribute("stroke-width",g||1),y.setAttribute("stroke","transparent"),y.setAttribute("fill","transparent"),p.append(y),this.container.append(p),!i.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Aa extends ye{#e=null;constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const i=this.data,{width:o,height:u}=j(i.rect),p=this.svgFactory.create(o,u,!0),g=i.borderStyle.width,y=this.#e=this.svgFactory.createElement("svg:ellipse");return y.setAttribute("cx",o/2),y.setAttribute("cy",u/2),y.setAttribute("rx",o/2-g/2),y.setAttribute("ry",u/2-g/2),y.setAttribute("stroke-width",g||1),y.setAttribute("stroke","transparent"),y.setAttribute("fill","transparent"),p.append(y),this.container.append(p),!i.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Co extends ye{#e=null;constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:i,vertices:o,borderStyle:u,popupRef:p}}=this;if(!o)return this.container;const{width:g,height:y}=j(i),E=this.svgFactory.create(g,y,!0);let T=[];for(let N=0,B=o.length;N<B;N+=2)T.push(`${o[N]-i[0]},${i[3]-o[N+1]}`);T=T.join(" ");const x=this.#e=this.svgFactory.createElement(this.svgElementName);return x.setAttribute("points",T),x.setAttribute("stroke-width",u.width||1),x.setAttribute("stroke","transparent"),x.setAttribute("fill","transparent"),E.append(x),this.container.append(E),!p&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class oa extends Co{constructor(i){super(i),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class kl extends ye{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class kc extends ye{#e=[];constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=Xe.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:i,inkLists:o,borderStyle:u,popupRef:p}}=this,{width:g,height:y}=j(i),E=this.svgFactory.create(g,y,!0);for(const T of o){let x=[];for(let B=0,Y=T.length;B<Y;B+=2)x.push(`${T[B]-i[0]},${i[3]-T[B+1]}`);x=x.join(" ");const N=this.svgFactory.createElement(this.svgElementName);this.#e.push(N),N.setAttribute("points",x),N.setAttribute("stroke-width",u.width||1),N.setAttribute("stroke","transparent"),N.setAttribute("fill","transparent"),!p&&this.hasPopupData&&this._createPopup(),E.append(N)}return this.container.append(E),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class To extends ye{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class fg extends ye{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Fu extends ye{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class Qi extends ye{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class ml extends ye{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class hc extends ye{#e=null;constructor(i){super(i,{isRenderable:!0});const{file:o}=this.data;this.filename=o.filename,this.content=o.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...o})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:i,data:o}=this;let u;o.hasAppearance||0===o.fillAlpha?u=document.createElement("div"):(u=document.createElement("img"),u.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(o.name)?"paperclip":"pushpin"}.svg`,o.fillAlpha&&o.fillAlpha<1&&(u.style=`filter: opacity(${Math.round(100*o.fillAlpha)}%);`)),u.addEventListener("dblclick",this.#t.bind(this)),this.#e=u;const{isMac:p}=zi.platform;return i.addEventListener("keydown",g=>{"Enter"===g.key&&(p?g.metaKey:g.ctrlKey)&&this.#t()}),!o.popupRef&&this.hasPopupData?this._createPopup():u.classList.add("popupTriggerArea"),i.append(u),i}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}class $s{#e=null;#t=null;#n=new Map;constructor({div:i,accessibilityManager:o,annotationCanvasMap:u,annotationEditorUIManager:p,page:g,viewport:y}){this.div=i,this.#e=o,this.#t=u,this.page=g,this.viewport=y,this.zIndex=0,this._annotationEditorUIManager=p}hasEditableAnnotations(){return this.#n.size>0}#i(i,o){const u=i.firstChild||i;u.id=`${Cn}${o}`,this.div.append(i),this.#e?.moveElementInDOM(this.div,i,u,!1)}render(i){var o=this;return(0,ae.Z)(function*(){const{annotations:u}=i,p=o.div;St(p,o.viewport);const g=new Map,y={data:null,layer:p,linkService:i.linkService,downloadManager:i.downloadManager,imageResourcesPath:i.imageResourcesPath||"",renderForms:!1!==i.renderForms,svgFactory:new ji,annotationStorage:i.annotationStorage||new hs,enableScripting:!0===i.enableScripting,hasJSActions:i.hasJSActions,fieldObjects:i.fieldObjects,parent:o,elements:null};for(const E of u){if(E.noHTML)continue;const T=16===E.annotationType;if(T){const B=g.get(E.id);if(!B)continue;y.elements=B}else{const{width:B,height:Y}=j(E.rect);if(B<=0||Y<=0)continue}y.data=E;const x=X.create(y);if(!x.isRenderable)continue;if(!T&&E.popupRef){const B=g.get(E.popupRef);B?B.push(x):g.set(E.popupRef,[x])}const N=x.render();E.hidden&&(N.style.visibility="hidden"),o.#i(N,E.id),x._isEditable&&(o.#n.set(x.data.id,x),o._annotationEditorUIManager?.renderAnnotationElement(x))}o.#r()})()}update({viewport:i}){const o=this.div;this.viewport=i,St(o,{rotation:i.rotation}),this.#r(),o.hidden=!1}#r(){if(!this.#t)return;const i=this.div;for(const[o,u]of this.#t){const p=i.querySelector(`[data-annotation-id="${o}"]`);if(!p)continue;u.className="annotationContent";const{firstChild:g}=p;g?"CANVAS"===g.nodeName?g.replaceWith(u):g.classList.contains("annotationContent")?g.after(u):g.before(u):p.append(u)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(i){return this.#n.get(i)}}const Vu=/\r\n?|\n/g;class Zi extends Dt{#e;#t="";#n=`${this.id}-editor`;#i=null;#r;#s=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const i=Zi.prototype,o=g=>g.isEmpty(),u=ni.TRANSLATE_SMALL,p=ni.TRANSLATE_BIG;return gn(this,"_keyboardManager",new Ei([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],i.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],i.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],i._translateEmpty,{args:[-u,0],checker:o}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],i._translateEmpty,{args:[-p,0],checker:o}],[["ArrowRight","mac+ArrowRight"],i._translateEmpty,{args:[u,0],checker:o}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],i._translateEmpty,{args:[p,0],checker:o}],[["ArrowUp","mac+ArrowUp"],i._translateEmpty,{args:[0,-u],checker:o}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],i._translateEmpty,{args:[0,-p],checker:o}],[["ArrowDown","mac+ArrowDown"],i._translateEmpty,{args:[0,u],checker:o}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],i._translateEmpty,{args:[0,p],checker:o}]]))}static _type="freetext";static _editorType=Xe.FREETEXT;constructor(i){super({...i,name:"freeTextEditor"}),this.#e=i.color||Zi._defaultColor||Dt._defaultLineColor,this.#r=i.fontSize||Zi._defaultFontSize}static initialize(i,o){Dt.initialize(i,o,{strings:["pdfjs-free-text-default-content"]});const u=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(u.getPropertyValue("--freetext-padding"))}static updateDefaultParams(i,o){switch(i){case pe.FREETEXT_SIZE:Zi._defaultFontSize=o;break;case pe.FREETEXT_COLOR:Zi._defaultColor=o}}updateParams(i,o){switch(i){case pe.FREETEXT_SIZE:this.#a(o);break;case pe.FREETEXT_COLOR:this.#l(o)}}static get defaultPropertiesToUpdate(){return[[pe.FREETEXT_SIZE,Zi._defaultFontSize],[pe.FREETEXT_COLOR,Zi._defaultColor||Dt._defaultLineColor]]}get propertiesToUpdate(){return[[pe.FREETEXT_SIZE,this.#r],[pe.FREETEXT_COLOR,this.#e]]}#a(i){const o=p=>{this.editorDiv.style.fontSize=`calc(${p}px * var(--scale-factor))`,this.translate(0,-(p-this.#r)*this.parentScale),this.#r=p,this.#c()},u=this.#r;this.addCommands({cmd:o.bind(this,i),undo:o.bind(this,u),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:pe.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#l(i){const o=p=>{this.#e=this.editorDiv.style.color=p},u=this.#e;this.addCommands({cmd:o.bind(this,i),undo:o.bind(this,u),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:pe.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(i,o){this._uiManager.translateSelectedEditors(i,o,!0)}getInitialTranslation(){const i=this.parentScale;return[-Zi._internalPadding*i,-(Zi._internalPadding+this.#r)*i]}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Xe.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#i=new AbortController;const i=this._uiManager.combinedSignal(this.#i);this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:i}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:i}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:i}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:i}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:i})}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#n),this._isDraggable=!0,this.#i?.abort(),this.#i=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(i){this._focusEventsAllowed&&(super.focusin(i),i.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#d(){const i=[];this.editorDiv.normalize();for(const o of this.editorDiv.childNodes)i.push(Zi.#u(o));return i.join("\n")}#c(){const[i,o]=this.parentDimensions;let u;if(this.isAttachedToDOM)u=this.div.getBoundingClientRect();else{const{currentLayer:p,div:g}=this,y=g.style.display,E=g.classList.contains("hidden");g.classList.remove("hidden"),g.style.display="hidden",p.div.append(this.div),u=g.getBoundingClientRect(),g.remove(),g.style.display=y,g.classList.toggle("hidden",E)}this.rotation%180==this.parentRotation%180?(this.width=u.width/i,this.height=u.height/o):(this.width=u.height/i,this.height=u.width/o),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const i=this.#t,o=this.#t=this.#d().trimEnd();if(i===o)return;const u=p=>{this.#t=p,p?(this.#o(),this._uiManager.rebuild(this),this.#c()):this.remove()};this.addCommands({cmd:()=>{u(o)},undo:()=>{u(i)},mustExec:!1}),this.#c()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(i){this.enterInEditMode()}keydown(i){i.target===this.div&&"Enter"===i.key&&(this.enterInEditMode(),i.preventDefault())}editorDivKeydown(i){Zi._keyboardManager.exec(this,i)}editorDivFocus(i){this.isEditing=!0}editorDivBlur(i){this.isEditing=!1}editorDivInput(i){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let i,o;this.width&&(i=this.x,o=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#n),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),Dt._l10nPromise.get("pdfjs-free-text-default-content").then(p=>this.editorDiv?.setAttribute("default-content",p)),this.editorDiv.contentEditable=!0;const{style:u}=this.editorDiv;if(u.fontSize=`calc(${this.#r}px * var(--scale-factor))`,u.color=this.#e,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),vn(this,this.div,["dblclick","keydown"]),this.width){const[p,g]=this.parentDimensions;if(this.annotationElementId){const{position:y}=this.#s;let[E,T]=this.getInitialTranslation();[E,T]=this.pageTranslationToScreen(E,T);const[x,N]=this.pageDimensions,[B,Y]=this.pageTranslation;let se,le;switch(this.rotation){case 0:se=i+(y[0]-B)/x,le=o+this.height-(y[1]-Y)/N;break;case 90:se=i+(y[0]-B)/x,le=o-(y[1]-Y)/N,[E,T]=[T,-E];break;case 180:se=i-this.width+(y[0]-B)/x,le=o-(y[1]-Y)/N,[E,T]=[-E,-T];break;case 270:se=i+(y[0]-B-this.height*N)/x,le=o+(y[1]-Y-this.width*x)/N,[E,T]=[-T,E]}this.setAt(se*p,le*g,E,T)}else this.setAt(i*p,o*g,this.width*p,this.height*g);this.#o(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#u(i){return(i.nodeType===Node.TEXT_NODE?i.nodeValue:i.innerText).replaceAll(Vu,"")}editorDivPaste(i){const o=i.clipboardData||window.clipboardData,{types:u}=o;if(1===u.length&&"text/plain"===u[0])return;i.preventDefault();const p=Zi.#p(o.getData("text")||"").replaceAll(Vu,"\n");if(!p)return;const g=window.getSelection();if(!g.rangeCount)return;this.editorDiv.normalize(),g.deleteFromDocument();const y=g.getRangeAt(0);if(!p.includes("\n"))return y.insertNode(document.createTextNode(p)),this.editorDiv.normalize(),void g.collapseToStart();const{startContainer:E,startOffset:T}=y,x=[],N=[];if(E.nodeType===Node.TEXT_NODE){const se=E.parentElement;if(N.push(E.nodeValue.slice(T).replaceAll(Vu,"")),se!==this.editorDiv){let le=x;for(const me of this.editorDiv.childNodes)me!==se?le.push(Zi.#u(me)):le=N}x.push(E.nodeValue.slice(0,T).replaceAll(Vu,""))}else if(E===this.editorDiv){let se=x,le=0;for(const me of this.editorDiv.childNodes)le++===T&&(se=N),se.push(Zi.#u(me))}this.#t=`${x.join("\n")}${p}${N.join("\n")}`,this.#o();const B=new Range;let Y=x.reduce((se,le)=>se+le.length,0);for(const{firstChild:se}of this.editorDiv.childNodes)if(se.nodeType===Node.TEXT_NODE){const le=se.nodeValue.length;if(Y<=le){B.setStart(se,Y),B.setEnd(se,Y);break}Y-=le}g.removeAllRanges(),g.addRange(B)}#o(){if(this.editorDiv.replaceChildren(),this.#t)for(const i of this.#t.split("\n")){const o=document.createElement("div");o.append(i?document.createTextNode(i):document.createElement("br")),this.editorDiv.append(o)}}#h(){return this.#t.replaceAll("\xa0"," ")}static#p(i){return i.replaceAll(" ","\xa0")}get contentDiv(){return this.editorDiv}static deserialize(i,o,u){let p=null;if(i instanceof io){const{data:{defaultAppearanceData:{fontSize:y,fontColor:E},rect:T,rotation:x,id:N},textContent:B,textPosition:Y,parent:{page:{pageNumber:se}}}=i;if(!B||0===B.length)return null;p=i={annotationType:Xe.FREETEXT,color:Array.from(E),fontSize:y,value:B.join("\n"),position:Y,pageIndex:se-1,rect:T.slice(0),rotation:x,id:N,deleted:!1}}const g=super.deserialize(i,o,u);return g.#r=i.fontSize,g.#e=un.makeHexColor(...i.color),g.#t=Zi.#p(i.value),g.annotationElementId=i.id||null,g.#s=p,g}serialize(i=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const o=Zi._internalPadding*this.parentScale,u=this.getRect(o,o),p=Dt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#e),g={annotationType:Xe.FREETEXT,color:p,fontSize:this.#r,value:this.#h(),pageIndex:this.pageIndex,rect:u,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return i?g:this.annotationElementId&&!this.#f(g)?null:(g.id=this.annotationElementId,g)}#f(i){const{value:o,fontSize:u,color:p,pageIndex:g}=this.#s;return this._hasBeenMoved||i.value!==o||i.fontSize!==u||i.color.some((y,E)=>y!==p[E])||i.pageIndex!==g}renderAnnotationElement(i){const o=super.renderAnnotationElement(i);if(this.deleted)return o;const{style:u}=o;u.fontSize=`calc(${this.#r}px * var(--scale-factor))`,u.color=this.#e,o.replaceChildren();for(const g of this.#t.split("\n")){const y=document.createElement("div");y.append(g?document.createTextNode(g):document.createElement("br")),o.append(y)}const p=Zi._internalPadding*this.parentScale;return i.updateEdited({rect:this.getRect(p,p),popupContent:this.#t}),o}resetAnnotationElement(i){super.resetAnnotationElement(i),i.resetEdited()}}class qr{#e;#t=[];#n=[];constructor(i,o=0,u=0,p=!0){let g=1/0,y=-1/0,E=1/0,T=-1/0;const N=10**-4;for(const{x:Te,y:nt,width:ht,height:dt}of i){const At=Math.floor((Te-o)/N)*N,Et=Math.ceil((Te+ht+o)/N)*N,It=Math.floor((nt-o)/N)*N,Lt=Math.ceil((nt+dt+o)/N)*N;this.#t.push([At,It,Lt,!0],[Et,It,Lt,!1]),g=Math.min(g,At),y=Math.max(y,Et),E=Math.min(E,It),T=Math.max(T,Lt)}const B=y-g+2*u,Y=T-E+2*u,se=g-u,le=E-u,me=this.#t.at(p?-1:-2),Fe=[me[0],me[2]];for(const Te of this.#t){const[nt,ht,dt]=Te;Te[0]=(nt-se)/B,Te[1]=(ht-le)/Y,Te[2]=(dt-le)/Y}this.#e={x:se,y:le,width:B,height:Y,lastPoint:Fe}}getOutlines(){this.#t.sort((o,u)=>o[0]-u[0]||o[1]-u[1]||o[2]-u[2]);const i=[];for(const o of this.#t)o[3]?(i.push(...this.#l(o)),this.#s(o)):(this.#a(o),i.push(...this.#l(o)));return this.#i(i)}#i(i){const o=[],u=new Set;for(const y of i){const[E,T,x]=y;o.push([E,T,y],[E,x,y])}o.sort((y,E)=>y[1]-E[1]||y[0]-E[0]);for(let y=0,E=o.length;y<E;y+=2){const T=o[y][2],x=o[y+1][2];T.push(x),x.push(T),u.add(T),u.add(x)}const p=[];let g;for(;u.size>0;){const y=u.values().next().value;let[E,T,x,N,B]=y;u.delete(y);let Y=E,se=T;for(g=[E,x],p.push(g);;){let le;if(u.has(N))le=N;else{if(!u.has(B))break;le=B}u.delete(le),[E,T,x,N,B]=le,Y!==E&&(g.push(Y,se,E,se===T?T:x),Y=E),se=se===T?x:T}g.push(Y,se)}return new gf(p,this.#e)}#r(i){const o=this.#n;let u=0,p=o.length-1;for(;u<=p;){const g=u+p>>1,y=o[g][0];if(y===i)return g;y<i?u=g+1:p=g-1}return p+1}#s([,i,o]){const u=this.#r(i);this.#n.splice(u,0,[i,o])}#a([,i,o]){const u=this.#r(i);for(let p=u;p<this.#n.length;p++){const[g,y]=this.#n[p];if(g!==i)break;if(g===i&&y===o)return void this.#n.splice(p,1)}for(let p=u-1;p>=0;p--){const[g,y]=this.#n[p];if(g!==i)break;if(g===i&&y===o)return void this.#n.splice(p,1)}}#l(i){const[o,u,p]=i,g=[[o,u,p]],y=this.#r(p);for(let E=0;E<y;E++){const[T,x]=this.#n[E];for(let N=0,B=g.length;N<B;N++){const[,Y,se]=g[N];if(!(x<=Y||se<=T)){if(Y>=T){if(se>x)g[N][1]=x;else{if(1===B)return[];g.splice(N,1),N--,B--}continue}g[N][2]=T,se>x&&g.push([o,x,se])}}}return g}}class ro{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(i,o){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof Lc}}class gf extends ro{#e;#t;constructor(i,o){super(),this.#t=i,this.#e=o}toSVGPath(){const i=[];for(const o of this.#t){let[u,p]=o;i.push(`M${u} ${p}`);for(let g=2;g<o.length;g+=2){const y=o[g],E=o[g+1];y===u?(i.push(`V${E}`),p=E):E===p&&(i.push(`H${y}`),u=y)}i.push("Z")}return i.join(" ")}serialize([i,o,u,p],g){const y=[],E=u-i,T=p-o;for(const x of this.#t){const N=new Array(x.length);for(let B=0;B<x.length;B+=2)N[B]=i+x[B]*E,N[B+1]=p-x[B+1]*T;y.push(N)}return y}get box(){return this.#e}}class Io{#e;#t=[];#n;#i;#r=[];#s=new Float64Array(18);#a;#l;#d;#c;#u;#o;#h=[];static#p=8;static#f=2;static#g=Io.#p+Io.#f;constructor({x:i,y:o},u,p,g,y,E=0){this.#e=u,this.#o=g*p,this.#i=y,this.#s.set([NaN,NaN,NaN,NaN,i,o],6),this.#n=E,this.#c=Io.#p*p,this.#d=Io.#g*p,this.#u=p,this.#h.push(i,o)}get free(){return!0}isEmpty(){return isNaN(this.#s[8])}#_(){const i=this.#s.subarray(4,6),o=this.#s.subarray(16,18),[u,p,g,y]=this.#e;return[(this.#a+(i[0]-o[0])/2-u)/g,(this.#l+(i[1]-o[1])/2-p)/y,(this.#a+(o[0]-i[0])/2-u)/g,(this.#l+(o[1]-i[1])/2-p)/y]}add({x:i,y:o}){this.#a=i,this.#l=o;const[u,p,g,y]=this.#e;let[E,T,x,N]=this.#s.subarray(8,12);const B=i-x,Y=o-N,se=Math.hypot(B,Y);if(se<this.#d)return!1;const le=se-this.#c,me=le/se,Fe=me*B,Te=me*Y;let nt=E,ht=T;E=x,T=N,x+=Fe,N+=Te,this.#h?.push(i,o);const Et=-Te/le*this.#o,It=Fe/le*this.#o;return this.#s.set(this.#s.subarray(2,8),0),this.#s.set([x+Et,N+It],4),this.#s.set(this.#s.subarray(14,18),12),this.#s.set([x-Et,N-It],16),isNaN(this.#s[6])?(0===this.#r.length&&(this.#s.set([E+Et,T+It],2),this.#r.push(NaN,NaN,NaN,NaN,(E+Et-u)/g,(T+It-p)/y),this.#s.set([E-Et,T-It],14),this.#t.push(NaN,NaN,NaN,NaN,(E-Et-u)/g,(T-It-p)/y)),this.#s.set([nt,ht,E,T,x,N],6),!this.isEmpty()):(this.#s.set([nt,ht,E,T,x,N],6),Math.abs(Math.atan2(ht-T,nt-E)-Math.atan2(Te,Fe))<Math.PI/2?([E,T,x,N]=this.#s.subarray(2,6),this.#r.push(NaN,NaN,NaN,NaN,((E+x)/2-u)/g,((T+N)/2-p)/y),[E,T,nt,ht]=this.#s.subarray(14,18),this.#t.push(NaN,NaN,NaN,NaN,((nt+E)/2-u)/g,((ht+T)/2-p)/y),!0):([nt,ht,E,T,x,N]=this.#s.subarray(0,6),this.#r.push(((nt+5*E)/6-u)/g,((ht+5*T)/6-p)/y,((5*E+x)/6-u)/g,((5*T+N)/6-p)/y,((E+x)/2-u)/g,((T+N)/2-p)/y),[x,N,E,T,nt,ht]=this.#s.subarray(12,18),this.#t.push(((nt+5*E)/6-u)/g,((ht+5*T)/6-p)/y,((5*E+x)/6-u)/g,((5*T+N)/6-p)/y,((E+x)/2-u)/g,((T+N)/2-p)/y),!0))}toSVGPath(){if(this.isEmpty())return"";const i=this.#r,o=this.#t,u=this.#s.subarray(4,6),p=this.#s.subarray(16,18),[g,y,E,T]=this.#e,[x,N,B,Y]=this.#_();if(isNaN(this.#s[6])&&!this.isEmpty())return`M${(this.#s[2]-g)/E} ${(this.#s[3]-y)/T} L${(this.#s[4]-g)/E} ${(this.#s[5]-y)/T} L${x} ${N} L${B} ${Y} L${(this.#s[16]-g)/E} ${(this.#s[17]-y)/T} L${(this.#s[14]-g)/E} ${(this.#s[15]-y)/T} Z`;const se=[];se.push(`M${i[4]} ${i[5]}`);for(let le=6;le<i.length;le+=6)isNaN(i[le])?se.push(`L${i[le+4]} ${i[le+5]}`):se.push(`C${i[le]} ${i[le+1]} ${i[le+2]} ${i[le+3]} ${i[le+4]} ${i[le+5]}`);se.push(`L${(u[0]-g)/E} ${(u[1]-y)/T} L${x} ${N} L${B} ${Y} L${(p[0]-g)/E} ${(p[1]-y)/T}`);for(let le=o.length-6;le>=6;le-=6)isNaN(o[le])?se.push(`L${o[le+4]} ${o[le+5]}`):se.push(`C${o[le]} ${o[le+1]} ${o[le+2]} ${o[le+3]} ${o[le+4]} ${o[le+5]}`);return se.push(`L${o[4]} ${o[5]} Z`),se.join(" ")}getOutlines(){const i=this.#r,o=this.#t,u=this.#s,p=u.subarray(4,6),g=u.subarray(16,18),[y,E,T,x]=this.#e,N=new Float64Array((this.#h?.length??0)+2);for(let Te=0,nt=N.length-2;Te<nt;Te+=2)N[Te]=(this.#h[Te]-y)/T,N[Te+1]=(this.#h[Te+1]-E)/x;N[N.length-2]=(this.#a-y)/T,N[N.length-1]=(this.#l-E)/x;const[B,Y,se,le]=this.#_();if(isNaN(u[6])&&!this.isEmpty()){const Te=new Float64Array(36);return Te.set([NaN,NaN,NaN,NaN,(u[2]-y)/T,(u[3]-E)/x,NaN,NaN,NaN,NaN,(u[4]-y)/T,(u[5]-E)/x,NaN,NaN,NaN,NaN,B,Y,NaN,NaN,NaN,NaN,se,le,NaN,NaN,NaN,NaN,(u[16]-y)/T,(u[17]-E)/x,NaN,NaN,NaN,NaN,(u[14]-y)/T,(u[15]-E)/x],0),new Lc(Te,N,this.#e,this.#u,this.#n,this.#i)}const me=new Float64Array(this.#r.length+24+this.#t.length);let Fe=i.length;for(let Te=0;Te<Fe;Te+=2)isNaN(i[Te])?me[Te]=me[Te+1]=NaN:(me[Te]=i[Te],me[Te+1]=i[Te+1]);me.set([NaN,NaN,NaN,NaN,(p[0]-y)/T,(p[1]-E)/x,NaN,NaN,NaN,NaN,B,Y,NaN,NaN,NaN,NaN,se,le,NaN,NaN,NaN,NaN,(g[0]-y)/T,(g[1]-E)/x],Fe),Fe+=24;for(let Te=o.length-6;Te>=6;Te-=6)for(let nt=0;nt<6;nt+=2)isNaN(o[Te+nt])?(me[Fe]=me[Fe+1]=NaN,Fe+=2):(me[Fe]=o[Te+nt],me[Fe+1]=o[Te+nt+1],Fe+=2);return me.set([NaN,NaN,NaN,NaN,o[4],o[5]],Fe),new Lc(me,N,this.#e,this.#u,this.#n,this.#i)}}class Lc extends ro{#e;#t=null;#n;#i;#r;#s;#a;constructor(i,o,u,p,g,y){super(),this.#a=i,this.#r=o,this.#e=u,this.#s=p,this.#n=g,this.#i=y,this.#c(y);const{x:E,y:T,width:x,height:N}=this.#t;for(let B=0,Y=i.length;B<Y;B+=2)i[B]=(i[B]-E)/x,i[B+1]=(i[B+1]-T)/N;for(let B=0,Y=o.length;B<Y;B+=2)o[B]=(o[B]-E)/x,o[B+1]=(o[B+1]-T)/N}toSVGPath(){const i=[`M${this.#a[4]} ${this.#a[5]}`];for(let o=6,u=this.#a.length;o<u;o+=6)isNaN(this.#a[o])?i.push(`L${this.#a[o+4]} ${this.#a[o+5]}`):i.push(`C${this.#a[o]} ${this.#a[o+1]} ${this.#a[o+2]} ${this.#a[o+3]} ${this.#a[o+4]} ${this.#a[o+5]}`);return i.push("Z"),i.join(" ")}serialize([i,o,u,p],g){const y=u-i,E=p-o;let T,x;switch(g){case 0:T=this.#l(this.#a,i,p,y,-E),x=this.#l(this.#r,i,p,y,-E);break;case 90:T=this.#d(this.#a,i,o,y,E),x=this.#d(this.#r,i,o,y,E);break;case 180:T=this.#l(this.#a,u,o,-y,E),x=this.#l(this.#r,u,o,-y,E);break;case 270:T=this.#d(this.#a,u,p,-y,-E),x=this.#d(this.#r,u,p,-y,-E)}return{outline:Array.from(T),points:[Array.from(x)]}}#l(i,o,u,p,g){const y=new Float64Array(i.length);for(let E=0,T=i.length;E<T;E+=2)y[E]=o+i[E]*p,y[E+1]=u+i[E+1]*g;return y}#d(i,o,u,p,g){const y=new Float64Array(i.length);for(let E=0,T=i.length;E<T;E+=2)y[E]=o+i[E+1]*p,y[E+1]=u+i[E]*g;return y}#c(i){const o=this.#a;let u=o[4],p=o[5],g=u,y=p,E=u,T=p,x=u,N=p;const B=i?Math.max:Math.min;for(let Fe=6,Te=o.length;Fe<Te;Fe+=6){if(isNaN(o[Fe]))g=Math.min(g,o[Fe+4]),y=Math.min(y,o[Fe+5]),E=Math.max(E,o[Fe+4]),T=Math.max(T,o[Fe+5]),N<o[Fe+5]?(x=o[Fe+4],N=o[Fe+5]):N===o[Fe+5]&&(x=B(x,o[Fe+4]));else{const nt=un.bezierBoundingBox(u,p,...o.slice(Fe,Fe+6));g=Math.min(g,nt[0]),y=Math.min(y,nt[1]),E=Math.max(E,nt[2]),T=Math.max(T,nt[3]),N<nt[3]?(x=nt[2],N=nt[3]):N===nt[3]&&(x=B(x,nt[2]))}u=o[Fe+4],p=o[Fe+5]}const Y=g-this.#n,se=y-this.#n,le=E-g+2*this.#n,me=T-y+2*this.#n;this.#t={x:Y,y:se,width:le,height:me,lastPoint:[x,N]}}get box(){return this.#t}getNewOutline(i,o){const{x:u,y:p,width:g,height:y}=this.#t,[E,T,x,N]=this.#e,B=g*x,Y=y*N,se=u*x+E,le=p*N+T,me=new Io({x:this.#r[0]*B+se,y:this.#r[1]*Y+le},this.#e,this.#s,i,this.#i,o??this.#n);for(let Fe=2;Fe<this.#r.length;Fe+=2)me.add({x:this.#r[Fe]*B+se,y:this.#r[Fe+1]*Y+le});return me.getOutlines()}}class Kr{#e=this.#f.bind(this);#t=this.#_.bind(this);#n=null;#i=null;#r;#s=null;#a=!1;#l=!1;#d=null;#c;#u=null;#o;static get _keyboardManager(){return gn(this,"_keyboardManager",new Ei([[["Escape","mac+Escape"],Kr.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Kr.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Kr.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Kr.prototype._moveToPrevious],[["Home","mac+Home"],Kr.prototype._moveToBeginning],[["End","mac+End"],Kr.prototype._moveToEnd]]))}constructor({editor:i=null,uiManager:o=null}){i?(this.#l=!1,this.#o=pe.HIGHLIGHT_COLOR,this.#d=i):(this.#l=!0,this.#o=pe.HIGHLIGHT_DEFAULT_COLOR),this.#u=i?._uiManager||o,this.#c=this.#u._eventBus,this.#r=i?.color||this.#u?.highlightColors.values().next().value||"#FFFF98"}renderButton(){const i=this.#n=document.createElement("button");i.className="colorPicker",i.tabIndex="0",i.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),i.setAttribute("aria-haspopup",!0);const o=this.#u._signal;i.addEventListener("click",this.#g.bind(this),{signal:o}),i.addEventListener("keydown",this.#e,{signal:o});const u=this.#i=document.createElement("span");return u.className="swatch",u.setAttribute("aria-hidden",!0),u.style.backgroundColor=this.#r,i.append(u),i}renderMainDropdown(){const i=this.#s=this.#h();return i.setAttribute("aria-orientation","horizontal"),i.setAttribute("aria-labelledby","highlightColorPickerLabel"),i}#h(){const i=document.createElement("div"),o=this.#u._signal;i.addEventListener("contextmenu",Nr,{signal:o}),i.className="dropdown",i.role="listbox",i.setAttribute("aria-multiselectable",!1),i.setAttribute("aria-orientation","vertical"),i.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[u,p]of this.#u.highlightColors){const g=document.createElement("button");g.tabIndex="0",g.role="option",g.setAttribute("data-color",p),g.title=u,g.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${u}`);const y=document.createElement("span");g.append(y),y.className="swatch",y.style.backgroundColor=p,g.setAttribute("aria-selected",p===this.#r),g.addEventListener("click",this.#p.bind(this,p),{signal:o}),i.append(g)}return i.addEventListener("keydown",this.#e,{signal:o}),i}#p(i,o){o.stopPropagation(),this.#c.dispatch("switchannotationeditorparams",{source:this,type:this.#o,value:i})}_colorSelectFromKeyboard(i){if(i.target===this.#n)return void this.#g(i);const o=i.target.getAttribute("data-color");o&&this.#p(o,i)}_moveToNext(i){this.#m?i.target!==this.#n?i.target.nextSibling?.focus():this.#s.firstChild?.focus():this.#g(i)}_moveToPrevious(i){i.target!==this.#s?.firstChild&&i.target!==this.#n?(this.#m||this.#g(i),i.target.previousSibling?.focus()):this.#m&&this._hideDropdownFromKeyboard()}_moveToBeginning(i){this.#m?this.#s.firstChild?.focus():this.#g(i)}_moveToEnd(i){this.#m?this.#s.lastChild?.focus():this.#g(i)}#f(i){Kr._keyboardManager.exec(this,i)}#g(i){if(this.#m)return void this.hideDropdown();if(this.#a=0===i.detail,window.addEventListener("pointerdown",this.#t,{signal:this.#u._signal}),this.#s)return void this.#s.classList.remove("hidden");const o=this.#s=this.#h();this.#n.append(o)}#_(i){this.#s?.contains(i.target)||this.hideDropdown()}hideDropdown(){this.#s?.classList.add("hidden"),window.removeEventListener("pointerdown",this.#t)}get#m(){return this.#s&&!this.#s.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#l){if(!this.#m)return void this.#d?.unselect();this.hideDropdown(),this.#n.focus({preventScroll:!0,focusVisible:this.#a})}}updateColor(i){if(this.#i&&(this.#i.style.backgroundColor=i),!this.#s)return;const o=this.#u.highlightColors.values();for(const u of this.#s.children)u.setAttribute("aria-selected",o.next().value===i)}destroy(){this.#n?.remove(),this.#n=null,this.#i=null,this.#s?.remove(),this.#s=null}}class ui extends Dt{#e=null;#t=0;#n;#i=null;#r=null;#s=null;#a=null;#l=0;#d=null;#c=null;#u=null;#o=!1;#h=null;#p;#f=null;#g="";#_;#m="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _l10nPromise;static _type="highlight";static _editorType=Xe.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const i=ui.prototype;return gn(this,"_keyboardManager",new Ei([[["ArrowLeft","mac+ArrowLeft"],i._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],i._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],i._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],i._moveCaret,{args:[3]}]]))}constructor(i){super({...i,name:"highlightEditor"}),this.color=i.color||ui._defaultColor,this.#_=i.thickness||ui._defaultThickness,this.#p=i.opacity||ui._defaultOpacity,this.#n=i.boxes||null,this.#m=i.methodOfCreation||"",this.#g=i.text||"",this._isDraggable=!1,i.highlightId>-1?(this.#o=!0,this.#E(i),this.#S()):(this.#e=i.anchorNode,this.#t=i.anchorOffset,this.#a=i.focusNode,this.#l=i.focusOffset,this.#y(),this.#S(),this.rotate(this.rotation))}get telemetryInitialData(){return{action:"added",type:this.#o?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:this.#_,methodOfCreation:this.#m}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(i){return{numberOfColors:i.get("color").size}}#y(){const i=new qr(this.#n,.001);this.#c=i.getOutlines(),({x:this.x,y:this.y,width:this.width,height:this.height}=this.#c.box);const o=new qr(this.#n,.0025,.001,"ltr"===this._uiManager.direction);this.#s=o.getOutlines();const{lastPoint:u}=this.#s.box;this.#h=[(u[0]-this.x)/this.width,(u[1]-this.y)/this.height]}#E({highlightOutlines:i,highlightId:o,clipPathId:u}){if(this.#c=i,this.#s=i.getNewOutline(this.#_/2+1.5,.0025),o>=0)this.#u=o,this.#i=u,this.parent.drawLayer.finalizeLine(o,i),this.#f=this.parent.drawLayer.highlightOutline(this.#s);else if(this.parent){const N=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(this.#u,i),this.parent.drawLayer.updateBox(this.#u,ui.#A(this.#c.box,(N-this.rotation+360)%360)),this.parent.drawLayer.updateLine(this.#f,this.#s),this.parent.drawLayer.updateBox(this.#f,ui.#A(this.#s.box,N))}const{x:g,y,width:E,height:T}=i.box;switch(this.rotation){case 0:this.x=g,this.y=y,this.width=E,this.height=T;break;case 90:{const[N,B]=this.parentDimensions;this.x=y,this.y=1-g,this.width=E*B/N,this.height=T*N/B;break}case 180:this.x=1-g,this.y=1-y,this.width=E,this.height=T;break;case 270:{const[N,B]=this.parentDimensions;this.x=1-y,this.y=g,this.width=E*B/N,this.height=T*N/B;break}}const{lastPoint:x}=this.#s.box;this.#h=[(x[0]-g)/E,(x[1]-y)/T]}static initialize(i,o){Dt.initialize(i,o),ui._defaultColor||=o.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(i,o){switch(i){case pe.HIGHLIGHT_DEFAULT_COLOR:ui._defaultColor=o;break;case pe.HIGHLIGHT_THICKNESS:ui._defaultThickness=o}}translateInPage(i,o){}get toolbarPosition(){return this.#h}updateParams(i,o){switch(i){case pe.HIGHLIGHT_COLOR:this.#w(o);break;case pe.HIGHLIGHT_THICKNESS:this.#b(o)}}static get defaultPropertiesToUpdate(){return[[pe.HIGHLIGHT_DEFAULT_COLOR,ui._defaultColor],[pe.HIGHLIGHT_THICKNESS,ui._defaultThickness]]}get propertiesToUpdate(){return[[pe.HIGHLIGHT_COLOR,this.color||ui._defaultColor],[pe.HIGHLIGHT_THICKNESS,this.#_||ui._defaultThickness],[pe.HIGHLIGHT_FREE,this.#o]]}#w(i){const o=p=>{this.color=p,this.parent?.drawLayer.changeColor(this.#u,p),this.#r?.updateColor(p)},u=this.color;this.addCommands({cmd:o.bind(this,i),undo:o.bind(this,u),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:pe.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(i)},!0)}#b(i){const o=this.#_,u=p=>{this.#_=p,this.#C(p)};this.addCommands({cmd:u.bind(this,i),undo:u.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:pe.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:i},!0)}addEditToolbar(){var i=()=>super.addEditToolbar,o=this;return(0,ae.Z)(function*(){const u=yield i().call(o);return u?(o._uiManager.highlightColors&&(o.#r=new Kr({editor:o}),u.addColorPicker(o.#r)),u):null})()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#x())}getBaseTranslation(){return[0,0]}getRect(i,o){return super.getRect(i,o,this.#x())}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){this.#M(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.#S(),this.isAttachedToDOM||this.parent.add(this)))}setParent(i){let o=!1;this.parent&&!i?this.#M():i&&(this.#S(i),o=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(i),this.show(this._isVisible),o&&this.select()}#C(i){if(!this.#o)return;this.#E({highlightOutlines:this.#c.getNewOutline(i/2)}),this.fixAndSetPosition();const[o,u]=this.parentDimensions;this.setDims(this.width*o,this.height*u)}#M(){null===this.#u||!this.parent||(this.parent.drawLayer.remove(this.#u),this.#u=null,this.parent.drawLayer.remove(this.#f),this.#f=null)}#S(i=this.parent){null===this.#u&&(({id:this.#u,clipPathId:this.#i}=i.drawLayer.highlight(this.#c,this.color,this.#p)),this.#f=i.drawLayer.highlightOutline(this.#s),this.#d&&(this.#d.style.clipPath=this.#i))}static#A({x:i,y:o,width:u,height:p},g){switch(g){case 90:return{x:1-o-p,y:i,width:p,height:u};case 180:return{x:1-i-u,y:1-o-p,width:u,height:p};case 270:return{x:o,y:1-i-u,width:p,height:u}}return{x:i,y:o,width:u,height:p}}rotate(i){const{drawLayer:o}=this.parent;let u;u=this.#o?ui.#A(this.#c.box,i=(i-this.rotation+360)%360):ui.#A(this,i),o.rotate(this.#u,i),o.rotate(this.#f,i),o.updateBox(this.#u,u),o.updateBox(this.#f,ui.#A(this.#s.box,i))}render(){if(this.div)return this.div;const i=super.render();this.#g&&(i.setAttribute("aria-label",this.#g),i.setAttribute("role","mark")),this.#o?i.classList.add("free"):this.div.addEventListener("keydown",this.#D.bind(this),{signal:this._uiManager._signal});const o=this.#d=document.createElement("div");i.append(o),o.setAttribute("aria-hidden","true"),o.className="internal",o.style.clipPath=this.#i;const[u,p]=this.parentDimensions;return this.setDims(this.width*u,this.height*p),vn(this,this.#d,["pointerover","pointerleave"]),this.enableEditing(),i}pointerover(){this.parent.drawLayer.addClass(this.#f,"hovered")}pointerleave(){this.parent.drawLayer.removeClass(this.#f,"hovered")}#D(i){ui._keyboardManager.exec(this,i)}_moveCaret(i){switch(this.parent.unselect(this),i){case 0:case 2:this.#I(!0);break;case 1:case 3:this.#I(!1)}}#I(i){if(!this.#e)return;const o=window.getSelection();i?o.setPosition(this.#e,this.#t):o.setPosition(this.#a,this.#l)}select(){super.select(),this.#f&&(this.parent?.drawLayer.removeClass(this.#f,"hovered"),this.parent?.drawLayer.addClass(this.#f,"selected"))}unselect(){super.unselect(),this.#f&&(this.parent?.drawLayer.removeClass(this.#f,"selected"),this.#o||this.#I(!1))}get _mustFixPosition(){return!this.#o}show(i=this._isVisible){super.show(i),this.parent&&(this.parent.drawLayer.show(this.#u,i),this.parent.drawLayer.show(this.#f,i))}#x(){return this.#o?this.rotation:0}#N(){if(this.#o)return null;const[i,o]=this.pageDimensions,[u,p]=this.pageTranslation,g=this.#n,y=new Float32Array(8*g.length);let E=0;for(const{x:T,y:x,width:N,height:B}of g){const Y=T*i+u,se=(1-x-B)*o+p;y[E]=y[E+4]=Y,y[E+1]=y[E+3]=se,y[E+2]=y[E+6]=Y+N*i,y[E+5]=y[E+7]=se+B*o,E+=8}return y}#T(i){return this.#c.serialize(i,this.#x())}static startHighlighting(i,o,{target:u,x:p,y:g}){const{x:y,y:E,width:T,height:x}=u.getBoundingClientRect(),N=new AbortController,B=i.combinedSignal(N),se=le=>{N.abort(),this.#P(i,le)};window.addEventListener("blur",se,{signal:B}),window.addEventListener("pointerup",se,{signal:B}),window.addEventListener("pointerdown",le=>{le.preventDefault(),le.stopPropagation()},{capture:!0,passive:!1,signal:B}),window.addEventListener("contextmenu",Nr,{signal:B}),u.addEventListener("pointermove",this.#v.bind(this,i),{signal:B}),this._freeHighlight=new Io({x:p,y:g},[y,E,T,x],i.scale,this._defaultThickness/2,o,.001),({id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=i.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0))}static#v(i,o){this._freeHighlight.add(o)&&i.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)}static#P(i,o){this._freeHighlight.isEmpty()?i.drawLayer.removeFreeHighlight(this._freeHighlightId):i.createAndAddNewEditor(o,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static deserialize(i,o,u){const p=super.deserialize(i,o,u),{rect:[g,y,E,T],color:x,quadPoints:N}=i;p.color=un.makeHexColor(...x),p.#p=i.opacity;const[B,Y]=p.pageDimensions;p.width=(E-g)/B,p.height=(T-y)/Y;const se=p.#n=[];for(let le=0;le<N.length;le+=8)se.push({x:(N[4]-E)/B,y:(T-(1-N[le+5]))/Y,width:(N[le+2]-N[le])/B,height:(N[le+5]-N[le+1])/Y});return p.#y(),p}serialize(i=!1){if(this.isEmpty()||i)return null;const o=this.getRect(0,0),u=Dt._colorManager.convert(this.color);return{annotationType:Xe.HIGHLIGHT,color:u,opacity:this.#p,thickness:this.#_,quadPoints:this.#N(),outlines:this.#T(o),pageIndex:this.pageIndex,rect:o,rotation:this.#x(),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}}class Ps extends Dt{#e=0;#t=0;#n=null;#i=new Path2D;#r=!1;#s=null;#a=!1;#l=!1;#d=null;#c=null;#u=0;#o=0;#h=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _type="ink";static _editorType=Xe.INK;constructor(i){super({...i,name:"inkEditor"}),this.color=i.color||null,this.thickness=i.thickness||null,this.opacity=i.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(i,o){Dt.initialize(i,o)}static updateDefaultParams(i,o){switch(i){case pe.INK_THICKNESS:Ps._defaultThickness=o;break;case pe.INK_COLOR:Ps._defaultColor=o;break;case pe.INK_OPACITY:Ps._defaultOpacity=o/100}}updateParams(i,o){switch(i){case pe.INK_THICKNESS:this.#p(o);break;case pe.INK_COLOR:this.#f(o);break;case pe.INK_OPACITY:this.#g(o)}}static get defaultPropertiesToUpdate(){return[[pe.INK_THICKNESS,Ps._defaultThickness],[pe.INK_COLOR,Ps._defaultColor||Dt._defaultLineColor],[pe.INK_OPACITY,Math.round(100*Ps._defaultOpacity)]]}get propertiesToUpdate(){return[[pe.INK_THICKNESS,this.thickness||Ps._defaultThickness],[pe.INK_COLOR,this.color||Ps._defaultColor||Dt._defaultLineColor],[pe.INK_OPACITY,Math.round(100*(this.opacity??Ps._defaultOpacity))]]}#p(i){const o=p=>{this.thickness=p,this.#U()},u=this.thickness;this.addCommands({cmd:o.bind(this,i),undo:o.bind(this,u),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:pe.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#f(i){const o=p=>{this.color=p,this.#A()},u=this.color;this.addCommands({cmd:o.bind(this,i),undo:o.bind(this,u),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:pe.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#g(i){const o=p=>{this.opacity=p,this.#A()},u=this.opacity;this.addCommands({cmd:o.bind(this,i/=100),undo:o.bind(this,u),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:pe.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.canvas||(this.#N(),this.#T()),this.isAttachedToDOM||(this.parent.add(this),this.#v()),this.#U()))}remove(){null!==this.canvas&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#n&&(clearTimeout(this.#n),this.#n=null),this.#d?.disconnect(),this.#d=null,super.remove())}setParent(i){!this.parent&&i?this._uiManager.removeShouldRescale(this):this.parent&&null===i&&this._uiManager.addShouldRescale(this),super.setParent(i)}onScaleChanging(){const[i,o]=this.parentDimensions;this.setDimensions(this.width*i,this.height*o)}enableEditMode(){this.#r||null===this.canvas||(super.enableEditMode(),this._isDraggable=!1,this.#D())}disableEditMode(){!this.isInEditMode()||null===this.canvas||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.#I())}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return 0===this.paths.length||1===this.paths.length&&0===this.paths[0].length}#_(){const{parentRotation:i,parentDimensions:[o,u]}=this;switch(i){case 90:return[0,u,u,o];case 180:return[o,u,o,u];case 270:return[o,0,u,o];default:return[0,0,o,u]}}#m(){const{ctx:i,color:o,opacity:u,thickness:p,parentScale:g,scaleFactor:y}=this;i.lineWidth=p*g/y,i.lineCap="round",i.lineJoin="round",i.miterLimit=10,i.strokeStyle=`${o}${function bn(C){return Math.round(Math.min(255,Math.max(1,255*C))).toString(16).padStart(2,"0")}(u)}`}#y(i,o){this.canvas.addEventListener("contextmenu",Nr,{signal:this._uiManager._signal}),this.#I(),this.#s=new AbortController;const u=this._uiManager.combinedSignal(this.#s);this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:u}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:u}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:u}),this.isEditing=!0,this.#l||(this.#l=!0,this.#v(),this.thickness||=Ps._defaultThickness,this.color||=Ps._defaultColor||Dt._defaultLineColor,this.opacity??=Ps._defaultOpacity),this.currentPath.push([i,o]),this.#a=!1,this.#m(),this.#h=()=>{this.#C(),this.#h&&window.requestAnimationFrame(this.#h)},window.requestAnimationFrame(this.#h)}#E(i,o){const[u,p]=this.currentPath.at(-1);if(this.currentPath.length>1&&i===u&&o===p)return;const g=this.currentPath;let y=this.#i;if(g.push([i,o]),this.#a=!0,g.length<=2)return y.moveTo(...g[0]),void y.lineTo(i,o);3===g.length&&(this.#i=y=new Path2D,y.moveTo(...g[0])),this.#M(y,...g.at(-3),...g.at(-2),i,o)}#w(){if(0===this.currentPath.length)return;const i=this.currentPath.at(-1);this.#i.lineTo(...i)}#b(i,o){let u;if(this.#h=null,i=Math.min(Math.max(i,0),this.canvas.width),o=Math.min(Math.max(o,0),this.canvas.height),this.#E(i,o),this.#w(),1!==this.currentPath.length)u=this.#S();else{const T=[i,o];u=[[T,T.slice(),T.slice(),T]]}const p=this.#i,g=this.currentPath;this.currentPath=[],this.#i=new Path2D,this.addCommands({cmd:()=>{this.allRawPaths.push(g),this.paths.push(u),this.bezierPath2D.push(p),this._uiManager.rebuild(this)},undo:()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),0===this.paths.length?this.remove():(this.canvas||(this.#N(),this.#T()),this.#U())},mustExec:!0})}#C(){if(!this.#a)return;this.#a=!1;Math.ceil(this.thickness*this.parentScale);const o=this.currentPath.slice(-3),u=o.map(N=>N[0]),p=o.map(N=>N[1]),{ctx:x}=(Math.min(...u),Math.max(...u),Math.min(...p),Math.max(...p),this);x.save(),x.clearRect(0,0,this.canvas.width,this.canvas.height);for(const N of this.bezierPath2D)x.stroke(N);x.stroke(this.#i),x.restore()}#M(i,o,u,p,g,y,E){const T=(o+p)/2,x=(u+g)/2,N=(p+y)/2,B=(g+E)/2;i.bezierCurveTo(T+2*(p-T)/3,x+2*(g-x)/3,N+2*(p-N)/3,B+2*(g-B)/3,N,B)}#S(){const i=this.currentPath;if(i.length<=2)return[[i[0],i[0],i.at(-1),i.at(-1)]];const o=[];let u,[p,g]=i[0];for(u=1;u<i.length-2;u++){const[Y,se]=i[u],[le,me]=i[u+1],Fe=(Y+le)/2,Te=(se+me)/2;o.push([[p,g],[p+2*(Y-p)/3,g+2*(se-g)/3],[Fe+2*(Y-Fe)/3,Te+2*(se-Te)/3],[Fe,Te]]),[p,g]=[Fe,Te]}const[y,E]=i[u],[T,x]=i[u+1];return o.push([[p,g],[p+2*(y-p)/3,g+2*(E-g)/3],[T+2*(y-T)/3,x+2*(E-x)/3],[T,x]]),o}#A(){if(this.isEmpty())return void this.#R();this.#m();const{canvas:i,ctx:o}=this;o.setTransform(1,0,0,1,0,0),o.clearRect(0,0,i.width,i.height),this.#R();for(const u of this.bezierPath2D)o.stroke(u)}commit(){this.#r||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#r=!0,this.div.classList.add("disabled"),this.#U(!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(i){this._focusEventsAllowed&&(super.focusin(i),this.enableEditMode())}#D(){if(this.#c)return;this.#c=new AbortController;const i=this._uiManager.combinedSignal(this.#c);this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:i})}#I(){this.pointerdownAC?.abort(),this.pointerdownAC=null}canvasPointerdown(i){0!==i.button||!this.isInEditMode()||this.#r||(this.setInForeground(),i.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),this.#y(i.offsetX,i.offsetY))}canvasPointermove(i){i.preventDefault(),this.#E(i.offsetX,i.offsetY)}canvasPointerup(i){i.preventDefault(),this.#x(i)}canvasPointerleave(i){this.#x(i)}#x(i){this.#s?.abort(),this.#s=null,this.#D(),this.#n&&clearTimeout(this.#n),this.#n=setTimeout(()=>{this.#n=null,this.canvas.removeEventListener("contextmenu",Nr)},10),this.#b(i.offsetX,i.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#N(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#T(){this.#d=new ResizeObserver(i=>{const o=i[0].contentRect;o.width&&o.height&&this.setDimensions(o.width,o.height)}),this.#d.observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{this.#d?.disconnect(),this.#d=null},{once:!0})}get isResizable(){return!this.isEmpty()&&this.#r}render(){if(this.div)return this.div;let i,o;this.width&&(i=this.x,o=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[u,p,g,y]=this.#_();if(this.setAt(u,p,0,0),this.setDims(g,y),this.#N(),this.width){const[E,T]=this.parentDimensions;this.setAspectRatio(this.width*E,this.height*T),this.setAt(i*E,o*T,this.width*E,this.height*T),this.#l=!0,this.#v(),this.setDims(this.width*E,this.height*T),this.#A(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#T(),this.div}#v(){if(!this.#l)return;const[i,o]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*i),this.canvas.height=Math.ceil(this.height*o),this.#R()}setDimensions(i,o){const u=Math.round(i),p=Math.round(o);if(this.#u===u&&this.#o===p)return;this.#u=u,this.#o=p,this.canvas.style.visibility="hidden";const[g,y]=this.parentDimensions;this.width=i/g,this.height=o/y,this.fixAndSetPosition(),this.#r&&this.#P(i,o),this.#v(),this.#A(),this.canvas.style.visibility="visible",this.fixDims()}#P(i,o){const u=this.#V(),p=(i-u)/this.#t,g=(o-u)/this.#e;this.scaleFactor=Math.min(p,g)}#R(){const i=this.#V()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+i,this.translationY*this.scaleFactor+i)}static#L(i){const o=new Path2D;for(let u=0,p=i.length;u<p;u++){const[g,y,E,T]=i[u];0===u&&o.moveTo(...g),o.bezierCurveTo(y[0],y[1],E[0],E[1],T[0],T[1])}return o}static#j(i,o,u){const[p,g,y,E]=o;switch(u){case 0:for(let T=0,x=i.length;T<x;T+=2)i[T]+=p,i[T+1]=E-i[T+1];break;case 90:for(let T=0,x=i.length;T<x;T+=2){const N=i[T];i[T]=i[T+1]+p,i[T+1]=N+g}break;case 180:for(let T=0,x=i.length;T<x;T+=2)i[T]=y-i[T],i[T+1]+=g;break;case 270:for(let T=0,x=i.length;T<x;T+=2){const N=i[T];i[T]=y-i[T+1],i[T+1]=E-N}break;default:throw new Error("Invalid rotation")}return i}static#B(i,o,u){const[p,g,y,E]=o;switch(u){case 0:for(let T=0,x=i.length;T<x;T+=2)i[T]-=p,i[T+1]=E-i[T+1];break;case 90:for(let T=0,x=i.length;T<x;T+=2){const N=i[T];i[T]=i[T+1]-g,i[T+1]=N-p}break;case 180:for(let T=0,x=i.length;T<x;T+=2)i[T]=y-i[T],i[T+1]-=g;break;case 270:for(let T=0,x=i.length;T<x;T+=2){const N=i[T];i[T]=E-i[T+1],i[T+1]=y-N}break;default:throw new Error("Invalid rotation")}return i}#k(i,o,u,p){const g=[],y=this.thickness/2,E=i*o+y,T=i*u+y;for(const x of this.paths){const N=[],B=[];for(let Y=0,se=x.length;Y<se;Y++){const[le,me,Fe,Te]=x[Y];if(le[0]===Te[0]&&le[1]===Te[1]&&1===se){const Ft=i*le[0]+E,hn=i*le[1]+T;N.push(Ft,hn),B.push(Ft,hn);break}const nt=i*le[0]+E,ht=i*le[1]+T,dt=i*me[0]+E,At=i*me[1]+T,Et=i*Fe[0]+E,It=i*Fe[1]+T,Lt=i*Te[0]+E,st=i*Te[1]+T;0===Y&&(N.push(nt,ht),B.push(nt,ht)),N.push(dt,At,Et,It,Lt,st),B.push(dt,At),Y===se-1&&B.push(Lt,st)}g.push({bezier:Ps.#j(N,p,this.rotation),points:Ps.#j(B,p,this.rotation)})}return g}#F(){let i=1/0,o=-1/0,u=1/0,p=-1/0;for(const g of this.paths)for(const[y,E,T,x]of g){const N=un.bezierBoundingBox(...y,...E,...T,...x);i=Math.min(i,N[0]),u=Math.min(u,N[1]),o=Math.max(o,N[2]),p=Math.max(p,N[3])}return[i,u,o,p]}#V(){return this.#r?Math.ceil(this.thickness*this.parentScale):0}#U(i=!1){if(this.isEmpty())return;if(!this.#r)return void this.#A();const o=this.#F(),u=this.#V();this.#t=Math.max(Dt.MIN_SIZE,o[2]-o[0]),this.#e=Math.max(Dt.MIN_SIZE,o[3]-o[1]);const p=Math.ceil(u+this.#t*this.scaleFactor),g=Math.ceil(u+this.#e*this.scaleFactor),[y,E]=this.parentDimensions;this.width=p/y,this.height=g/E,this.setAspectRatio(p,g);const T=this.translationX,x=this.translationY;this.translationX=-o[0],this.translationY=-o[1],this.#v(),this.#A(),this.#u=p,this.#o=g,this.setDims(p,g);const N=i?u/this.scaleFactor/2:0;this.translate(T-this.translationX-N,x-this.translationY-N)}static deserialize(i,o,u){if(i instanceof kc)return null;const p=super.deserialize(i,o,u);p.thickness=i.thickness,p.color=un.makeHexColor(...i.color),p.opacity=i.opacity;const[g,y]=p.pageDimensions,E=p.width*g,T=p.height*y,x=p.parentScale,N=i.thickness/2;p.#r=!0,p.#u=Math.round(E),p.#o=Math.round(T);const{paths:B,rect:Y,rotation:se}=i;for(let{bezier:me}of B){me=Ps.#B(me,Y,se);const Fe=[];p.paths.push(Fe);let Te=x*(me[0]-N),nt=x*(me[1]-N);for(let dt=2,At=me.length;dt<At;dt+=6){const Ft=x*(me[dt+4]-N),hn=x*(me[dt+5]-N);Fe.push([[Te,nt],[x*(me[dt]-N),x*(me[dt+1]-N)],[x*(me[dt+2]-N),x*(me[dt+3]-N)],[Ft,hn]]),Te=Ft,nt=hn}const ht=this.#L(Fe);p.bezierPath2D.push(ht)}const le=p.#F();return p.#t=Math.max(Dt.MIN_SIZE,le[2]-le[0]),p.#e=Math.max(Dt.MIN_SIZE,le[3]-le[1]),p.#P(E,T),p}serialize(){if(this.isEmpty())return null;const i=this.getRect(0,0),o=Dt._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Xe.INK,color:o,thickness:this.thickness,opacity:this.opacity,paths:this.#k(this.scaleFactor/this.parentScale,this.translationX,this.translationY,i),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}class kd extends Dt{#e=null;#t=null;#n=null;#i=null;#r=null;#s="";#a=null;#l=null;#d=null;#c=!1;#u=!1;static _type="stamp";static _editorType=Xe.STAMP;constructor(i){super({...i,name:"stampEditor"}),this.#i=i.bitmapUrl,this.#r=i.bitmapFile}static initialize(i,o){Dt.initialize(i,o)}static get supportedTypes(){return gn(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(o=>`image/${o}`))}static get supportedTypesStr(){return gn(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(i){return this.supportedTypes.includes(i)}static paste(i,o){o.pasteEditor(Xe.STAMP,{bitmapFile:i.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(i){const o=i.get("hasAltText");return{hasAltText:o.get(!0)??0,hasNoAltText:o.get(!1)??0}}#o(i,o=!1){i?(this.#e=i.bitmap,o||(this.#t=i.id,this.#c=i.isSvg),i.file&&(this.#s=i.file.name),this.#f()):this.remove()}#h(){if(this.#n=null,this._uiManager.enableWaiting(!1),this.#a){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e)return this._editToolbar.hide(),void this._uiManager.editAltText(this,!0);if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}mlGuessAltText(i=null,o=!0){var u=this;return(0,ae.Z)(function*(){if(u.hasAltTextData())return null;const{mlManager:p}=u._uiManager;if(!p)throw new Error("No ML.");if(!(yield p.isEnabledFor("altText")))throw new Error("ML isn't enabled for alt text.");const{data:g,width:y,height:E}=i||u.copyCanvas(null,!0).imageData,T=yield p.guess({name:"altText",request:{data:g,width:y,height:E,channels:g.length/(y*E)}});if(!T)throw new Error("No response from the AI service.");if(T.error)throw new Error("Error from the AI service.");if(T.cancel)return null;if(!T.output)throw new Error("No valid response from the AI service.");const x=T.output;return yield u.setGuessedAltText(x),o&&!u.hasAltTextData()&&(u.altTextData={alt:x,decorative:!1}),x})()}#p(){var i=this;if(this.#t)return this._uiManager.enableWaiting(!0),void this._uiManager.imageManager.getFromId(this.#t).then(p=>this.#o(p,!0)).finally(()=>this.#h());if(this.#i){const p=this.#i;return this.#i=null,this._uiManager.enableWaiting(!0),void(this.#n=this._uiManager.imageManager.getFromUrl(p).then(g=>this.#o(g)).finally(()=>this.#h()))}if(this.#r){const p=this.#r;return this.#r=null,this._uiManager.enableWaiting(!0),void(this.#n=this._uiManager.imageManager.getFromFile(p).then(g=>this.#o(g)).finally(()=>this.#h()))}const o=document.createElement("input");o.type="file",o.accept=kd.supportedTypesStr;const u=this._uiManager._signal;this.#n=new Promise(p=>{o.addEventListener("change",(0,ae.Z)(function*(){if(o.files&&0!==o.files.length){i._uiManager.enableWaiting(!0);const g=yield i._uiManager.imageManager.getFromFile(o.files[0]);i._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:i._uiManager.useNewAltTextFlow}}),i.#o(g)}else i.remove();p()}),{signal:u}),o.addEventListener("cancel",()=>{this.remove(),p()},{signal:u})}).finally(()=>this.#h()),o.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#a?.remove(),this.#a=null,this.#l?.disconnect(),this.#l=null,this.#d&&(clearTimeout(this.#d),this.#d=null)),super.remove()}rebuild(){this.parent?(super.rebuild(),null!==this.div&&(this.#t&&null===this.#a&&this.#p(),this.isAttachedToDOM||this.parent.add(this))):this.#t&&this.#p()}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(this.#n||this.#e||this.#i||this.#r||this.#t)}get isResizable(){return!0}render(){if(this.div)return this.div;let i,o;if(this.width&&(i=this.x,o=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),this.#e?this.#f():this.#p(),this.width){const[u,p]=this.parentDimensions;this.setAt(i*u,o*p,this.width*u,this.height*p)}return this.div}#f(){const{div:i}=this;let{width:o,height:u}=this.#e;const[p,g]=this.pageDimensions,y=.75;if(this.width)o=this.width*p,u=this.height*g;else if(o>y*p||u>y*g){const N=Math.min(y*p/o,y*g/u);o*=N,u*=N}const[E,T]=this.parentDimensions;this.setDims(o*E/p,u*T/g),this._uiManager.enableWaiting(!1);const x=this.#a=document.createElement("canvas");i.append(x),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow)&&(i.hidden=!1),this.#m(o,u),this.#E(),this.#u||(this.parent.addUndoableEditor(this),this.#u=!0),this._reportTelemetry({action:"inserted_image"}),this.#s&&x.setAttribute("aria-label",this.#s)}copyCanvas(i,o=!1){i||(i=224);const{width:u,height:p}=this.#e,g=document.createElement("canvas");let y=this.#e,E=u,T=p;if(u>i||p>i){const me=Math.min(i/u,i/p);E=Math.floor(u*me),T=Math.floor(p*me),this.#c||(y=this.#_(E,T))}g.width=E,g.height=T;const x=g.getContext("2d");x.filter=this._uiManager.hcmFilter;let N="white",B="#cfcfd8";"none"!==this._uiManager.hcmFilter?B="black":window.matchMedia?.("(prefers-color-scheme: dark)").matches&&(N="#8f8f9d",B="#42414d");const Y=15,se=new OffscreenCanvas(30,30),le=se.getContext("2d");if(le.fillStyle=N,le.fillRect(0,0,30,30),le.fillStyle=B,le.fillRect(0,0,Y,Y),le.fillRect(Y,Y,Y,Y),x.fillStyle=x.createPattern(se,"repeat"),x.fillRect(0,0,E,T),o){const me=new OffscreenCanvas(E,T),Fe=me.getContext("2d",{willReadFrequently:!0});Fe.drawImage(y,0,0,y.width,y.height,0,0,E,T);const Te=Fe.getImageData(0,0,E,T).data;return x.drawImage(me,0,0),{canvas:g,imageData:{width:E,height:T,data:Te}}}return x.drawImage(y,0,0,y.width,y.height,0,0,E,T),{canvas:g,imageData:null}}#g(i,o){const[u,p]=this.parentDimensions;this.width=i/u,this.height=o/p,this.setDims(i,o),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,null!==this.#d&&clearTimeout(this.#d),this.#d=setTimeout(()=>{this.#d=null,this.#m(i,o)},200)}#_(i,o){const{width:u,height:p}=this.#e;let g=u,y=p,E=this.#e;for(;g>2*i||y>2*o;){const T=g,x=y;g>2*i&&(g=g>=16384?Math.floor(g/2)-1:Math.ceil(g/2)),y>2*o&&(y=y>=16384?Math.floor(y/2)-1:Math.ceil(y/2));const N=new OffscreenCanvas(g,y);N.getContext("2d").drawImage(E,0,0,T,x,0,0,g,y),E=N.transferToImageBitmap()}return E}#m(i,o){i=Math.ceil(i),o=Math.ceil(o);const u=this.#a;if(!u||u.width===i&&u.height===o)return;u.width=i,u.height=o;const p=this.#c?this.#e:this.#_(i,o),g=u.getContext("2d");g.filter=this._uiManager.hcmFilter,g.drawImage(p,0,0,p.width,p.height,0,0,i,o)}getImageForAltText(){return this.#a}#y(i){if(i){if(this.#c){const p=this._uiManager.imageManager.getSvgUrl(this.#t);if(p)return p}const o=document.createElement("canvas");return({width:o.width,height:o.height}=this.#e),o.getContext("2d").drawImage(this.#e,0,0),o.toDataURL()}if(this.#c){const[o,u]=this.pageDimensions,p=Math.round(this.width*o*Me.PDF_TO_CSS_UNITS),g=Math.round(this.height*u*Me.PDF_TO_CSS_UNITS),y=new OffscreenCanvas(p,g);return y.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,p,g),y.transferToImageBitmap()}return structuredClone(this.#e)}#E(){this._uiManager._signal&&(this.#l=new ResizeObserver(i=>{const o=i[0].contentRect;o.width&&o.height&&this.#g(o.width,o.height)}),this.#l.observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{this.#l?.disconnect(),this.#l=null},{once:!0}))}static deserialize(i,o,u){if(i instanceof ml)return null;const p=super.deserialize(i,o,u),{rect:g,bitmapUrl:y,bitmapId:E,isSvg:T,accessibilityData:x}=i;E&&u.imageManager.isValidId(E)?p.#t=E:p.#i=y,p.#c=T;const[N,B]=p.pageDimensions;return p.width=(g[2]-g[0])/N,p.height=(g[3]-g[1])/B,x&&(p.altTextData=x),p}serialize(i=!1,o=null){if(this.isEmpty())return null;const u={annotationType:Xe.STAMP,bitmapId:this.#t,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#c,structTreeParentId:this._structTreeParentId};if(i)return u.bitmapUrl=this.#y(!0),u.accessibilityData=this.serializeAltText(!0),u;const{decorative:p,altText:g}=this.serializeAltText(!1);if(!p&&g&&(u.accessibilityData={type:"Figure",alt:g}),null===o)return u;o.stamps||=new Map;const y=this.#c?(u.rect[2]-u.rect[0])*(u.rect[3]-u.rect[1]):null;if(o.stamps.has(this.#t)){if(this.#c){const E=o.stamps.get(this.#t);y>E.area&&(E.area=y,E.serialized.bitmap.close(),E.serialized.bitmap=this.#y(!1))}}else o.stamps.set(this.#t,{area:y,serialized:u}),u.bitmap=this.#y(!1);return u}}let pg=(()=>{class C{#e;#t=!1;#n=null;#i=null;#r=null;#s=new Map;#a=!1;#l=!1;#d=!1;#c=null;#u=null;#o;static _initialized=!1;static#h=new Map([Zi,Ps,kd,ui].map(o=>[o._editorType,o]));constructor({uiManager:o,pageIndex:u,div:p,accessibilityManager:g,annotationLayer:y,drawLayer:E,textLayer:T,viewport:x,l10n:N}){const B=[...C.#h.values()];if(!C._initialized){C._initialized=!0;for(const Y of B)Y.initialize(N,o)}o.registerEditorTypes(B),this.#o=o,this.pageIndex=u,this.div=p,this.#e=g,this.#n=y,this.viewport=x,this.#c=T,this.drawLayer=E,this.#o.addLayer(this)}get isEmpty(){return 0===this.#s.size}get isInvisible(){return this.isEmpty&&this.#o.getMode()===Xe.NONE}updateToolbar(o){this.#o.updateToolbar(o)}updateMode(o=this.#o.getMode()){switch(this.#m(),o){case Xe.NONE:return this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),void this.disableClick();case Xe.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Xe.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:u}=this.div;for(const p of C.#h.values())u.toggle(`${p._type}Editing`,o===p._editorType);this.div.hidden=!1}hasTextLayer(o){return o===this.#c?.div}addInkEditorIfNeeded(o){if(this.#o.getMode()===Xe.INK){if(!o)for(const p of this.#s.values())if(p.isEmpty())return void p.setInBackground();this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}}setEditingState(o){this.#o.setEditingState(o)}addCommands(o){this.#o.addCommands(o)}toggleDrawing(o=!1){this.div.classList.toggle("drawing",!o)}togglePointerEvents(o=!1){this.div.classList.toggle("disabled",!o)}toggleAnnotationLayerPointerEvents(o=!1){this.#n?.div.classList.toggle("disabled",!o)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const o=new Set;for(const p of this.#s.values())p.enableEditing(),p.show(!0),p.annotationElementId&&(this.#o.removeChangedExistingAnnotation(p),o.add(p.annotationElementId));if(!this.#n)return;const u=this.#n.getEditableAnnotations();for(const p of u){if(p.hide(),this.#o.isDeletedAnnotationElement(p.data.id)||o.has(p.data.id))continue;const g=this.deserialize(p);g&&(this.addOrRebuild(g),g.enableEditing())}}disable(){this.#d=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1);const o=new Map,u=new Map;for(const g of this.#s.values())if(g.disableEditing(),g.annotationElementId){if(null!==g.serialize()){o.set(g.annotationElementId,g);continue}u.set(g.annotationElementId,g),this.getEditableAnnotation(g.annotationElementId)?.show(),g.remove()}if(this.#n){const g=this.#n.getEditableAnnotations();for(const y of g){const{id:E}=y.data;if(this.#o.isDeletedAnnotationElement(E))continue;let T=u.get(E);T?(T.resetAnnotationElement(y),T.show(!1),y.show()):(T=o.get(E),T&&(this.#o.addChangedExistingAnnotation(T),T.renderAnnotationElement(y),T.show(!1)),y.show())}}this.#m(),this.isEmpty&&(this.div.hidden=!0);const{classList:p}=this.div;for(const g of C.#h.values())p.remove(`${g._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#d=!1}getEditableAnnotation(o){return this.#n?.getEditableAnnotation(o)||null}setActiveEditor(o){this.#o.getActive()!==o&&this.#o.setActiveEditor(o)}enableTextSelection(){if(this.div.tabIndex=-1,this.#c?.div&&!this.#u){this.#u=new AbortController;const o=this.#o.combinedSignal(this.#u);this.#c.div.addEventListener("pointerdown",this.#p.bind(this),{signal:o}),this.#c.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#c?.div&&this.#u&&(this.#u.abort(),this.#u=null,this.#c.div.classList.remove("highlighting"))}#p(o){this.#o.unselectAll();const{target:u}=o;if(u===this.#c.div||u.classList.contains("endOfContent")&&this.#c.div.contains(u)){const{isMac:p}=zi.platform;if(0!==o.button||o.ctrlKey&&p)return;this.#o.showAllEditors("highlight",!0,!0),this.#c.div.classList.add("free"),this.toggleDrawing(),ui.startHighlighting(this,"ltr"===this.#o.direction,o),this.#c.div.addEventListener("pointerup",()=>{this.#c.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#o._signal}),o.preventDefault()}}enableClick(){if(this.#i)return;this.#i=new AbortController;const o=this.#o.combinedSignal(this.#i);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:o}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:o})}disableClick(){this.#i?.abort(),this.#i=null}attach(o){this.#s.set(o.id,o);const{annotationElementId:u}=o;u&&this.#o.isDeletedAnnotationElement(u)&&this.#o.removeDeletedAnnotationElement(o)}detach(o){this.#s.delete(o.id),this.#e?.removePointerInTextLayer(o.contentDiv),!this.#d&&o.annotationElementId&&this.#o.addDeletedAnnotationElement(o)}remove(o){this.detach(o),this.#o.removeEditor(o),o.div.remove(),o.isAttachedToDOM=!1,this.#l||this.addInkEditorIfNeeded(!1)}changeParent(o){o.parent!==this&&(o.parent&&o.annotationElementId&&(this.#o.addDeletedAnnotationElement(o.annotationElementId),Dt.deleteAnnotationElement(o),o.annotationElementId=null),this.attach(o),o.parent?.detach(o),o.setParent(this),o.div&&o.isAttachedToDOM&&(o.div.remove(),this.div.append(o.div)))}add(o){if(o.parent!==this||!o.isAttachedToDOM){if(this.changeParent(o),this.#o.addEditor(o),this.attach(o),!o.isAttachedToDOM){const u=o.render();this.div.append(u),o.isAttachedToDOM=!0}o.fixAndSetPosition(),o.onceAdded(),this.#o.addToAnnotationStorage(o),o._reportTelemetry(o.telemetryInitialData)}}moveEditorInDOM(o){if(!o.isAttachedToDOM)return;const{activeElement:u}=document;o.div.contains(u)&&!this.#r&&(o._focusEventsAllowed=!1,this.#r=setTimeout(()=>{this.#r=null,o.div.contains(document.activeElement)?o._focusEventsAllowed=!0:(o.div.addEventListener("focusin",()=>{o._focusEventsAllowed=!0},{once:!0,signal:this.#o._signal}),u.focus())},0)),o._structTreeParentId=this.#e?.moveElementInDOM(this.div,o.div,o.contentDiv,!0)}addOrRebuild(o){o.needsToBeRebuilt()?(o.parent||=this,o.rebuild(),o.show()):this.add(o)}addUndoableEditor(o){this.addCommands({cmd:()=>o._uiManager.rebuild(o),undo:()=>{o.remove()},mustExec:!1})}getNextId(){return this.#o.getId()}get#f(){return C.#h.get(this.#o.getMode())}combinedSignal(o){return this.#o.combinedSignal(o)}#g(o){const u=this.#f;return u?new u.prototype.constructor(o):null}canCreateNewEmptyEditor(){return this.#f?.canCreateNewEmptyEditor()}pasteEditor(o,u){this.#o.updateToolbar(o),this.#o.updateMode(o);const{offsetX:p,offsetY:g}=this.#_(),y=this.getNextId(),E=this.#g({parent:this,id:y,x:p,y:g,uiManager:this.#o,isCentered:!0,...u});E&&this.add(E)}deserialize(o){return C.#h.get(o.annotationType??o.annotationEditorType)?.deserialize(o,this,this.#o)||null}createAndAddNewEditor(o,u,p={}){const g=this.getNextId(),y=this.#g({parent:this,id:g,x:o.offsetX,y:o.offsetY,uiManager:this.#o,isCentered:u,...p});return y&&this.add(y),y}#_(){const{x:o,y:u,width:p,height:g}=this.div.getBoundingClientRect(),y=Math.max(0,o),E=Math.max(0,u),N=(y+Math.min(window.innerWidth,o+p))/2-o,B=(E+Math.min(window.innerHeight,u+g))/2-u,[Y,se]=this.viewport.rotation%180==0?[N,B]:[B,N];return{offsetX:Y,offsetY:se}}addNewEditor(){this.createAndAddNewEditor(this.#_(),!0)}setSelected(o){this.#o.setSelected(o)}toggleSelected(o){this.#o.toggleSelected(o)}isSelected(o){return this.#o.isSelected(o)}unselect(o){this.#o.unselect(o)}pointerup(o){const{isMac:u}=zi.platform;if(!(0!==o.button||o.ctrlKey&&u)&&o.target===this.div&&this.#a){if(this.#a=!1,!this.#t)return void(this.#t=!0);if(this.#o.getMode()===Xe.STAMP)return void this.#o.unselectAll();this.createAndAddNewEditor(o,!1)}}pointerdown(o){if(this.#o.getMode()===Xe.HIGHLIGHT&&this.enableTextSelection(),this.#a)return void(this.#a=!1);const{isMac:u}=zi.platform;if(0!==o.button||o.ctrlKey&&u||o.target!==this.div)return;this.#a=!0;const p=this.#o.getActive();this.#t=!p||p.isEmpty()}findNewParent(o,u,p){const g=this.#o.findParent(u,p);return null!==g&&g!==this&&(g.changeParent(o),!0)}destroy(){this.#o.getActive()?.parent===this&&(this.#o.commitOrRemove(),this.#o.setActiveEditor(null)),this.#r&&(clearTimeout(this.#r),this.#r=null);for(const o of this.#s.values())this.#e?.removePointerInTextLayer(o.contentDiv),o.setParent(null),o.isAttachedToDOM=!1,o.div.remove();this.div=null,this.#s.clear(),this.#o.removeLayer(this)}#m(){this.#l=!0;for(const o of this.#s.values())o.isEmpty()&&o.remove();this.#l=!1}render({viewport:o}){this.viewport=o,St(this.div,o);for(const u of this.#o.getEditors(this.pageIndex))this.add(u),u.rebuild();this.updateMode()}update({viewport:o}){this.#o.commitOrRemove(),this.#m();const u=this.viewport.rotation,p=o.rotation;if(this.viewport=o,St(this.div,{rotation:p}),u!==p)for(const g of this.#s.values())g.rotate(p);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:o,pageHeight:u}=this.viewport.rawDims;return[o,u]}get scale(){return this.#o.viewParameters.realScale}}return C})();class Yr{#e=null;#t=0;#n=new Map;#i=new Map;constructor({pageIndex:i}){this.pageIndex=i}setParent(i){if(this.#e){if(this.#e!==i){if(this.#n.size>0)for(const o of this.#n.values())o.remove(),i.append(o);this.#e=i}}else this.#e=i}static get _svgFactory(){return gn(this,"_svgFactory",new ji)}static#r(i,{x:o=0,y:u=0,width:p=1,height:g=1}={}){const{style:y}=i;y.top=100*u+"%",y.left=100*o+"%",y.width=100*p+"%",y.height=100*g+"%"}#s(i){const o=Yr._svgFactory.create(1,1,!0);return this.#e.append(o),o.setAttribute("aria-hidden",!0),Yr.#r(o,i),o}#a(i,o){const u=Yr._svgFactory.createElement("clipPath");i.append(u);const p=`clip_${o}`;u.setAttribute("id",p),u.setAttribute("clipPathUnits","objectBoundingBox");const g=Yr._svgFactory.createElement("use");return u.append(g),g.setAttribute("href",`#${o}`),g.classList.add("clip"),p}highlight(i,o,u,p=!1){const g=this.#t++,y=this.#s(i.box);y.classList.add("highlight"),i.free&&y.classList.add("free");const E=Yr._svgFactory.createElement("defs");y.append(E);const T=Yr._svgFactory.createElement("path");E.append(T);const x=`path_p${this.pageIndex}_${g}`;T.setAttribute("id",x),T.setAttribute("d",i.toSVGPath()),p&&this.#i.set(g,T);const N=this.#a(E,x),B=Yr._svgFactory.createElement("use");return y.append(B),y.setAttribute("fill",o),y.setAttribute("fill-opacity",u),B.setAttribute("href",`#${x}`),this.#n.set(g,y),{id:g,clipPathId:`url(#${N})`}}highlightOutline(i){const o=this.#t++,u=this.#s(i.box);u.classList.add("highlightOutline");const p=Yr._svgFactory.createElement("defs");u.append(p);const g=Yr._svgFactory.createElement("path");p.append(g);const y=`path_p${this.pageIndex}_${o}`;let E;if(g.setAttribute("id",y),g.setAttribute("d",i.toSVGPath()),g.setAttribute("vector-effect","non-scaling-stroke"),i.free){u.classList.add("free");const N=Yr._svgFactory.createElement("mask");p.append(N),E=`mask_p${this.pageIndex}_${o}`,N.setAttribute("id",E),N.setAttribute("maskUnits","objectBoundingBox");const B=Yr._svgFactory.createElement("rect");N.append(B),B.setAttribute("width","1"),B.setAttribute("height","1"),B.setAttribute("fill","white");const Y=Yr._svgFactory.createElement("use");N.append(Y),Y.setAttribute("href",`#${y}`),Y.setAttribute("stroke","none"),Y.setAttribute("fill","black"),Y.setAttribute("fill-rule","nonzero"),Y.classList.add("mask")}const T=Yr._svgFactory.createElement("use");u.append(T),T.setAttribute("href",`#${y}`),E&&T.setAttribute("mask",`url(#${E})`);const x=T.cloneNode();return u.append(x),T.classList.add("mainOutline"),x.classList.add("secondaryOutline"),this.#n.set(o,u),o}finalizeLine(i,o){const u=this.#i.get(i);this.#i.delete(i),this.updateBox(i,o.box),u.setAttribute("d",o.toSVGPath())}updateLine(i,o){this.#n.get(i).firstChild.firstChild.setAttribute("d",o.toSVGPath())}removeFreeHighlight(i){this.remove(i),this.#i.delete(i)}updatePath(i,o){this.#i.get(i).setAttribute("d",o.toSVGPath())}updateBox(i,o){Yr.#r(this.#n.get(i),o)}show(i,o){this.#n.get(i).classList.toggle("hidden",!o)}rotate(i,o){this.#n.get(i).setAttribute("data-main-rotation",o)}changeColor(i,o){this.#n.get(i).setAttribute("fill",o)}changeOpacity(i,o){this.#n.get(i).setAttribute("fill-opacity",o)}addClass(i,o){this.#n.get(i).classList.add(o)}removeClass(i,o){this.#n.get(i).classList.remove(o)}remove(i){null!==this.#e&&(this.#n.get(i).remove(),this.#n.delete(i))}destroy(){this.#e=null;for(const i of this.#n.values())i.remove();this.#n.clear()}}var Uu=be.AbortException,xn=be.AnnotationEditorLayer,_f=be.AnnotationEditorParamsType,PE=be.AnnotationEditorType,ME=be.AnnotationEditorUIManager,xE=be.AnnotationLayer,yf=be.AnnotationMode,Ld=be.CMapCompressionType,Ll=be.ColorPicker,gg=be.DOMSVGFactory,qa=be.DrawLayer,ju=be.FeatureTest,Fd=be.GlobalWorkerOptions,mg=be.ImageKind,Ct=be.InvalidPDFException,Ci=be.MissingPDFException,Hu=be.OPS,_g=be.PDFDataRangeTransport,qi=be.PDFDateString,y_=be.PDFWorker,Fc=be.PasswordResponses,Ka=be.PermissionFlag,vf=be.PixelsPerInch,Vd=be.RenderingCancelledException,v_=be.TextLayer,Bd=be.UnexpectedResponseException,Ud=be.Util,Gs=be.VerbosityLevel,So=be.XfaLayer,yg=be.build,_l=be.createValidAbsoluteUrl,Fl=be.fetchData,vg=be.getDocument,Eg=be.getFilenameFromUrl,RE=be.getPdfFilenameFromUrl,E_=be.getXfaPageViewport,P=be.isDataScheme,L=be.isPdfFile,M=be.noContextMenu,F=be.normalizeUnicode,q=be.setLayerDimensions,oe=be.shadow,ve=be.version;function rt(C,i){this.v=C,this.k=i}function Qe(C){return new rt(C,0)}function Kt(C){var i,o;function u(g,y){try{var E=C[g](y),T=E.value,x=T instanceof rt;Promise.resolve(x?T.v:T).then(function(N){if(x){var B="return"===g?"return":"next";if(!T.k||N.done)return u(B,N);N=C[B](N).value}p(E.done?"return":"normal",N)},function(N){u("throw",N)})}catch(N){p("throw",N)}}function p(g,y){switch(g){case"return":i.resolve({value:y,done:!0});break;case"throw":i.reject(y);break;default:i.resolve({value:y,done:!1})}(i=i.next)?u(i.key,i.arg):o=null}this._invoke=function(g,y){return new Promise(function(E,T){var x={key:g,arg:y,resolve:E,reject:T,next:null};o?o=o.next=x:(i=o=x,u(g,y))})},"function"!=typeof C.return&&(this.return=void 0)}function Yn(C){return function(){return new Kt(C.apply(this,arguments))}}function gr(C){function i(o){if(Object(o)!==o)return Promise.reject(new TypeError(o+" is not an object."));var u=o.done;return Promise.resolve(o.value).then(function(p){return{value:p,done:u}})}return(gr=function(u){this.s=u,this.n=u.next}).prototype={s:null,n:null,next:function(){return i(this.n.apply(this.s,arguments))},return:function(u){var p=this.s.return;return void 0===p?Promise.resolve({value:u,done:!0}):i(p.apply(this.s,arguments))},throw:function(u){var p=this.s.return;return void 0===p?Promise.reject(u):i(p.apply(this.s,arguments))}},new gr(C)}Kt.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Kt.prototype.next=function(C){return this._invoke("next",C)},Kt.prototype.throw=function(C){return this._invoke("throw",C)},Kt.prototype.return=function(C){return this._invoke("return",C)};var br={d:(C,i)=>{for(var o in i)br.o(i,o)&&!br.o(C,o)&&Object.defineProperty(C,o,{enumerable:!0,get:i[o]})},o:(C,i)=>Object.prototype.hasOwnProperty.call(C,i)},Si=globalThis.pdfjsViewer={};br.d(Si,{AnnotationLayerBuilder:()=>j_,DownloadManager:()=>Zu,EventBus:()=>Rg,FindState:()=>Hl,GenericL10n:()=>Da,LinkTarget:()=>Ta,PDFFindController:()=>Gc,PDFHistory:()=>ny,PDFLinkService:()=>wr,PDFPageView:()=>id,PDFScriptingManager:()=>sy,PDFSinglePageViewer:()=>Ws,PDFViewer:()=>Ma,ProgressBar:()=>wf,RenderingStates:()=>zn,ScrollMode:()=>yi,SimpleLinkService:()=>k_,SpreadMode:()=>gs,StructTreeLayerBuilder:()=>nd,TextLayerBuilder:()=>Za,XfaLayerBuilder:()=>ih,parseQueryString:()=>$u});const zn={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},yi={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3},gs={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};class zu{constructor(){const i=window.devicePixelRatio||1;this.sx=i,this.sy=i}get scaled(){return 1!==this.sx||1!==this.sy}}function Bc(C,i,o=!1){let u=C.offsetParent;if(!u)return void console.error("offsetParent is not set -- cannot scroll");let p=C.offsetTop+C.clientTop,g=C.offsetLeft+C.clientLeft;for(;u.clientHeight===u.scrollHeight&&u.clientWidth===u.scrollWidth||o&&(u.classList.contains("markedContent")||"hidden"===getComputedStyle(u).overflow);)if(p+=u.offsetTop,g+=u.offsetLeft,u=u.offsetParent,!u)return;i&&(void 0!==i.top&&(p+=i.top),void 0!==i.left&&(g+=i.left,u.scrollLeft=g)),u.scrollTop=p}function $u(C){const i=new Map;for(const[o,u]of new URLSearchParams(C))i.set(o.toLowerCase(),u);return i}const A_=/[\x00-\x1F]/g;function Hd(C,i=!1){return A_.test(C)?i?C.replaceAll(A_,o=>"\0"===o?"":" "):C.replaceAll("\0",""):C}function Uc(C,i,o=0){let u=o,p=C.length-1;if(p<0||!i(C[p]))return C.length;if(i(C[u]))return u;for(;u<p;){const g=u+p>>1;i(C[g])?p=g:u=g+1}return u}function C_(C){if(Math.floor(C)===C)return[C,1];const i=1/C;if(i>8)return[1,8];if(Math.floor(i)===i)return[1,i];const u=C>1?i:C;let T,p=0,g=1,y=1,E=1;for(;;){const x=p+y,N=g+E;if(N>8)break;u<=x/N?(y=x,E=N):(p=x,g=N)}return T=u-p/g<y/E-u?u===C?[p,g]:[g,p]:u===C?[y,E]:[E,y],T}function zd(C,i){return C-C%i}function Gd(C){return Number.isInteger(C)&&C%90==0}function Wd(C){return C.width<=C.height}new Promise(function(C){window.requestAnimationFrame(C)});const Ul=document.documentElement.style;class wf{#e=null;#t=null;#n=0;#i=null;#r=!0;constructor(i){this.#e=i.classList,this.#i=i.style}get percent(){return this.#n}set percent(i){this.#n=function kE(C,i,o){return Math.min(Math.max(C,i),o)}(i,0,100),isNaN(i)?this.#e.add("indeterminate"):(this.#e.remove("indeterminate"),this.#i.setProperty("--progressBar-percent",`${this.#n}%`))}setWidth(i){if(!i)return;const u=i.parentNode.offsetWidth-i.offsetWidth;u>0&&this.#i.setProperty("--progressBar-end-offset",`${u}px`)}setDisableAutoFetch(i=5e3){100===this.#n||isNaN(this.#n)||(this.#t&&clearTimeout(this.#t),this.show(),this.#t=setTimeout(()=>{this.#t=null,this.hide()},i))}hide(){this.#r&&(this.#r=!1,this.#e.add("hidden"))}show(){this.#r||(this.#r=!0,this.#e.remove("hidden"))}}function jl(C){return function vl(C){return C<11904}(C)?function S_(C){return 0==(65408&C)}(C)?function Cf(C){return 32===C||9===C||13===C||10===C}(C)?0:function D_(C){return C>=97&&C<=122||C>=65&&C<=90}(C)||function LE(C){return C>=48&&C<=57}(C)||95===C?1:2:function Gu(C){return 3584==(65408&C)}(C)?7:160===C?0:1:function Hc(C){return C>=13312&&C<=40959||C>=63744&&C<=64255}(C)?3:function FE(C){return C>=12448&&C<=12543}(C)?4:function P_(C){return C>=12352&&C<=12447}(C)?5:function M_(C){return C>=65376&&C<=65439}(C)?6:1}let as;const Hl={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3},Tf={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},zc=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]);let $c;const Wu=new RegExp("\\p{M}+","gu"),R_=new RegExp("([.*+?^${}()|[\\]\\\\])|(\\p{P})|(\\s+)|(\\p{M})|(\\p{L})","gu"),Tg=new RegExp("([^\\p{M}])\\p{M}*$","u"),qu=new RegExp("^\\p{M}*([^\\p{M}])","u"),oC=/[\uAC00-\uD7AF\uFA6C\uFACF-\uFAD1\uFAD5-\uFAD7]+/g,O_=new Map,If=new Map;let N_=null,fc=null;function Ku(C){const i=[];let o,u;for(;null!==(o=oC.exec(C));){let{index:se}=o;for(const le of o[0]){let me=O_.get(le);me||(me=le.normalize("NFD").length,O_.set(le,me)),i.push([me,se++])}}if(0===i.length&&N_)u=N_;else if(i.length>0&&fc)u=fc;else{const Te=`([${Object.keys(Tf).join("")}])|([${function VE(){return as||="\xa0\xa8\xaa\xaf\xb2-\xb5\xb8-\xba\xbc-\xbe\u0132-\u0133\u013f-\u0140\u0149\u017f\u01c4-\u01cc\u01f1-\u01f3\u02b0-\u02b8\u02d8-\u02dd\u02e0-\u02e4\u0374\u037a\u037e\u0384-\u0385\u0387\u03d0-\u03d6\u03f0-\u03f2\u03f4-\u03f5\u03f9\u0587\u0675-\u0678\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e33\u0eb3\u0edc-\u0edd\u0f0c\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u10fc\u1d2c-\u1d2e\u1d30-\u1d3a\u1d3c-\u1d4d\u1d4f-\u1d6a\u1d78\u1d9b-\u1dbf\u1e9a-\u1e9b\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbd-\u1fc1\u1fc9\u1fcb\u1fcd-\u1fcf\u1fd3\u1fdb\u1fdd-\u1fdf\u1fe3\u1feb\u1fed-\u1fef\u1ff9\u1ffb\u1ffd-\u1ffe\u2000-\u200a\u2011\u2017\u2024-\u2026\u202f\u2033-\u2034\u2036-\u2037\u203c\u203e\u2047-\u2049\u2057\u205f\u2070-\u2071\u2074-\u208e\u2090-\u209c\u20a8\u2100-\u2103\u2105-\u2107\u2109-\u2113\u2115-\u2116\u2119-\u211d\u2120-\u2122\u2124\u2126\u2128\u212a-\u212d\u212f-\u2131\u2133-\u2139\u213b-\u2140\u2145-\u2149\u2150-\u217f\u2189\u222c-\u222d\u222f-\u2230\u2329-\u232a\u2460-\u24ea\u2a0c\u2a74-\u2a76\u2adc\u2c7c-\u2c7d\u2d6f\u2e9f\u2ef3\u2f00-\u2fd5\u3000\u3036\u3038-\u303a\u309b-\u309c\u309f\u30ff\u3131-\u318e\u3192-\u319f\u3200-\u321e\u3220-\u3247\u3250-\u327e\u3280-\u33ff\ua69c-\ua69d\ua770\ua7f2-\ua7f4\ua7f8-\ua7f9\uab5c-\uab5f\uab69\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfc\ufe10-\ufe19\ufe30-\ufe44\ufe47-\ufe52\ufe54-\ufe66\ufe68-\ufe6b\ufe70-\ufe72\ufe74\ufe76-\ufefc\uff01-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc\uffe0-\uffe6",as}()}])|((?:\u3099|\u309a)\\n)|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|((?:\\p{Ideographic}|[\u3040-\u30ff])\\n)|(\\n)`;u=0===i.length?N_=new RegExp(Te+"|(\\u0000)","gum"):fc=new RegExp(Te+"|([\\u1100-\\u1112\\ud7a4-\\ud7af\\ud84a\\ud84c\\ud850\\ud854\\ud857\\ud85f])","gum")}const p=[];for(;null!==(o=Wu.exec(C));)p.push([o[0].length,o.index]);let g=C.normalize("NFD");const y=[[0,0]];let E=0,T=0,x=0,N=0,B=0,Y=!1;return g=g.replace(u,(se,le,me,Fe,Te,nt,ht,dt,At,Et)=>{if(Et-=N,le){const It=Tf[le],Lt=It.length;for(let st=1;st<Lt;st++)y.push([Et-x+st,x-st]);return x-=Lt-1,It}if(me){let It=If.get(me);It||(It=me.normalize("NFKC"),If.set(me,It));const Lt=It.length;for(let st=1;st<Lt;st++)y.push([Et-x+st,x-st]);return x-=Lt-1,It}if(Fe)return Y=!0,Et+B===p[E]?.[1]?++E:(y.push([Et-1-x+1,x-1]),x-=1,N+=1),y.push([Et-x+1,x]),N+=1,B+=1,Fe.charAt(0);if(Te){const It=Te.endsWith("\n"),Lt=It?Te.length-2:Te.length;Y=!0;let st=Lt;Et+B===p[E]?.[1]&&(st-=p[E][0],++E);for(let Ft=1;Ft<=st;Ft++)y.push([Et-1-x+Ft,x-Ft]);return x-=st,N+=st,It?(y.push([(Et+=Lt-1)-x+1,1+x]),x+=1,N+=1,B+=1,Te.slice(0,Lt)):Te}if(nt)return y.push([Et-x+(nt.length-2),1+x]),x+=1,N+=1,B+=1,nt.slice(0,-2);if(ht)return y.push([Et-x+(ht.length-1),x]),N+=1,B+=1,ht.slice(0,-1);if(dt)return y.push([Et-x+1,x-1]),x-=1,N+=1,B+=1," ";if(Et+B===i[T]?.[1]){const It=i[T][0]-1;++T;for(let Lt=1;Lt<=It;Lt++)y.push([Et-(x-Lt),x-Lt]);x-=It,N+=It}return At}),y.push([g.length,x]),[g,y,Y]}class Gc{#e=null;#t=!0;#n=0;constructor({linkService:i,eventBus:o,updateMatchesCountOnProgress:u=!0}){this._linkService=i,this._eventBus=o,this.#t=u,this.onIsPageVisible=null,this.#r(),o._on("find",this.#i.bind(this)),o._on("findbarclose",this.#y.bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this.#e}setDocument(i){this._pdfDocument&&this.#r(),i&&(this._pdfDocument=i,this._firstPageCapability.resolve())}#i(i){if(!i)return;const o=this._pdfDocument,{type:u}=i;(null===this.#e||this.#a(i))&&(this._dirtyMatch=!0),this.#e=i,"highlightallchange"!==u&&this.#b(Hl.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||o&&this._pdfDocument!==o)return;this.#u();const p=!this._highlightMatches,g=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),u?this._dirtyMatch?this.#p():"again"===u?(this.#p(),p&&this.#e.highlightAll&&this.#h()):"highlightallchange"===u?(g?this.#p():this._highlightMatches=!0,this.#h()):this.#p():this._findTimeout=setTimeout(()=>{this.#p(),this._findTimeout=null},250)})}scrollMatchIntoView({element:i=null,selectedLeft:o=0,pageIndex:u=-1,matchIndex:p=-1}){this._scrollMatches&&i&&-1!==p&&p===this._selected.matchIdx&&-1!==u&&u===this._selected.pageIdx&&(this._scrollMatches=!1,Bc(i,{top:-50,left:o+-400},!0))}#r(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this.#n=0,this.#e=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=Promise.withResolvers()}get#s(){const{query:i}=this.#e;return"string"==typeof i?(i!==this._rawQuery&&(this._rawQuery=i,[this._normalizedQuery]=Ku(i)),this._normalizedQuery):(i||[]).filter(o=>!!o).map(o=>Ku(o)[0])}#a(i){const o=i.query,u=this.#e.query,p=typeof o;if(p!==typeof u)return!0;if("string"===p){if(o!==u)return!0}else if(JSON.stringify(o)!==JSON.stringify(u))return!0;switch(i.type){case"again":const y=this._selected.pageIdx+1,E=this._linkService;return y>=1&&y<=E.pagesCount&&y!==E.page&&!(this.onIsPageVisible?.(y)??1);case"highlightallchange":return!1}return!0}#l(i,o,u){let p=i.slice(0,o).match(Tg);if(p){const g=i.charCodeAt(o),y=p[1].charCodeAt(0);if(jl(g)===jl(y))return!1}if(p=i.slice(o+u).match(qu),p){const g=i.charCodeAt(o+u-1),y=p[1].charCodeAt(0);if(jl(g)===jl(y))return!1}return!0}#d(i,o){const{matchDiacritics:u}=this.#e;let p=!1;return(i=i.replaceAll(R_,(y,E,T,x,N,B)=>E?`[ ]*\\${E}[ ]*`:T?`[ ]*${T}[ ]*`:x?"[ ]+":u?N||B:N?zc.has(N.charCodeAt(0))?N:"":o?(p=!0,`${B}\\p{M}*`):B)).endsWith("[ ]*")&&(i=i.slice(0,i.length-4)),u&&o&&($c||=String.fromCharCode(...zc),p=!0,i=`${i}(?=[${$c}]|[^\\p{M}]|$)`),[p,i]}#c(i){const o=this.#s;if(0===o.length)return;const p=this.match(o,this._pageContents[i],i),g=this._pageMatches[i]=[],y=this._pageMatchesLength[i]=[],E=this._pageDiffs[i];p?.forEach(({index:x,length:N})=>{const[B,Y]=function Sf(C,i,o){if(!C)return[i,o];const u=i,p=i+o-1;let g=Uc(C,N=>N[0]>=u);C[g][0]>u&&--g;let y=Uc(C,N=>N[0]>=p,g);C[y][0]>p&&--y;const E=u+C[g][1];return[E,p+C[y][1]+1-E]}(E,x,N);Y&&(g.push(B),y.push(Y))}),this.#e.highlightAll&&this.#o(i),this._resumePageIdx===i&&(this._resumePageIdx=null,this.#g());const T=g.length;this._matchesCountTotal+=T,this.#t?T>0&&this.#w():++this.#n===this._linkService.pagesCount&&this.#w()}match(i,o,u){const p=this._hasDiacritics[u];let g=!1;if("string"==typeof i?[g,i]=this.#d(i,p):i=i.sort().reverse().map(B=>{const[Y,se]=this.#d(B,p);return g||=Y,`(${se})`}).join("|"),!i)return;const{caseSensitive:y,entireWord:E}=this.#e;i=new RegExp(i,`g${g?"u":""}${y?"":"i"}`);const x=[];let N;for(;null!==(N=i.exec(o));)E&&!this.#l(o,N.index,N[0].length)||x.push({index:N.index,length:N[0].length});return x}#u(){if(this._extractTextPromises.length>0)return;let i=Promise.resolve();const o={disableNormalization:!0};for(let u=0,p=this._linkService.pagesCount;u<p;u++){const{promise:g,resolve:y}=Promise.withResolvers();this._extractTextPromises[u]=g,i=i.then(()=>this._pdfDocument.getPage(u+1).then(E=>E.getTextContent(o)).then(E=>{const T=[];for(const x of E.items)T.push(x.str),x.hasEOL&&T.push("\n");[this._pageContents[u],this._pageDiffs[u],this._hasDiacritics[u]]=Ku(T.join("")),y()},E=>{console.error(`Unable to get text content for page ${u+1}`,E),this._pageContents[u]="",this._pageDiffs[u]=null,this._hasDiacritics[u]=!1,y()}))}}#o(i){this._scrollMatches&&this._selected.pageIdx===i&&(this._linkService.page=i+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:i})}#h(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}#p(){const i=this.#e.findPrevious,o=this._linkService.page-1,u=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=o,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this.#n=0,this._matchesCountTotal=0,this.#h();for(let y=0;y<u;y++)this._pendingFindMatches.has(y)||(this._pendingFindMatches.add(y),this._extractTextPromises[y].then(()=>{this._pendingFindMatches.delete(y),this.#c(y)}))}if(0===this.#s.length)return void this.#b(Hl.FOUND);if(this._resumePageIdx)return;const g=this._offset;if(this._pagesToSearch=u,null!==g.matchIdx){if(!i&&g.matchIdx+1<this._pageMatches[g.pageIdx].length||i&&g.matchIdx>0)return g.matchIdx=i?g.matchIdx-1:g.matchIdx+1,void this.#m(!0);this.#_(i)}this.#g()}#f(i){const o=this._offset,u=i.length,p=this.#e.findPrevious;return u?(o.matchIdx=p?u-1:0,this.#m(!0),!0):(this.#_(p),!!(o.wrapped&&(o.matchIdx=null,this._pagesToSearch<0))&&(this.#m(!1),!0))}#g(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let i=null;do{const o=this._offset.pageIdx;if(i=this._pageMatches[o],!i){this._resumePageIdx=o;break}}while(!this.#f(i))}#_(i){const o=this._offset,u=this._linkService.pagesCount;o.pageIdx=i?o.pageIdx-1:o.pageIdx+1,o.matchIdx=null,this._pagesToSearch--,(o.pageIdx>=u||o.pageIdx<0)&&(o.pageIdx=i?u-1:0,o.wrapped=!0)}#m(i=!1){let o=Hl.NOT_FOUND;const u=this._offset.wrapped;if(this._offset.wrapped=!1,i){const p=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,o=u?Hl.WRAPPED:Hl.FOUND,-1!==p&&p!==this._selected.pageIdx&&this.#o(p)}this.#b(o,this.#e.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,this.#o(this._selected.pageIdx))}#y(i){const o=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||o&&this._pdfDocument!==o||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),this.#b(Hl.FOUND),this._highlightMatches=!1,this.#h())})}#E(){const{pageIdx:i,matchIdx:o}=this._selected;let u=0,p=this._matchesCountTotal;if(-1!==o){for(let g=0;g<i;g++)u+=this._pageMatches[g]?.length||0;u+=o+1}return(u<1||u>p)&&(u=p=0),{current:u,total:p}}#w(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this.#E()})}#b(i,o=!1){!this.#t&&(this.#n!==this._linkService.pagesCount||i===Hl.PENDING)||this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:i,previous:o,entireWord:this.#e?.entireWord??null,matchesCount:this.#E(),rawQuery:this.#e?.query??null})}}const Ta={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};class wr{externalLinkEnabled=!0;constructor({eventBus:i,externalLinkTarget:o=null,externalLinkRel:u=null,ignoreDestinationZoom:p=!1}={}){this.eventBus=i,this.externalLinkTarget=o,this.externalLinkRel=u,this._ignoreDestinationZoom=p,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(i,o=null){this.baseUrl=o,this.pdfDocument=i}setViewer(i){this.pdfViewer=i}setHistory(i){this.pdfHistory=i}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfDocument?this.pdfViewer.currentPageNumber:1}set page(i){this.pdfDocument&&(this.pdfViewer.currentPageNumber=i)}get rotation(){return this.pdfDocument?this.pdfViewer.pagesRotation:0}set rotation(i){this.pdfDocument&&(this.pdfViewer.pagesRotation=i)}get isInPresentationMode(){return!!this.pdfDocument&&this.pdfViewer.isInPresentationMode}goToDestination(i){var o=this;return(0,ae.Z)(function*(){if(!o.pdfDocument)return;let u,p,g;if("string"==typeof i?(u=i,p=yield o.pdfDocument.getDestination(i)):(u=null,p=yield i),!Array.isArray(p))return void console.error(`goToDestination: "${p}" is not a valid destination array, for dest="${i}".`);const[y]=p;if(y&&"object"==typeof y){if(g=o.pdfDocument.cachedPageNumber(y),!g)try{g=(yield o.pdfDocument.getPageIndex(y))+1}catch{return void console.error(`goToDestination: "${y}" is not a valid page reference, for dest="${i}".`)}}else Number.isInteger(y)&&(g=y+1);!g||g<1||g>o.pagesCount?console.error(`goToDestination: "${g}" is not a valid page number, for dest="${i}".`):(o.pdfHistory&&(o.pdfHistory.pushCurrentPosition(),o.pdfHistory.push({namedDest:u,explicitDest:p,pageNumber:g})),o.pdfViewer.scrollPageIntoView({pageNumber:g,destArray:p,ignoreDestinationZoom:o._ignoreDestinationZoom}))})()}goToPage(i){if(!this.pdfDocument)return;const o="string"==typeof i&&this.pdfViewer.pageLabelToPageNumber(i)||0|i;Number.isInteger(o)&&o>0&&o<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(o)),this.pdfViewer.scrollPageIntoView({pageNumber:o})):console.error(`PDFLinkService.goToPage: "${i}" is not a valid page.`)}addLinkAttributes(i,o,u=!1){if(!o||"string"!=typeof o)throw new Error('A valid "url" parameter must provided.');const p=u?Ta.BLANK:this.externalLinkTarget,g=this.externalLinkRel;this.externalLinkEnabled?i.href=i.title=o:(i.href="",i.title=`Disabled: ${o}`,i.onclick=()=>!1);let y="";switch(p){case Ta.NONE:break;case Ta.SELF:y="_self";break;case Ta.BLANK:y="_blank";break;case Ta.PARENT:y="_parent";break;case Ta.TOP:y="_top"}i.target=y,i.rel="string"==typeof g?g:"noopener noreferrer nofollow"}getDestinationHash(i){if("string"==typeof i){if(i.length>0)return this.getAnchorUrl("#"+escape(i))}else if(Array.isArray(i)){const o=JSON.stringify(i);if(o.length>0)return this.getAnchorUrl("#"+escape(o))}return this.getAnchorUrl("")}getAnchorUrl(i){return this.baseUrl?this.baseUrl+i:i}setHash(i){if(!this.pdfDocument)return;let o,u;if(i.includes("=")){const p=$u(i);if(p.has("search")){const g=p.get("search").replaceAll('"',""),y="true"===p.get("phrase");this.eventBus.dispatch("findfromurlhash",{source:this,query:y?g:g.match(/\S+/g)})}if(p.has("page")&&(o=0|p.get("page")||1),p.has("zoom")){const g=p.get("zoom").split(","),y=g[0],E=parseFloat(y);y.includes("Fit")?"Fit"===y||"FitB"===y?u=[null,{name:y}]:"FitH"===y||"FitBH"===y||"FitV"===y||"FitBV"===y?u=[null,{name:y},g.length>1?0|g[1]:null]:"FitR"===y?5!==g.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):u=[null,{name:y},0|g[1],0|g[2],0|g[3],0|g[4]]:console.error(`PDFLinkService.setHash: "${y}" is not a valid zoom value.`):u=[null,{name:"XYZ"},g.length>1?0|g[1]:null,g.length>2?0|g[2]:null,E?E/100:y]}return u?this.pdfViewer.scrollPageIntoView({pageNumber:o||this.page,destArray:u,allowNegativeOffset:!0}):o&&(this.page=o),p.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:p.get("pagemode")}),void(p.has("nameddest")&&this.goToDestination(p.get("nameddest")))}u=unescape(i);try{u=JSON.parse(u),Array.isArray(u)||(u=u.toString())}catch{}"string"==typeof u||wr.#e(u)?this.goToDestination(u):console.error(`PDFLinkService.setHash: "${unescape(i)}" is not a valid destination.`)}executeNamedAction(i){if(this.pdfDocument){switch(i){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:i})}}executeSetOCGState(i){var o=this;return(0,ae.Z)(function*(){if(!o.pdfDocument)return;const u=o.pdfDocument,p=yield o.pdfViewer.optionalContentConfigPromise;u===o.pdfDocument&&(p.setOCGState(i),o.pdfViewer.optionalContentConfigPromise=Promise.resolve(p))})()}static#e(i){if(!Array.isArray(i)||i.length<2)return!1;const[o,u,...p]=i;if(("object"!=typeof o||!Number.isInteger(o?.num)||!Number.isInteger(o?.gen))&&!Number.isInteger(o)||"object"!=typeof u||"string"!=typeof u?.name)return!1;const g=p.length;let y=!0;switch(u.name){case"XYZ":if(g<2||g>3)return!1;break;case"Fit":case"FitB":return 0===g;case"FitH":case"FitBH":case"FitV":case"FitBV":if(g>1)return!1;break;case"FitR":if(4!==g)return!1;y=!1;break;default:return!1}for(const E of p)if(!("number"==typeof E||y&&null===E))return!1;return!0}}class k_ extends wr{setDocument(i,o=null){}}const{AbortException:qd,AnnotationEditorLayer:pc,AnnotationEditorType:Ms,AnnotationEditorUIManager:la,AnnotationLayer:Df,AnnotationMode:ca,createValidAbsoluteUrl:L_,DrawLayer:Ig,fetchData:Go,getPdfFilenameFromUrl:UE,isPdfFile:Yu,normalizeUnicode:B_,PermissionFlag:Yd,PixelsPerInch:El,RenderingCancelledException:Mg,setLayerDimensions:Qu,shadow:gc,TextLayer:$E,version:WE,XfaLayer:U_}=globalThis.pdfjsLib;class j_{#e=null;#t=null;constructor({pdfPage:i,linkService:o,downloadManager:u,annotationStorage:p=null,imageResourcesPath:g="",renderForms:y=!0,enableScripting:E=!1,hasJSActionsPromise:T=null,fieldObjectsPromise:x=null,annotationCanvasMap:N=null,accessibilityManager:B=null,annotationEditorUIManager:Y=null,onAppend:se=null}){this.pdfPage=i,this.linkService=o,this.downloadManager=u,this.imageResourcesPath=g,this.renderForms=y,this.annotationStorage=p,this.enableScripting=E,this._hasJSActionsPromise=T||Promise.resolve(!1),this._fieldObjectsPromise=x||Promise.resolve(null),this._annotationCanvasMap=N,this._accessibilityManager=B,this._annotationEditorUIManager=Y,this.#e=se,this.annotationLayer=null,this.div=null,this._cancelled=!1,this._eventBus=o.eventBus}render(i,o="display"){var u=this;return(0,ae.Z)(function*(){if(u.div){if(u._cancelled||!u.annotationLayer)return;return void u.annotationLayer.update({viewport:i.clone({dontFlip:!0})})}const[p,g,y]=yield Promise.all([u.pdfPage.getAnnotations({intent:o}),u._hasJSActionsPromise,u._fieldObjectsPromise]);if(u._cancelled)return;const E=u.div=document.createElement("div");E.className="annotationLayer",u.#e?.(E),0!==p.length?(u.annotationLayer=new Df({div:E,accessibilityManager:u._accessibilityManager,annotationCanvasMap:u._annotationCanvasMap,annotationEditorUIManager:u._annotationEditorUIManager,page:u.pdfPage,viewport:i.clone({dontFlip:!0})}),yield u.annotationLayer.render({annotations:p,imageResourcesPath:u.imageResourcesPath,renderForms:u.renderForms,linkService:u.linkService,downloadManager:u.downloadManager,annotationStorage:u.annotationStorage,enableScripting:u.enableScripting,hasJSActions:g,fieldObjects:y}),u.linkService.isInPresentationMode&&u.#n(3),u.#t||(u.#t=new AbortController,u._eventBus?._on("presentationmodechanged",T=>{u.#n(T.state)},{signal:u.#t.signal}))):u.hide()})()}cancel(){this._cancelled=!0,this.#t?.abort(),this.#t=null}hide(){this.div&&(this.div.hidden=!0)}hasEditableAnnotations(){return!!this.annotationLayer?.hasEditableAnnotations()}#n(i){if(!this.div)return;let o=!1;switch(i){case 3:o=!0;break;case 1:break;default:return}for(const u of this.div.childNodes)u.hasAttribute("data-internal-link")||(u.inert=o)}}function xg(C,i){const o=document.createElement("a");if(!o.click)throw new Error('DownloadManager: "a.click()" is not supported.');o.href=C,o.target="_parent","download"in o&&(o.download=i),(document.body||document.documentElement).append(o),o.click(),o.remove()}class Zu{#e=new WeakMap;downloadData(i,o,u){xg(URL.createObjectURL(new Blob([i],{type:u})),o)}openOrDownloadData(i,o,u=null){const g=Yu(o)?"application/pdf":"";return this.downloadData(i,o,g),!1}download(i,o,u){let p;if(i)p=URL.createObjectURL(new Blob([i],{type:"application/pdf"}));else{if(!L_(o,"http://example.com"))return void console.error(`download - not a valid URL: ${o}`);p=o+"#pdfjs.action=download"}xg(p,u)}}const Mf_EVENT="event",Mf_TIMEOUT="timeout";function zl(){return(zl=(0,ae.Z)(function*({target:C,name:i,delay:o=0}){if("object"!=typeof C||!i||"string"!=typeof i||!(Number.isInteger(o)&&o>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");const{promise:u,resolve:p}=Promise.withResolvers(),g=new AbortController;function y(x){g.abort(),clearTimeout(T),p(x)}C[C instanceof Rg?"_on":"addEventListener"](i,y.bind(null,Mf_EVENT),{signal:g.signal});const T=setTimeout(y.bind(null,Mf_TIMEOUT),o);return u})).apply(this,arguments)}class Rg{#e=Object.create(null);on(i,o,u=null){this._on(i,o,{external:!0,once:u?.once,signal:u?.signal})}off(i,o,u=null){this._off(i,o)}dispatch(i,o){const u=this.#e[i];if(!u||0===u.length)return;let p;for(const{listener:g,external:y,once:E}of u.slice(0))E&&this._off(i,g),y?(p||=[]).push(g):g(o);if(p){for(const g of p)g(o);p=null}}_on(i,o,u=null){let p=null;if(u?.signal instanceof AbortSignal){const{signal:y}=u;if(y.aborted)return void console.error("Cannot use an `aborted` signal.");const E=()=>this._off(i,o);p=()=>y.removeEventListener("abort",E),y.addEventListener("abort",E)}(this.#e[i]||=[]).push({listener:o,external:!0===u?.external,once:!0===u?.once,rmAbort:p})}_off(i,o,u=null){const p=this.#e[i];if(p)for(let g=0,y=p.length;g<y;g++){const E=p[g];if(E.listener===o)return E.rmAbort?.(),void p.splice(g,1)}}}class Kc{constructor(i){this.value=i}valueOf(){return this.value}}class Fr extends Kc{constructor(i="???"){super(i)}toString(i){return`{${this.value}}`}}class Sa extends Kc{constructor(i,o={}){super(i),this.opts=o}toString(i){try{return i.memoizeIntlObject(Intl.NumberFormat,this.opts).format(this.value)}catch(o){return i.reportError(o),this.value.toString(10)}}}class $l extends Kc{constructor(i,o={}){super(i),this.opts=o}toString(i){try{return i.memoizeIntlObject(Intl.DateTimeFormat,this.opts).format(this.value)}catch(o){return i.reportError(o),new Date(this.value).toISOString()}}}const Qd=100,KE="\u2068",Zd="\u2069";function Yc(C,i,o){return o===i||o instanceof Sa&&i instanceof Sa&&o.value===i.value||i instanceof Sa&&"string"==typeof o&&o===C.memoizeIntlObject(Intl.PluralRules,i.opts).select(i.value)}function Og(C,i,o){return i[o]?da(C,i[o].value):(C.reportError(new RangeError("No default")),new Fr)}function Do(C,i){const o=[],u=Object.create(null);for(const p of i)"narg"===p.type?u[p.name]=Rf(C,p.value):o.push(Rf(C,p));return{positional:o,named:u}}function Rf(C,i){switch(i.type){case"str":return i.value;case"num":return new Sa(i.value,{minimumFractionDigits:i.precision});case"var":return function H_(C,{name:i}){let o;if(C.params){if(!Object.prototype.hasOwnProperty.call(C.params,i))return new Fr(`$${i}`);o=C.params[i]}else{if(!C.args||!Object.prototype.hasOwnProperty.call(C.args,i))return C.reportError(new ReferenceError(`Unknown variable: $${i}`)),new Fr(`$${i}`);o=C.args[i]}if(o instanceof Kc)return o;switch(typeof o){case"string":return o;case"number":return new Sa(o);case"object":if(o instanceof Date)return new $l(o.getTime());default:return C.reportError(new TypeError(`Variable type not supported: $${i}, ${typeof o}`)),new Fr(`$${i}`)}}(C,i);case"mesg":return function Of(C,{name:i,attr:o}){const u=C.bundle._messages.get(i);if(!u)return C.reportError(new ReferenceError(`Unknown message: ${i}`)),new Fr(i);if(o){const p=u.attributes[o];return p?da(C,p):(C.reportError(new ReferenceError(`Unknown attribute: ${o}`)),new Fr(`${i}.${o}`))}return u.value?da(C,u.value):(C.reportError(new ReferenceError(`No value: ${i}`)),new Fr(i))}(C,i);case"term":return function YE(C,{name:i,attr:o,args:u}){const p=`-${i}`,g=C.bundle._terms.get(p);if(!g)return C.reportError(new ReferenceError(`Unknown term: ${p}`)),new Fr(p);if(o){const E=g.attributes[o];if(E){C.params=Do(C,u).named;const T=da(C,E);return C.params=null,T}return C.reportError(new ReferenceError(`Unknown attribute: ${o}`)),new Fr(`${p}.${o}`)}C.params=Do(C,u).named;const y=da(C,g.value);return C.params=null,y}(C,i);case"func":return function Ng(C,{name:i,args:o}){let u=C.bundle._functions[i];if(!u)return C.reportError(new ReferenceError(`Unknown function: ${i}()`)),new Fr(`${i}()`);if("function"!=typeof u)return C.reportError(new TypeError(`Function ${i}() is not callable`)),new Fr(`${i}()`);try{let p=Do(C,o);return u(p.positional,p.named)}catch(p){return C.reportError(p),new Fr(`${i}()`)}}(C,i);case"select":return function Xu(C,{selector:i,variants:o,star:u}){let p=Rf(C,i);if(p instanceof Fr)return Og(C,o,u);for(const g of o)if(Yc(C,p,Rf(C,g.key)))return da(C,g.value);return Og(C,o,u)}(C,i);default:return new Fr}}function Po(C,i){if(C.dirty.has(i))return C.reportError(new RangeError("Cyclic reference")),new Fr;C.dirty.add(i);const o=[],u=C.bundle._useIsolating&&i.length>1;for(const p of i)if("string"!=typeof p){if(C.placeables++,C.placeables>Qd)throw C.dirty.delete(i),new RangeError(`Too many placeables expanded: ${C.placeables}, max allowed is ${Qd}`);u&&o.push(KE),o.push(Rf(C,p).toString(C)),u&&o.push(Zd)}else o.push(C.bundle._transform(p));return C.dirty.delete(i),o.join("")}function da(C,i){return"string"==typeof i?C.bundle._transform(i):Po(C,i)}class z_{constructor(i,o,u){this.dirty=new WeakSet,this.params=null,this.placeables=0,this.bundle=i,this.errors=o,this.args=u}reportError(i){if(!(this.errors&&i instanceof Error))throw i;this.errors.push(i)}memoizeIntlObject(i,o){let u=this.bundle._intls.get(i);u||(u={},this.bundle._intls.set(i,u));let p=JSON.stringify(o);return u[p]||(u[p]=new i(this.bundle.locales,o)),u[p]}}function Nf(C,i){const o=Object.create(null);for(const[u,p]of Object.entries(C))i.includes(u)&&(o[u]=p.valueOf());return o}const kf=["unitDisplay","currencyDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"];function $_(C,i){let o=C[0];if(o instanceof Fr)return new Fr(`NUMBER(${o.valueOf()})`);if(o instanceof Sa)return new Sa(o.valueOf(),{...o.opts,...Nf(i,kf)});if(o instanceof $l)return new Sa(o.valueOf(),{...Nf(i,kf)});throw new TypeError("Invalid argument to NUMBER")}const Qc=["dateStyle","timeStyle","fractionalSecondDigits","dayPeriod","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName"];function QE(C,i){let o=C[0];if(o instanceof Fr)return new Fr(`DATETIME(${o.valueOf()})`);if(o instanceof $l)return new $l(o.valueOf(),{...o.opts,...Nf(i,Qc)});if(o instanceof Sa)return new $l(o.valueOf(),{...Nf(i,Qc)});throw new TypeError("Invalid argument to DATETIME")}const ZE=new Map;class G_{constructor(i,{functions:o,useIsolating:u=!0,transform:p=(g=>g)}={}){this._terms=new Map,this._messages=new Map,this.locales=Array.isArray(i)?i:[i],this._functions={NUMBER:$_,DATETIME:QE,...o},this._useIsolating=u,this._transform=p,this._intls=function XE(C){const i=Array.isArray(C)?C.join(" "):C;let o=ZE.get(i);return void 0===o&&(o=new Map,ZE.set(i,o)),o}(i)}hasMessage(i){return this._messages.has(i)}getMessage(i){return this._messages.get(i)}addResource(i,{allowOverrides:o=!1}={}){const u=[];for(let p=0;p<i.body.length;p++){let g=i.body[p];if(g.id.startsWith("-")){if(!1===o&&this._terms.has(g.id)){u.push(new Error(`Attempt to override an existing term: "${g.id}"`));continue}this._terms.set(g.id,g)}else{if(!1===o&&this._messages.has(g.id)){u.push(new Error(`Attempt to override an existing message: "${g.id}"`));continue}this._messages.set(g.id,g)}}return u}formatPattern(i,o=null,u=null){if("string"==typeof i)return this._transform(i);let p=new z_(this,u,o);try{return Po(p,i).toString(p)}catch(g){if(p.errors&&g instanceof Error)return p.errors.push(g),(new Fr).toString(p);throw g}}}const W_=/^(-?[a-zA-Z][\w-]*) *= */gm,kg=/\.([a-zA-Z][\w-]*) *= */y,q_=/\*?\[/y,K_=/(-?[0-9]+(?:\.([0-9]+))?)/y,gC=/([a-zA-Z][\w-]*)/y,Y_=/([$-])?([a-zA-Z][\w-]*)(?:\.([a-zA-Z][\w-]*))?/y,mC=/^[A-Z][A-Z0-9_-]*$/,Ju=/([^{}\n\r]+)/y,_C=/([^\\"\n\r]*)/y,JE=/\\([\\"])/y,yC=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{6})/y,eb=/^\n+/,Q_=/ +$/,Qa=/ *\r?\n/g,Lf=/( *)$/,Zc=/{\s*/y,Xd=/\s*}/y,Lg=/\[\s*/y,Ff=/\s*] */y,Vf=/\s*\(\s*/y,tb=/\s*->\s*/y,ed=/\s*:\s*/y,Wo=/\s*,?\s*/y,ms=/\s+/y;class Bf{constructor(i){this.body=[],W_.lastIndex=0;let o=0;for(;;){let st=W_.exec(i);if(null===st)break;o=W_.lastIndex;try{this.body.push(T(st[1]))}catch(Ft){if(Ft instanceof SyntaxError)continue;throw Ft}}function u(st){return st.lastIndex=o,st.test(i)}function p(st,Ft){if(i[o]===st)return o++,!0;if(Ft)throw new Ft(`Expected ${st}`);return!1}function g(st,Ft){if(u(st))return o=st.lastIndex,!0;if(Ft)throw new Ft(`Expected ${st.toString()}`);return!1}function y(st){st.lastIndex=o;let Ft=st.exec(i);if(null===Ft)throw new SyntaxError(`Expected ${st.toString()}`);return o=st.lastIndex,Ft}function E(st){return y(st)[1]}function T(st){let Ft=N(),hn=function x(){let st=Object.create(null);for(;u(kg);){let Ft=E(kg),hn=N();if(null===hn)throw new SyntaxError("Expected attribute value");st[Ft]=hn}return st}();if(null===Ft&&0===Object.keys(hn).length)throw new SyntaxError("Expected message value or attributes");return{id:st,value:Ft,attributes:hn}}function N(){let st;if(u(Ju)&&(st=E(Ju)),"{"===i[o]||"}"===i[o])return B(st?[st]:[],1/0);let Ft=Et();return Ft?st?B([st,Ft],Ft.length):(Ft.value=It(Ft.value,eb),B([Ft],Ft.length)):st?It(st,Q_):null}function B(st=[],Ft){for(;;){if(u(Ju)){st.push(E(Ju));continue}if("{"===i[o]){st.push(Y());continue}if("}"===i[o])throw new SyntaxError("Unbalanced closing brace");let Bi=Et();if(!Bi)break;st.push(Bi),Ft=Math.min(Ft,Bi.length)}let hn=st.length-1,Di=st[hn];"string"==typeof Di&&(st[hn]=It(Di,Q_));let Vi=[];for(let Bi of st)Bi instanceof _s&&(Bi=Bi.value.slice(0,Bi.value.length-Ft)),Bi&&Vi.push(Bi);return Vi}function Y(){g(Zc,SyntaxError);let st=se();if(g(Xd))return st;if(g(tb)){let Ft=function Fe(){let hn,st=[],Ft=0;for(;u(q_);){p("*")&&(hn=Ft);let Di=Te(),Vi=N();if(null===Vi)throw new SyntaxError("Expected variant value");st[Ft++]={key:Di,value:Vi}}if(0===Ft)return null;if(void 0===hn)throw new SyntaxError("Expected default variant");return{variants:st,star:hn}}();return g(Xd,SyntaxError),{type:"select",selector:st,...Ft}}throw new SyntaxError("Unclosed placeable")}function se(){if("{"===i[o])return Y();if(u(Y_)){let[,st,Ft,hn=null]=y(Y_);if("$"===st)return{type:"var",name:Ft};if(g(Vf)){let Di=function le(){let st=[];for(;;){switch(i[o]){case")":return o++,st;case void 0:throw new SyntaxError("Unclosed argument list")}st.push(me()),g(Wo)}}();if("-"===st)return{type:"term",name:Ft,attr:hn,args:Di};if(mC.test(Ft))return{type:"func",name:Ft,args:Di};throw new SyntaxError("Function names must be all upper-case")}return"-"===st?{type:"term",name:Ft,attr:hn,args:[]}:{type:"mesg",name:Ft,attr:hn}}return nt()}function me(){let st=se();return"mesg"!==st.type?st:g(ed)?{type:"narg",name:st.name,value:nt()}:st}function Te(){let st;return g(Lg,SyntaxError),st=u(K_)?ht():{type:"str",value:E(gC)},g(Ff,SyntaxError),st}function nt(){if(u(K_))return ht();if('"'===i[o])return function dt(){p('"',SyntaxError);let st="";for(;;){if(st+=E(_C),"\\"!==i[o]){if(p('"'))return{type:"str",value:st};throw new SyntaxError("Unclosed string literal")}st+=At()}}();throw new SyntaxError("Invalid expression")}function ht(){let[,st,Ft=""]=y(K_),hn=Ft.length;return{type:"num",value:parseFloat(st),precision:hn}}function At(){if(u(JE))return E(JE);if(u(yC)){let[,st,Ft]=y(yC),hn=parseInt(st||Ft,16);return hn<=55295||57344<=hn?String.fromCodePoint(hn):"\ufffd"}throw new SyntaxError("Unknown escape sequence")}function Et(){let st=o;switch(g(ms),i[o]){case".":case"[":case"*":case"}":case void 0:return!1;case"{":return Lt(i.slice(st,o))}return" "===i[o-1]&&Lt(i.slice(st,o))}function It(st,Ft){return st.replace(Ft,"")}function Lt(st){let Ft=st.replace(Qa,"\n"),hn=Lf.exec(st)[1].length;return new _s(Ft,hn)}}}class _s{constructor(i,o){this.value=i,this.length=o}}const Xc=/<|&#?\w+;/,Jd={"http://www.w3.org/1999/xhtml":["em","strong","small","s","cite","q","dfn","abbr","data","time","code","var","samp","kbd","sub","sup","i","b","u","mark","bdi","bdo","span","br","wbr"]},Yt={"http://www.w3.org/1999/xhtml":{global:["title","aria-label","aria-valuetext"],a:["download"],area:["download","alt"],input:["alt","placeholder"],menuitem:["label"],menu:["label"],optgroup:["label"],option:["label"],track:["label"],img:["alt"],textarea:["placeholder"],th:["abbr"]},"http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul":{global:["accesskey","aria-label","aria-valuetext","label","title","tooltiptext"],description:["value"],key:["key","keycode"],label:["value"],textbox:["placeholder","value"]}};function bl(C,i){const{value:o}=i;if("string"==typeof o)if("title"===C.localName&&"http://www.w3.org/1999/xhtml"===C.namespaceURI)C.textContent=o;else if(Xc.test(o)){const u=C.ownerDocument.createElementNS("http://www.w3.org/1999/xhtml","template");u.innerHTML=o,function mc(C,i){for(const o of C.childNodes)if(o.nodeType!==o.TEXT_NODE){if(o.hasAttribute("data-l10n-name")){const u=Z_(i,o);C.replaceChild(u,o);continue}if(wl(o)){const u=X_(o);C.replaceChild(u,o);continue}console.warn(`An element of forbidden type "${o.localName}" was found in the translation. Only safe text-level elements and elements with data-l10n-name are allowed.`),C.replaceChild(jf(o),o)}i.textContent="",i.appendChild(C)}(u.content,C)}else C.textContent=o;Uf(i,C)}function eh(C,i){if(!C)return!1;for(let o of C)if(o.name===i)return!0;return!1}function Uf(C,i){const o=i.hasAttribute("data-l10n-attrs")?i.getAttribute("data-l10n-attrs").split(",").map(u=>u.trim()):null;for(const u of Array.from(i.attributes))oo(u.name,i,o)&&!eh(C.attributes,u.name)&&i.removeAttribute(u.name);if(C.attributes)for(const u of Array.from(C.attributes))oo(u.name,i,o)&&i.getAttribute(u.name)!==u.value&&i.setAttribute(u.name,u.value)}function Z_(C,i){const o=i.getAttribute("data-l10n-name"),u=C.querySelector(`[data-l10n-name="${o}"]`);return u?u.localName!==i.localName?(console.warn(`An element named "${o}" was found in the translation but its type ${i.localName} didn't match the element found in the source (${u.localName}).`),jf(i)):(C.removeChild(u),Al(i,u.cloneNode(!1))):(console.warn(`An element named "${o}" wasn't found in the source.`),jf(i))}function X_(C){const i=C.ownerDocument.createElement(C.localName);return Al(C,i)}function jf(C){return C.ownerDocument.createTextNode(C.textContent)}function wl(C){const i=Jd[C.namespaceURI];return i&&i.includes(C.localName)}function oo(C,i,o=null){if(o&&o.includes(C))return!0;const u=Yt[i.namespaceURI];if(!u)return!1;const p=C.toLowerCase(),g=i.localName;if(u.global.includes(p))return!0;if(!u[g])return!1;if(u[g].includes(p))return!0;if("http://www.w3.org/1999/xhtml"===i.namespaceURI&&"input"===g&&"value"===p){const y=i.type.toLowerCase();if("submit"===y||"button"===y||"reset"===y)return!0}return!1}function Al(C,i){return i.textContent=C.textContent,Uf(C,i),i}class Hf extends Array{static from(i){return i instanceof this?i:new this(i)}}Symbol;class Fi extends Hf{constructor(i){if(super(),Symbol.asyncIterator in Object(i))this.iterator=i[Symbol.asyncIterator]();else{if(!(Symbol.iterator in Object(i)))throw new TypeError("Argument must implement the iteration protocol.");this.iterator=i[Symbol.iterator]()}}[Symbol.asyncIterator](){const i=this;let o=0;return{next:()=>(0,ae.Z)(function*(){return i.length<=o&&i.push(i.iterator.next()),i[o++]})()}}touchNext(i=1){var o=this;return(0,ae.Z)(function*(){let u=0;for(;u++<i;){const p=o[o.length-1];if(p&&(yield p).done)break;o.push(o.iterator.next())}return o[o.length-1]})()}}class Ki{constructor(i=[],o){this.resourceIds=i,this.generateBundles=o,this.onChange(!0)}addResourceIds(i,o=!1){return this.resourceIds.push(...i),this.onChange(o),this.resourceIds.length}removeResourceIds(i){return this.resourceIds=this.resourceIds.filter(o=>!i.includes(o)),this.onChange(),this.resourceIds.length}formatWithFallback(i,o){var u=this;return(0,ae.Z)(function*(){const p=[];let g=!1;var T,y=!1,E=!1;try{for(var N,x=function ii(C){var i,o,u,p=2;for(typeof Symbol<"u"&&(o=Symbol.asyncIterator,u=Symbol.iterator);p--;){if(o&&null!=(i=C[o]))return i.call(C);if(u&&null!=(i=C[u]))return new gr(i.call(C));o="@@asyncIterator",u="@@iterator"}throw new TypeError("Object is not async iterable")}(u.bundles);y=!(N=yield x.next()).done;y=!1){const B=N.value;{g=!0;const Y=zf(o,B,i,p);if(0===Y.size)break;if(typeof console<"u"){const se=B.locales[0],le=Array.from(Y).join(", ");console.warn(`[fluent] Missing translations in ${se}: ${le}`)}}}}catch(B){E=!0,T=B}finally{try{y&&null!=x.return&&(yield x.return())}finally{if(E)throw T}}return!g&&typeof console<"u"&&console.warn(`[fluent] Request for keys failed because no resource bundles got generated.\n  keys: ${JSON.stringify(i)}.\n  resourceIds: ${JSON.stringify(u.resourceIds)}.`),p})()}formatMessages(i){return this.formatWithFallback(i,th)}formatValues(i){return this.formatWithFallback(i,J_)}formatValue(i,o){var u=this;return(0,ae.Z)(function*(){const[p]=yield u.formatValues([{id:i,args:o}]);return p})()}handleEvent(){this.onChange()}onChange(i=!1){this.bundles=Fi.from(this.generateBundles(this.resourceIds)),i&&this.bundles.touchNext(2)}}function J_(C,i,o,u){return o.value?C.formatPattern(o.value,u,i):null}function th(C,i,o,u){const p={value:null,attributes:null};o.value&&(p.value=C.formatPattern(o.value,u,i));let g=Object.keys(o.attributes);if(g.length>0){p.attributes=new Array(g.length);for(let[y,E]of g.entries()){let T=C.formatPattern(o.attributes[E],u,i);p.attributes[y]={name:E,value:T}}}return p}function zf(C,i,o,u){const p=[],g=new Set;return o.forEach(({id:y,args:E},T)=>{if(void 0!==u[T])return;let x=i.getMessage(y);if(x){if(p.length=0,u[T]=C(i,p,x,E),p.length>0&&typeof console<"u"){const N=i.locales[0],B=p.join(", ");console.warn(`[fluent][resolver] errors in ${N}/${y}: ${B}.`)}}else g.add(y)}),g}const Mo="data-l10n-id",_c="data-l10n-args",ib=`[${Mo}]`;class ey extends Ki{constructor(i,o){super(i,o),this.roots=new Set,this.pendingrAF=null,this.pendingElements=new Set,this.windowElement=null,this.mutationObserver=null,this.observerConfig={attributes:!0,characterData:!1,childList:!0,subtree:!0,attributeFilter:[Mo,_c]}}onChange(i=!1){super.onChange(i),this.roots&&this.translateRoots()}setAttributes(i,o,u){return i.setAttribute(Mo,o),u?i.setAttribute(_c,JSON.stringify(u)):i.removeAttribute(_c),i}getAttributes(i){return{id:i.getAttribute(Mo),args:JSON.parse(i.getAttribute(_c)||null)}}connectRoot(i){for(const o of this.roots)if(o===i||o.contains(i)||i.contains(o))throw new Error("Cannot add a root that overlaps with existing root.");if(this.windowElement){if(this.windowElement!==i.ownerDocument.defaultView)throw new Error("Cannot connect a root:\n          DOMLocalization already has a root from a different window.")}else this.windowElement=i.ownerDocument.defaultView,this.mutationObserver=new this.windowElement.MutationObserver(o=>this.translateMutations(o));this.roots.add(i),this.mutationObserver.observe(i,this.observerConfig)}disconnectRoot(i){return this.roots.delete(i),this.pauseObserving(),0===this.roots.size?(this.mutationObserver=null,this.windowElement&&this.pendingrAF&&this.windowElement.cancelAnimationFrame(this.pendingrAF),this.windowElement=null,this.pendingrAF=null,this.pendingElements.clear(),!0):(this.resumeObserving(),!1)}translateRoots(){const i=Array.from(this.roots);return Promise.all(i.map(o=>this.translateFragment(o)))}pauseObserving(){this.mutationObserver&&(this.translateMutations(this.mutationObserver.takeRecords()),this.mutationObserver.disconnect())}resumeObserving(){if(this.mutationObserver)for(const i of this.roots)this.mutationObserver.observe(i,this.observerConfig)}translateMutations(i){for(const o of i)switch(o.type){case"attributes":o.target.hasAttribute("data-l10n-id")&&this.pendingElements.add(o.target);break;case"childList":for(const u of o.addedNodes)if(u.nodeType===u.ELEMENT_NODE)if(u.childElementCount)for(const p of this.getTranslatables(u))this.pendingElements.add(p);else u.hasAttribute(Mo)&&this.pendingElements.add(u)}this.pendingElements.size>0&&null===this.pendingrAF&&(this.pendingrAF=this.windowElement.requestAnimationFrame(()=>{this.translateElements(Array.from(this.pendingElements)),this.pendingElements.clear(),this.pendingrAF=null}))}translateFragment(i){return this.translateElements(this.getTranslatables(i))}translateElements(i){var o=this;return(0,ae.Z)(function*(){if(!i.length)return;const u=i.map(o.getKeysForElement),p=yield o.formatMessages(u);return o.applyTranslations(i,p)})()}applyTranslations(i,o){this.pauseObserving();for(let u=0;u<i.length;u++)void 0!==o[u]&&bl(i[u],o[u]);this.resumeObserving()}getTranslatables(i){const o=Array.from(i.querySelectorAll(ib));return"function"==typeof i.hasAttribute&&i.hasAttribute(Mo)&&o.push(i),o}getKeysForElement(i){return{id:i.getAttribute(Mo),args:JSON.parse(i.getAttribute(_c)||null)}}}class Fg{#e;#t=new Set;#n;#i;constructor({lang:i,isRTL:o},u=null){this.#n=Fg.#r(i),this.#i=u,this.#e=o??Fg.#s(this.#n)?"rtl":"ltr"}_setL10n(i){this.#i=i}getLanguage(){return this.#n}getDirection(){return this.#e}get(i,o=null,u){var p=this;return(0,ae.Z)(function*(){return Array.isArray(i)?(i=i.map(E=>({id:E})),(yield p.#i.formatMessages(i)).map(E=>E.value)):(yield p.#i.formatMessages([{id:i,args:o}]))[0]?.value||u})()}translate(i){var o=this;return(0,ae.Z)(function*(){o.#t.add(i);try{o.#i.connectRoot(i),yield o.#i.translateRoots()}catch{}})()}translateOnce(i){var o=this;return(0,ae.Z)(function*(){try{yield o.#i.translateElements([i])}catch(u){console.error(`translateOnce: "${u}".`)}})()}destroy(){var i=this;return(0,ae.Z)(function*(){for(const o of i.#t)i.#i.disconnectRoot(o);i.#t.clear(),i.#i.pauseObserving()})()}pause(){this.#i.pauseObserving()}resume(){this.#i.resumeObserving()}static#r(i){return{en:"en-us",es:"es-es",fy:"fy-nl",ga:"ga-ie",gu:"gu-in",hi:"hi-in",hy:"hy-am",nb:"nb-no",ne:"ne-np",nn:"nn-no",pa:"pa-in",pt:"pt-pt",sv:"sv-se",zh:"zh-cn"}[i=i?.toLowerCase()||"en-us"]||i}static#s(i){const o=i.split("-",1)[0];return["ar","he","fa","ps","ur"].includes(o)}}function Vg(C,i){const o=new Bf(i),u=new G_(C),p=u.addResource(o);return p.length&&console.error("L10n errors",p),u}class Da extends Fg{constructor(i){super({lang:i});const o=i?Da.#e.bind(Da,"en-us",this.getLanguage()):Da.#i.bind(Da,this.getLanguage());this._setL10n(new ey([],o))}static#e(i,o){var u=this;return Yn(function*(){const{baseURL:p,paths:g}=yield Qe(u.#n()),y=[o];if(i!==o){const E=o.split("-",1)[0];E!==o&&y.push(E),y.push(i)}for(const E of y){const T=yield Qe(u.#t(E,p,g));T?yield T:"en-us"===E&&(yield u.#r(E))}})()}static#t(i,o,u){return(0,ae.Z)(function*(){const p=u[i];if(!p)return null;const g=new URL(p,o),y=yield Go(g,"text");return Vg(i,y)})()}static#n(){return(0,ae.Z)(function*(){try{const{href:i}=document.querySelector('link[type="application/l10n"]'),o=yield Go(i,"json");return{baseURL:i.replace(/[^/]*$/,"")||"./",paths:o}}catch{}return{baseURL:"./",paths:Object.create(null)}})()}static#i(i){var o=this;return Yn(function*(){yield o.#r(i)})()}static#r(i){return(0,ae.Z)(function*(){return Vg(i,'pdfjs-previous-button =\n    .title = Previous Page\npdfjs-previous-button-label = Previous\npdfjs-next-button =\n    .title = Next Page\npdfjs-next-button-label = Next\npdfjs-page-input =\n    .title = Page\npdfjs-of-pages = of { $pagesCount }\npdfjs-page-of-pages = ({ $pageNumber } of { $pagesCount })\npdfjs-zoom-out-button =\n    .title = Zoom Out\npdfjs-zoom-out-button-label = Zoom Out\npdfjs-zoom-in-button =\n    .title = Zoom In\npdfjs-zoom-in-button-label = Zoom In\npdfjs-zoom-select =\n    .title = Zoom\npdfjs-presentation-mode-button =\n    .title = Switch to Presentation Mode\npdfjs-presentation-mode-button-label = Presentation Mode\npdfjs-open-file-button =\n    .title = Open File\npdfjs-open-file-button-label = Open\npdfjs-print-button =\n    .title = Print\npdfjs-print-button-label = Print\npdfjs-save-button =\n    .title = Save\npdfjs-save-button-label = Save\npdfjs-download-button =\n    .title = Download\npdfjs-download-button-label = Download\npdfjs-bookmark-button =\n    .title = Current Page (View URL from Current Page)\npdfjs-bookmark-button-label = Current Page\npdfjs-tools-button =\n    .title = Tools\npdfjs-tools-button-label = Tools\npdfjs-first-page-button =\n    .title = Go to First Page\npdfjs-first-page-button-label = Go to First Page\npdfjs-last-page-button =\n    .title = Go to Last Page\npdfjs-last-page-button-label = Go to Last Page\npdfjs-page-rotate-cw-button =\n    .title = Rotate Clockwise\npdfjs-page-rotate-cw-button-label = Rotate Clockwise\npdfjs-page-rotate-ccw-button =\n    .title = Rotate Counterclockwise\npdfjs-page-rotate-ccw-button-label = Rotate Counterclockwise\npdfjs-cursor-text-select-tool-button =\n    .title = Enable Text Selection Tool\npdfjs-cursor-text-select-tool-button-label = Text Selection Tool\npdfjs-cursor-hand-tool-button =\n    .title = Enable Hand Tool\npdfjs-cursor-hand-tool-button-label = Hand Tool\npdfjs-scroll-page-button =\n    .title = Use Page Scrolling\npdfjs-scroll-page-button-label = Page Scrolling\npdfjs-scroll-vertical-button =\n    .title = Use Vertical Scrolling\npdfjs-scroll-vertical-button-label = Vertical Scrolling\npdfjs-scroll-horizontal-button =\n    .title = Use Horizontal Scrolling\npdfjs-scroll-horizontal-button-label = Horizontal Scrolling\npdfjs-scroll-wrapped-button =\n    .title = Use Wrapped Scrolling\npdfjs-scroll-wrapped-button-label = Wrapped Scrolling\npdfjs-spread-none-button =\n    .title = Do not join page spreads\npdfjs-spread-none-button-label = No Spreads\npdfjs-spread-odd-button =\n    .title = Join page spreads starting with odd-numbered pages\npdfjs-spread-odd-button-label = Odd Spreads\npdfjs-spread-even-button =\n    .title = Join page spreads starting with even-numbered pages\npdfjs-spread-even-button-label = Even Spreads\npdfjs-document-properties-button =\n    .title = Document Properties\u2026\npdfjs-document-properties-button-label = Document Properties\u2026\npdfjs-document-properties-file-name = File name:\npdfjs-document-properties-file-size = File size:\npdfjs-document-properties-size-kb = { NUMBER($kb, maximumSignificantDigits: 3) } KB ({ $b } bytes)\npdfjs-document-properties-size-mb = { NUMBER($mb, maximumSignificantDigits: 3) } MB ({ $b } bytes)\npdfjs-document-properties-title = Title:\npdfjs-document-properties-author = Author:\npdfjs-document-properties-subject = Subject:\npdfjs-document-properties-keywords = Keywords:\npdfjs-document-properties-creation-date = Creation Date:\npdfjs-document-properties-modification-date = Modification Date:\npdfjs-document-properties-date-time-string = { DATETIME($dateObj, dateStyle: "short", timeStyle: "medium") }\npdfjs-document-properties-creator = Creator:\npdfjs-document-properties-producer = PDF Producer:\npdfjs-document-properties-version = PDF Version:\npdfjs-document-properties-page-count = Page Count:\npdfjs-document-properties-page-size = Page Size:\npdfjs-document-properties-page-size-unit-inches = in\npdfjs-document-properties-page-size-unit-millimeters = mm\npdfjs-document-properties-page-size-orientation-portrait = portrait\npdfjs-document-properties-page-size-orientation-landscape = landscape\npdfjs-document-properties-page-size-name-a-three = A3\npdfjs-document-properties-page-size-name-a-four = A4\npdfjs-document-properties-page-size-name-letter = Letter\npdfjs-document-properties-page-size-name-legal = Legal\npdfjs-document-properties-page-size-dimension-string = { $width } \xd7 { $height } { $unit } ({ $orientation })\npdfjs-document-properties-page-size-dimension-name-string = { $width } \xd7 { $height } { $unit } ({ $name }, { $orientation })\npdfjs-document-properties-linearized = Fast Web View:\npdfjs-document-properties-linearized-yes = Yes\npdfjs-document-properties-linearized-no = No\npdfjs-document-properties-close-button = Close\npdfjs-print-progress-message = Preparing document for printing\u2026\npdfjs-print-progress-percent = { $progress }%\npdfjs-print-progress-close-button = Cancel\npdfjs-printing-not-supported = Warning: Printing is not fully supported by this browser.\npdfjs-printing-not-ready = Warning: The PDF is not fully loaded for printing.\npdfjs-toggle-sidebar-button =\n    .title = Toggle Sidebar\npdfjs-toggle-sidebar-notification-button =\n    .title = Toggle Sidebar (document contains outline/attachments/layers)\npdfjs-toggle-sidebar-button-label = Toggle Sidebar\npdfjs-document-outline-button =\n    .title = Show Document Outline (double-click to expand/collapse all items)\npdfjs-document-outline-button-label = Document Outline\npdfjs-attachments-button =\n    .title = Show Attachments\npdfjs-attachments-button-label = Attachments\npdfjs-layers-button =\n    .title = Show Layers (double-click to reset all layers to the default state)\npdfjs-layers-button-label = Layers\npdfjs-thumbs-button =\n    .title = Show Thumbnails\npdfjs-thumbs-button-label = Thumbnails\npdfjs-current-outline-item-button =\n    .title = Find Current Outline Item\npdfjs-current-outline-item-button-label = Current Outline Item\npdfjs-findbar-button =\n    .title = Find in Document\npdfjs-findbar-button-label = Find\npdfjs-additional-layers = Additional Layers\npdfjs-thumb-page-title =\n    .title = Page { $page }\npdfjs-thumb-page-canvas =\n    .aria-label = Thumbnail of Page { $page }\npdfjs-find-input =\n    .title = Find\n    .placeholder = Find in document\u2026\npdfjs-find-previous-button =\n    .title = Find the previous occurrence of the phrase\npdfjs-find-previous-button-label = Previous\npdfjs-find-next-button =\n    .title = Find the next occurrence of the phrase\npdfjs-find-next-button-label = Next\npdfjs-find-highlight-checkbox = Highlight All\npdfjs-find-match-case-checkbox-label = Match Case\npdfjs-find-match-diacritics-checkbox-label = Match Diacritics\npdfjs-find-entire-word-checkbox-label = Whole Words\npdfjs-find-reached-top = Reached top of document, continued from bottom\npdfjs-find-reached-bottom = Reached end of document, continued from top\npdfjs-find-match-count =\n    { $total ->\n        [one] { $current } of { $total } match\n       *[other] { $current } of { $total } matches\n    }\npdfjs-find-match-count-limit =\n    { $limit ->\n        [one] More than { $limit } match\n       *[other] More than { $limit } matches\n    }\npdfjs-find-not-found = Phrase not found\npdfjs-page-scale-width = Page Width\npdfjs-page-scale-fit = Page Fit\npdfjs-page-scale-auto = Automatic Zoom\npdfjs-page-scale-actual = Actual Size\npdfjs-page-scale-percent = { $scale }%\npdfjs-page-landmark =\n    .aria-label = Page { $page }\npdfjs-loading-error = An error occurred while loading the PDF.\npdfjs-invalid-file-error = Invalid or corrupted PDF file.\npdfjs-missing-file-error = Missing PDF file.\npdfjs-unexpected-response-error = Unexpected server response.\npdfjs-rendering-error = An error occurred while rendering the page.\npdfjs-annotation-date-time-string = { DATETIME($dateObj, dateStyle: "short", timeStyle: "medium") }\npdfjs-text-annotation-type =\n    .alt = [{ $type } Annotation]\npdfjs-password-label = Enter the password to open this PDF file.\npdfjs-password-invalid = Invalid password. Please try again.\npdfjs-password-ok-button = OK\npdfjs-password-cancel-button = Cancel\npdfjs-web-fonts-disabled = Web fonts are disabled: unable to use embedded PDF fonts.\npdfjs-editor-free-text-button =\n    .title = Text\npdfjs-editor-free-text-button-label = Text\npdfjs-editor-ink-button =\n    .title = Draw\npdfjs-editor-ink-button-label = Draw\npdfjs-editor-stamp-button =\n    .title = Add or edit images\npdfjs-editor-stamp-button-label = Add or edit images\npdfjs-editor-highlight-button =\n    .title = Highlight\npdfjs-editor-highlight-button-label = Highlight\npdfjs-highlight-floating-button1 =\n    .title = Highlight\n    .aria-label = Highlight\npdfjs-highlight-floating-button-label = Highlight\npdfjs-editor-remove-ink-button =\n    .title = Remove drawing\npdfjs-editor-remove-freetext-button =\n    .title = Remove text\npdfjs-editor-remove-stamp-button =\n    .title = Remove image\npdfjs-editor-remove-highlight-button =\n    .title = Remove highlight\npdfjs-editor-free-text-color-input = Color\npdfjs-editor-free-text-size-input = Size\npdfjs-editor-ink-color-input = Color\npdfjs-editor-ink-thickness-input = Thickness\npdfjs-editor-ink-opacity-input = Opacity\npdfjs-editor-stamp-add-image-button =\n    .title = Add image\npdfjs-editor-stamp-add-image-button-label = Add image\npdfjs-editor-free-highlight-thickness-input = Thickness\npdfjs-editor-free-highlight-thickness-title =\n    .title = Change thickness when highlighting items other than text\npdfjs-free-text =\n    .aria-label = Text Editor\npdfjs-free-text-default-content = Start typing\u2026\npdfjs-ink =\n    .aria-label = Draw Editor\npdfjs-ink-canvas =\n    .aria-label = User-created image\npdfjs-editor-alt-text-button-label = Alt text\npdfjs-editor-alt-text-edit-button-label = Edit alt text\npdfjs-editor-alt-text-dialog-label = Choose an option\npdfjs-editor-alt-text-dialog-description = Alt text (alternative text) helps when people can\u2019t see the image or when it doesn\u2019t load.\npdfjs-editor-alt-text-add-description-label = Add a description\npdfjs-editor-alt-text-add-description-description = Aim for 1-2 sentences that describe the subject, setting, or actions.\npdfjs-editor-alt-text-mark-decorative-label = Mark as decorative\npdfjs-editor-alt-text-mark-decorative-description = This is used for ornamental images, like borders or watermarks.\npdfjs-editor-alt-text-cancel-button = Cancel\npdfjs-editor-alt-text-save-button = Save\npdfjs-editor-alt-text-decorative-tooltip = Marked as decorative\npdfjs-editor-alt-text-textarea =\n    .placeholder = For example, \u201cA young man sits down at a table to eat a meal\u201d\npdfjs-editor-resizer-top-left =\n    .aria-label = Top left corner \u2014 resize\npdfjs-editor-resizer-top-middle =\n    .aria-label = Top middle \u2014 resize\npdfjs-editor-resizer-top-right =\n    .aria-label = Top right corner \u2014 resize\npdfjs-editor-resizer-middle-right =\n    .aria-label = Middle right \u2014 resize\npdfjs-editor-resizer-bottom-right =\n    .aria-label = Bottom right corner \u2014 resize\npdfjs-editor-resizer-bottom-middle =\n    .aria-label = Bottom middle \u2014 resize\npdfjs-editor-resizer-bottom-left =\n    .aria-label = Bottom left corner \u2014 resize\npdfjs-editor-resizer-middle-left =\n    .aria-label = Middle left \u2014 resize\npdfjs-editor-highlight-colorpicker-label = Highlight color\npdfjs-editor-colorpicker-button =\n    .title = Change color\npdfjs-editor-colorpicker-dropdown =\n    .aria-label = Color choices\npdfjs-editor-colorpicker-yellow =\n    .title = Yellow\npdfjs-editor-colorpicker-green =\n    .title = Green\npdfjs-editor-colorpicker-blue =\n    .title = Blue\npdfjs-editor-colorpicker-pink =\n    .title = Pink\npdfjs-editor-colorpicker-red =\n    .title = Red\npdfjs-editor-highlight-show-all-button-label = Show all\npdfjs-editor-highlight-show-all-button =\n    .title = Show all\npdfjs-editor-new-alt-text-dialog-edit-label = Edit alt text (image description)\npdfjs-editor-new-alt-text-dialog-add-label = Add alt text (image description)\npdfjs-editor-new-alt-text-textarea =\n    .placeholder = Write your description here\u2026\npdfjs-editor-new-alt-text-description = Short description for people who can\u2019t see the image or when the image doesn\u2019t load.\npdfjs-editor-new-alt-text-disclaimer1 = This alt text was created automatically and may be inaccurate.\npdfjs-editor-new-alt-text-disclaimer-learn-more-url = Learn more\npdfjs-editor-new-alt-text-create-automatically-button-label = Create alt text automatically\npdfjs-editor-new-alt-text-not-now-button = Not now\npdfjs-editor-new-alt-text-error-title = Couldn\u2019t create alt text automatically\npdfjs-editor-new-alt-text-error-description = Please write your own alt text or try again later.\npdfjs-editor-new-alt-text-error-close-button = Close\npdfjs-editor-new-alt-text-ai-model-downloading-progress = Downloading alt text AI model ({ $downloadedSize } of { $totalSize } MB)\n    .aria-valuetext = Downloading alt text AI model ({ $downloadedSize } of { $totalSize } MB)\npdfjs-editor-new-alt-text-added-button-label = Alt text added\npdfjs-editor-new-alt-text-missing-button-label = Missing alt text\npdfjs-editor-new-alt-text-to-review-button-label = Review alt text\npdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer = Created automatically: { $generatedAltText }\npdfjs-image-alt-text-settings-button =\n    .title = Image alt text settings\npdfjs-image-alt-text-settings-button-label = Image alt text settings\npdfjs-editor-alt-text-settings-dialog-label = Image alt text settings\npdfjs-editor-alt-text-settings-automatic-title = Automatic alt text\npdfjs-editor-alt-text-settings-create-model-button-label = Create alt text automatically\npdfjs-editor-alt-text-settings-create-model-description = Suggests descriptions to help people who can\u2019t see the image or when the image doesn\u2019t load.\npdfjs-editor-alt-text-settings-download-model-label = Alt text AI model ({ $totalSize } MB)\npdfjs-editor-alt-text-settings-ai-model-description = Runs locally on your device so your data stays private. Required for automatic alt text.\npdfjs-editor-alt-text-settings-delete-model-button = Delete\npdfjs-editor-alt-text-settings-download-model-button = Download\npdfjs-editor-alt-text-settings-downloading-model-button = Downloading\u2026\npdfjs-editor-alt-text-settings-editor-title = Alt text editor\npdfjs-editor-alt-text-settings-show-dialog-button-label = Show alt text editor right away when adding an image\npdfjs-editor-alt-text-settings-show-dialog-description = Helps you make sure all your images have alt text.\npdfjs-editor-alt-text-settings-close-button = Close')})()}}function Bg(){return document.location.hash}class ny{#e=null;constructor({linkService:i,eventBus:o}){this.linkService=i,this.eventBus=o,this._initialized=!1,this._fingerprint="",this.reset(),this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",u=>{this._isPagesLoaded=!!u.pagesCount},{once:!0})})}initialize({fingerprint:i,resetHistory:o=!1,updateUrl:u=!1}){if(!i||"string"!=typeof i)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const p=""!==this._fingerprint&&this._fingerprint!==i;this._fingerprint=i,this._updateUrl=!0===u,this._initialized=!0,this.#u();const g=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=Bg(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this.#r(g,!0)||o){const{hash:E,page:T,rotation:x}=this.#a(!0);return!E||p||o?void this.#t(null,!0):void this.#t({hash:E,page:T,rotation:x},!0)}const y=g.destination;this.#s(y,g.uid,!0),void 0!==y.rotation&&(this._initialRotation=y.rotation),y.dest?(this._initialBookmark=JSON.stringify(y.dest),this._destination.page=null):y.hash?this._initialBookmark=y.hash:y.page&&(this._initialBookmark=`page=${y.page}`)}reset(){this._initialized&&(this.#c(),this._initialized=!1,this.#o()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:i=null,explicitDest:o,pageNumber:u}){if(!this._initialized)return;if(i&&"string"!=typeof i)return void console.error(`PDFHistory.push: "${i}" is not a valid namedDest parameter.`);if(!Array.isArray(o))return void console.error(`PDFHistory.push: "${o}" is not a valid explicitDest parameter.`);if(!this.#i(u)&&(null!==u||this._destination))return void console.error(`PDFHistory.push: "${u}" is not a valid pageNumber parameter.`);const p=i||JSON.stringify(o);if(!p)return;let g=!1;if(this._destination&&(function vC(C,i){return"string"==typeof C&&"string"==typeof i&&(C===i||$u(C).get("nameddest")===i)}(this._destination.hash,p)||function iy(C,i){function o(u,p){if(typeof u!=typeof p||Array.isArray(u)||Array.isArray(p))return!1;if(null!==u&&"object"==typeof u&&null!==p){if(Object.keys(u).length!==Object.keys(p).length)return!1;for(const g in u)if(!o(u[g],p[g]))return!1;return!0}return u===p||Number.isNaN(u)&&Number.isNaN(p)}if(!Array.isArray(C)||!Array.isArray(i)||C.length!==i.length)return!1;for(let u=0,p=C.length;u<p;u++)if(!o(C[u],i[u]))return!1;return!0}(this._destination.dest,o))){if(this._destination.page)return;g=!0}this._popStateInProgress&&!g||(this.#t({dest:o,hash:p,page:u,rotation:this.linkService.rotation},g),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(i){if(this._initialized){if(!this.#i(i))return void console.error(`PDFHistory.pushPage: "${i}" is not a valid page number.`);this._destination?.page!==i&&(this._popStateInProgress||(this.#t({dest:null,hash:`page=${i}`,page:i,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this.#n()}back(){if(!this._initialized||this._popStateInProgress)return;const i=window.history.state;this.#r(i)&&i.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const i=window.history.state;this.#r(i)&&i.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}#t(i,o=!1){const u=o||!this._destination,p={fingerprint:this._fingerprint,uid:u?this._uid:this._uid+1,destination:i};let g;if(this.#s(i,p.uid),this._updateUrl&&i?.hash){const y=document.location.href.split("#",1)[0];y.startsWith("file://")||(g=`${y}#${i.hash}`)}u?window.history.replaceState(p,"",g):window.history.pushState(p,"",g)}#n(i=!1){if(!this._position)return;let o=this._position;if(i&&(o=Object.assign(Object.create(null),this._position),o.temporary=!0),!this._destination)return void this.#t(o);if(this._destination.temporary)return void this.#t(o,!0);if(this._destination.hash===o.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let u=!1;if(this._destination.page>=o.first&&this._destination.page<=o.page){if(void 0!==this._destination.dest||!this._destination.first)return;u=!0}this.#t(o,u)}#i(i){return Number.isInteger(i)&&i>0&&i<=this.linkService.pagesCount}#r(i,o=!1){if(!i)return!1;if(i.fingerprint!==this._fingerprint){if(!o)return!1;{if("string"!=typeof i.fingerprint||i.fingerprint.length!==this._fingerprint.length)return!1;const[u]=performance.getEntriesByType("navigation");if("reload"!==u?.type)return!1}}return!(!Number.isInteger(i.uid)||i.uid<0||null===i.destination||"object"!=typeof i.destination)}#s(i,o,u=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),u&&i?.temporary&&delete i.temporary,this._destination=i,this._uid=o,this._maxUid=Math.max(this._maxUid,o),this._numPositionUpdates=0}#a(i=!1){const o=unescape(Bg()).substring(1),u=$u(o),p=u.get("nameddest")||"";let g=0|u.get("page");return(!this.#i(g)||i&&p.length>0)&&(g=null),{hash:o,page:g,rotation:this.linkService.rotation}}#l({location:i}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:i.pdfOpenParams.substring(1),page:this.linkService.page,first:i.pageNumber,rotation:i.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this.#n(!0),this._updateViewareaTimeout=null},1e3))}#d({state:i}){const o=Bg(),u=this._currentHash!==o;if(this._currentHash=o,!i){this._uid++;const{hash:g,page:y,rotation:E}=this.#a();return void this.#t({hash:g,page:y,rotation:E},!0)}if(!this.#r(i))return;this._popStateInProgress=!0,u&&(this._blockHashChange++,function xf(C){return zl.apply(this,arguments)}({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const p=i.destination;this.#s(p,i.uid,!0),Gd(p.rotation)&&(this.linkService.rotation=p.rotation),p.dest?this.linkService.goToDestination(p.dest):p.hash?this.linkService.setHash(p.hash):p.page&&(this.linkService.page=p.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}#c(){(!this._destination||this._destination.temporary)&&this.#n()}#u(){if(this.#e)return;this.#e=new AbortController;const{signal:i}=this.#e;this.eventBus._on("updateviewarea",this.#l.bind(this),{signal:i}),window.addEventListener("popstate",this.#d.bind(this),{signal:i}),window.addEventListener("pagehide",this.#c.bind(this),{signal:i})}#o(){this.#e?.abort(),this.#e=null}}class EC{#e=null;#t=null;#n=null;#i=null;#r;constructor(i){this.pdfPage=i.pdfPage,this.accessibilityManager=i.accessibilityManager,this.l10n=i.l10n,this.l10n||=new Da,this.annotationEditorLayer=null,this.div=null,this._cancelled=!1,this.#r=i.uiManager,this.#e=i.annotationLayer||null,this.#i=i.textLayer||null,this.#t=i.drawLayer||null,this.#n=i.onAppend||null}render(i,o="display"){var u=this;return(0,ae.Z)(function*(){if("display"!==o||u._cancelled)return;const p=i.clone({dontFlip:!0});if(u.div)return u.annotationEditorLayer.update({viewport:p}),void u.show();const g=u.div=document.createElement("div");g.className="annotationEditorLayer",g.hidden=!0,g.dir=u.#r.direction,u.#n?.(g),u.annotationEditorLayer=new pc({uiManager:u.#r,div:g,accessibilityManager:u.accessibilityManager,pageIndex:u.pdfPage.pageNumber-1,l10n:u.l10n,viewport:p,annotationLayer:u.#e,textLayer:u.#i,drawLayer:u.#t}),u.annotationEditorLayer.render({viewport:p,div:g,annotations:null,intent:o}),u.show()})()}cancel(){this._cancelled=!0,this.div&&this.annotationEditorLayer.destroy()}hide(){this.div&&(this.div.hidden=!0)}show(){!this.div||this.annotationEditorLayer.isInvisible||(this.div.hidden=!1)}}{var nh=new Map;const C=navigator.userAgent||"",i=navigator.platform||"",o=navigator.maxTouchPoints||1,u=/Android/.test(C);(/\b(iPad|iPhone|iPod)(?=;)/.test(C)||"MacIntel"===i&&o>1||u)&&nh.set("maxCanvasPixels",5242880),u&&nh.set("useSystemFonts",!1)}const yc={BOOLEAN:1,NUMBER:2,OBJECT:4,STRING:8,UNDEFINED:16},ao={allowedGlobalEvents:{value:null,kind:1},canvasMaxAreaInBytes:{value:-1,kind:5},isInAutomation:{value:!1,kind:1},localeProperties:{value:{lang:navigator.language||"en-US"},kind:1},nimbusDataStr:{value:"",kind:1},supportsCaretBrowsingMode:{value:!1,kind:1},supportsDocumentFonts:{value:!0,kind:1},supportsIntegratedFind:{value:!1,kind:1},supportsMouseWheelZoomCtrlKey:{value:!0,kind:1},supportsMouseWheelZoomMetaKey:{value:!0,kind:1},supportsPinchToZoom:{value:!0,kind:1},toolbarDensity:{value:0,kind:17},altTextLearnMoreUrl:{value:"",kind:130},annotationEditorMode:{value:0,kind:130},annotationMode:{value:2,kind:130},cursorToolOnLoad:{value:0,kind:130},debuggerSrc:{value:"./debugger.mjs",kind:2},defaultZoomDelay:{value:400,kind:130},defaultZoomValue:{value:"",kind:130},disableHistory:{value:!1,kind:2},disablePageLabels:{value:!1,kind:130},enableAltText:{value:!1,kind:130},enableAltTextModelDownload:{value:!0,kind:146},enableGuessAltText:{value:!0,kind:146},enableHighlightFloatingButton:{value:!1,kind:130},enableNewAltTextWhenAddingImage:{value:!0,kind:130},enablePermissions:{value:!1,kind:130},enablePrintAutoRotate:{value:!0,kind:130},enableScripting:{value:!0,kind:130},enableUpdatedAddImage:{value:!1,kind:130},externalLinkRel:{value:"noopener noreferrer nofollow",kind:2},externalLinkTarget:{value:0,kind:130},highlightEditorColors:{value:"yellow=#FFFF98,green=#53FFBC,blue=#80EBFF,pink=#FFCBE6,red=#FF4F5F",kind:130},historyUpdateUrl:{value:!1,kind:130},ignoreDestinationZoom:{value:!1,kind:130},imageResourcesPath:{value:"./images/",kind:2},maxCanvasPixels:{value:2**25,kind:2},forcePageColors:{value:!1,kind:130},pageColorsBackground:{value:"Canvas",kind:130},pageColorsForeground:{value:"CanvasText",kind:130},pdfBugEnabled:{value:!1,kind:130},printResolution:{value:150,kind:2},sidebarViewOnLoad:{value:-1,kind:130},scrollModeOnLoad:{value:-1,kind:130},spreadModeOnLoad:{value:-1,kind:130},textLayerMode:{value:1,kind:130},viewOnLoad:{value:0,kind:130},cMapPacked:{value:!0,kind:4},cMapUrl:{value:"../web/cmaps/",kind:4},disableAutoFetch:{value:!1,kind:132},disableFontFace:{value:!1,kind:132},disableRange:{value:!1,kind:132},disableStream:{value:!1,kind:132},docBaseUrl:{value:"",kind:4},enableHWA:{value:!0,kind:134},enableXfa:{value:!0,kind:132},fontExtraProperties:{value:!1,kind:4},isEvalSupported:{value:!0,kind:4},isOffscreenCanvasSupported:{value:!0,kind:4},maxImageSize:{value:-1,kind:4},pdfBug:{value:!1,kind:4},standardFontDataUrl:{value:"../web/standard_fonts/",kind:4},useSystemFonts:{value:void 0,kind:4,type:yc.BOOLEAN+yc.UNDEFINED},verbosity:{value:1,kind:4},workerPort:{value:null,kind:8},workerSrc:{value:"../build/pdf.worker.mjs",kind:8},defaultUrl:{value:"compressed.tracemonkey-pldi-09.pdf",kind:2},sandboxBundleSrc:{value:"../build/pdf.sandbox.mjs",kind:2},viewerCssTheme:{value:0,kind:130},enableFakeMLManager:{value:!0,kind:2},disablePreferences:{value:!1,kind:2}};class sb{static eventBus;static#e=new Map;static#t=(()=>{for(const i in ao)this.#e.set(i,ao[i].value);for(const[i,o]of nh)this.#e.set(i,o);this._hasInvokedSet=!1,this._checkDisablePreferences=()=>!!this.get("disablePreferences")||(this._hasInvokedSet&&console.warn('The Preferences may override manually set AppOptions; please use the "disablePreferences"-option to prevent that.'),!1)})();static get(i){return this.#e.get(i)}static getAll(i=null,o=!1){const u=Object.create(null);for(const p in ao){const g=ao[p];i&&!(i&g.kind)||(u[p]=o?g.value:this.#e.get(p))}return u}static set(i,o){this.setAll({[i]:o})}static setAll(i,o=!1){let u;this._hasInvokedSet||=!0;for(const p in i){const g=ao[p],y=i[p];if(!g||!(typeof y==typeof g.value||yc[(typeof y).toUpperCase()]&g.type))continue;const{kind:E}=g;o&&!(1&E||128&E)||(this.eventBus&&16&E&&(u||=new Map).set(p,y),this.#e.set(p,y))}if(u)for(const[p,g]of u)this.eventBus.dispatch(p.toLowerCase(),{source:this,value:g})}}class ry{#e=null;constructor(i){this.pageIndex=i.pageIndex}render(i="display"){var o=this;return(0,ae.Z)(function*(){"display"!==i||o.#e||o._cancelled||(o.#e=new Ig({pageIndex:o.pageIndex}))})()}cancel(){this._cancelled=!0,this.#e&&(this.#e.destroy(),this.#e=null)}setParent(i){this.#e?.setParent(i)}getDrawLayer(){return this.#e}}const vc={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},Ug=/^H(\d+)$/;class nd{#e=void 0;get renderingDone(){return void 0!==this.#e}render(i){if(void 0!==this.#e)return this.#e;const o=this.#n(i);return o?.classList.add("structTree"),this.#e=o}hide(){this.#e&&!this.#e.hidden&&(this.#e.hidden=!0)}show(){this.#e?.hidden&&(this.#e.hidden=!1)}#t(i,o){const{alt:u,id:p,lang:g}=i;void 0!==u&&o.setAttribute("aria-label",Hd(u)),void 0!==p&&o.setAttribute("aria-owns",p),void 0!==g&&o.setAttribute("lang",Hd(g,!0))}#n(i){if(!i)return null;const o=document.createElement("span");if("role"in i){const{role:u}=i,p=u.match(Ug);p?(o.setAttribute("role","heading"),o.setAttribute("aria-level",p[1])):vc[u]&&o.setAttribute("role",vc[u])}if(this.#t(i,o),i.children)if(1===i.children.length&&"id"in i.children[0])this.#t(i.children[0],o);else for(const u of i.children)o.append(this.#n(u));return o}}class Jc{#e=!1;#t=null;#n=new Map;#i=new Map;setTextMapping(i){this.#t=i}static#r(i,o){const u=i.getBoundingClientRect(),p=o.getBoundingClientRect();if(0===u.width&&0===u.height)return 1;if(0===p.width&&0===p.height)return-1;const E=u.y+u.height/2,N=p.y+p.height/2;return E<=p.y&&N>=u.y+u.height?-1:N<=u.y&&E>=p.y+p.height?1:u.x+u.width/2-(p.x+p.width/2)}enable(){if(this.#e)throw new Error("TextAccessibilityManager is already enabled.");if(!this.#t)throw new Error("Text divs and strings have not been set.");if(this.#e=!0,this.#t=this.#t.slice(),this.#t.sort(Jc.#r),this.#n.size>0){const i=this.#t;for(const[o,u]of this.#n)document.getElementById(o)?this.#s(o,i[u]):this.#n.delete(o)}for(const[i,o]of this.#i)this.addPointerInTextLayer(i,o);this.#i.clear()}disable(){this.#e&&(this.#i.clear(),this.#t=null,this.#e=!1)}removePointerInTextLayer(i){if(!this.#e)return void this.#i.delete(i);const o=this.#t;if(!o||0===o.length)return;const{id:u}=i,p=this.#n.get(u);if(void 0===p)return;const g=o[p];this.#n.delete(u);let y=g.getAttribute("aria-owns");y?.includes(u)&&(y=y.split(" ").filter(E=>E!==u).join(" "),y?g.setAttribute("aria-owns",y):(g.removeAttribute("aria-owns"),g.setAttribute("role","presentation")))}#s(i,o){const u=o.getAttribute("aria-owns");u?.includes(i)||o.setAttribute("aria-owns",u?`${u} ${i}`:i),o.removeAttribute("role")}addPointerInTextLayer(i,o){const{id:u}=i;if(!u)return null;if(!this.#e)return this.#i.set(i,o),null;o&&this.removePointerInTextLayer(i);const p=this.#t;if(!p||0===p.length)return null;const g=Uc(p,x=>Jc.#r(i,x)<0),y=Math.max(0,g-1),E=p[y];this.#s(u,E),this.#n.set(u,y);const T=E.parentNode;return T?.classList.contains("markedContent")?T.id:null}moveElementInDOM(i,o,u,p){const g=this.addPointerInTextLayer(u,p);if(!i.hasChildNodes())return i.append(o),g;const y=Array.from(i.childNodes).filter(x=>x!==o);if(0===y.length)return g;const E=u||o,T=Uc(y,x=>Jc.#r(E,x)<0);return 0===T?y[0].before(o):y[T-1].after(o),g}}class Pa{#e=null;constructor({findController:i,eventBus:o,pageIndex:u}){this.findController=i,this.matches=[],this.eventBus=o,this.pageIdx=u,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(i,o){this.textDivs=i,this.textContentItemsStr=o}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this.#e||(this.#e=new AbortController,this.eventBus._on("updatetextlayermatches",i=>{(i.pageIndex===this.pageIdx||-1===i.pageIndex)&&this._updateMatches()},{signal:this.#e.signal})),this._updateMatches()}disable(){this.enabled&&(this.enabled=!1,this.#e?.abort(),this.#e=null,this._updateMatches(!0))}_convertMatches(i,o){if(!i)return[];const{textContentItemsStr:u}=this;let p=0,g=0;const y=u.length-1,E=[];for(let T=0,x=i.length;T<x;T++){let N=i[T];for(;p!==y&&N>=g+u[p].length;)g+=u[p].length,p++;p===u.length&&console.error("Could not find a matching mapping");const B={begin:{divIdx:p,offset:N-g}};for(N+=o[T];p!==y&&N>g+u[p].length;)g+=u[p].length,p++;B.end={divIdx:p,offset:N-g},E.push(B)}return E}_renderMatches(i){if(0===i.length)return;const{findController:o,pageIdx:u}=this,{textContentItemsStr:p,textDivs:g}=this,y=u===o.selected.pageIdx,E=o.selected.matchIdx;let x=null;function B(Te,nt){const ht=Te.divIdx;return g[ht].textContent="",Y(ht,0,Te.offset,nt)}function Y(Te,nt,ht,dt){let At=g[Te];if(At.nodeType===Node.TEXT_NODE){const Lt=document.createElement("span");At.before(Lt),Lt.append(At),g[Te]=Lt,At=Lt}const Et=p[Te].substring(nt,ht),It=document.createTextNode(Et);if(dt){const Lt=document.createElement("span");return Lt.className=`${dt} appended`,Lt.append(It),At.append(Lt),dt.includes("selected")?Lt.offsetLeft:0}return At.append(It),0}let se=E,le=se+1;if(o.state.highlightAll)se=0,le=i.length;else if(!y)return;let me=-1,Fe=-1;for(let Te=se;Te<le;Te++){const nt=i[Te],ht=nt.begin;if(ht.divIdx===me&&ht.offset===Fe)continue;me=ht.divIdx,Fe=ht.offset;const dt=nt.end,At=y&&Te===E,Et=At?" selected":"";let It=0;if(x&&ht.divIdx===x.divIdx?Y(x.divIdx,x.offset,ht.offset):(null!==x&&Y(x.divIdx,x.offset,undefined),B(ht)),ht.divIdx===dt.divIdx)It=Y(ht.divIdx,ht.offset,dt.offset,"highlight"+Et);else{It=Y(ht.divIdx,ht.offset,undefined,"highlight begin"+Et);for(let Lt=ht.divIdx+1,st=dt.divIdx;Lt<st;Lt++)g[Lt].className="highlight middle"+Et;B(dt,"highlight end"+Et)}x=dt,At&&o.scrollMatchIntoView({element:g[ht.divIdx],selectedLeft:It,pageIndex:u,matchIndex:E})}x&&Y(x.divIdx,x.offset,undefined)}_updateMatches(i=!1){if(!this.enabled&&!i)return;const{findController:o,matches:u,pageIdx:p}=this,{textContentItemsStr:g,textDivs:y}=this;let E=-1;for(const N of u){for(let Y=Math.max(E,N.begin.divIdx),se=N.end.divIdx;Y<=se;Y++){const le=y[Y];le.textContent=g[Y],le.className=""}E=N.end.divIdx+1}o?.highlightMatches&&!i&&(this.matches=this._convertMatches(o.pageMatches[p]||null,o.pageMatchesLength[p]||null),this._renderMatches(this.matches))}}class Za{#e=!1;#t=null;#n=!1;#i=null;static#r=new Map;static#s=null;constructor({pdfPage:i,highlighter:o=null,accessibilityManager:u=null,enablePermissions:p=!1,onAppend:g=null}){this.pdfPage=i,this.highlighter=o,this.accessibilityManager=u,this.#e=!0===p,this.#t=g,this.div=document.createElement("div"),this.div.tabIndex=0,this.div.className="textLayer"}render(i,o=null){var u=this;return(0,ae.Z)(function*(){if(u.#n&&u.#i)return u.#i.update({viewport:i,onBefore:u.hide.bind(u)}),void u.show();u.cancel(),u.#i=new $E({textContentSource:u.pdfPage.streamTextContent(o||{includeMarkedContent:!0,disableNormalization:!0}),container:u.div,viewport:i});const{textDivs:p,textContentItemsStr:g}=u.#i;u.highlighter?.setTextMapping(p,g),u.accessibilityManager?.setTextMapping(p),yield u.#i.render(),u.#n=!0;const y=document.createElement("div");y.className="endOfContent",u.div.append(y),u.#a(y),u.#t?.(u.div),u.highlighter?.enable(),u.accessibilityManager?.enable()})()}hide(){!this.div.hidden&&this.#n&&(this.highlighter?.disable(),this.div.hidden=!0)}show(){this.div.hidden&&this.#n&&(this.div.hidden=!1,this.highlighter?.enable())}cancel(){this.#i?.cancel(),this.#i=null,this.highlighter?.disable(),this.accessibilityManager?.disable(),Za.#l(this.div)}#a(i){const{div:o}=this;o.addEventListener("mousedown",()=>{o.classList.add("selecting")}),o.addEventListener("copy",u=>{if(!this.#e){const p=document.getSelection();u.clipboardData.setData("text/plain",Hd(B_(p.toString())))}u.preventDefault(),u.stopPropagation()}),Za.#r.set(o,i),Za.#d()}static#l(i){this.#r.delete(i),0===this.#r.size&&(this.#s?.abort(),this.#s=null)}static#d(){if(this.#s)return;this.#s=new AbortController;const{signal:i}=this.#s,o=(y,E)=>{E.append(y),y.style.width="",y.style.height="",E.classList.remove("selecting")};let u=!1;var p,g;document.addEventListener("pointerdown",()=>{u=!0},{signal:i}),document.addEventListener("pointerup",()=>{u=!1,this.#r.forEach(o)},{signal:i}),window.addEventListener("blur",()=>{u=!1,this.#r.forEach(o)},{signal:i}),document.addEventListener("keyup",()=>{u||this.#r.forEach(o)},{signal:i}),document.addEventListener("selectionchange",()=>{const y=document.getSelection();if(0===y.rangeCount)return void this.#r.forEach(o);const E=new Set;for(let se=0;se<y.rangeCount;se++){const le=y.getRangeAt(se);for(const me of this.#r.keys())!E.has(me)&&le.intersectsNode(me)&&E.add(me)}for(const[se,le]of this.#r)E.has(se)?se.classList.add("selecting"):o(le,se);if(p??="none"===getComputedStyle(this.#r.values().next().value).getPropertyValue("-moz-user-select"),p)return;const T=y.getRangeAt(0),x=g&&(0===T.compareBoundaryPoints(Range.END_TO_END,g)||0===T.compareBoundaryPoints(Range.START_TO_END,g));let N=x?T.startContainer:T.endContainer;N.nodeType===Node.TEXT_NODE&&(N=N.parentNode);const B=N.parentElement.closest(".textLayer"),Y=this.#r.get(B);Y&&(Y.style.width=B.style.width,Y.style.height=B.style.height,N.parentElement.insertBefore(Y,x?N:N.nextSibling)),g=T.cloneRange()},{signal:i})}}class ih{constructor({pdfPage:i,annotationStorage:o=null,linkService:u,xfaHtml:p=null}){this.pdfPage=i,this.annotationStorage=o,this.linkService=u,this.xfaHtml=p,this.div=null,this._cancelled=!1}render(i,o="display"){var u=this;return(0,ae.Z)(function*(){if("print"===o){const y={viewport:i.clone({dontFlip:!0}),div:u.div,xfaHtml:u.xfaHtml,annotationStorage:u.annotationStorage,linkService:u.linkService,intent:o};return u.div=document.createElement("div"),y.div=u.div,U_.render(y)}const p=yield u.pdfPage.getXfa();if(u._cancelled||!p)return{textDivs:[]};const g={viewport:i.clone({dontFlip:!0}),div:u.div,xfaHtml:p,annotationStorage:u.annotationStorage,linkService:u.linkService,intent:o};return u.div?U_.update(g):(u.div=document.createElement("div"),g.div=u.div,U_.render(g))})()}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}const ob={annotationEditorUIManager:null,annotationStorage:null,downloadManager:null,enableScripting:!1,fieldObjectsPromise:null,findController:null,hasJSActionsPromise:null,get linkService(){return new k_}},jg=new Map([["canvasWrapper",0],["textLayer",1],["annotationLayer",2],["annotationEditorLayer",3],["xfaLayer",3]]);class id{#e=ca.ENABLE_FORMS;#t=!1;#n=!1;#i=!1;#r=null;#s=null;#a=null;#l=null;#d=zn.INITIAL;#c=1;#u={directDrawing:!0,initialOptionalContent:!0,regularAnnotations:!0};#o=new WeakMap;#h=[null,null,null,null];constructor(i){const o=i.container,u=i.defaultViewport;this.id=i.id,this.renderingId="page"+this.id,this.#r=i.layerProperties||ob,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=i.scale||1,this.viewport=u,this.pdfPageRotate=u.rotation,this._optionalContentConfigPromise=i.optionalContentConfigPromise||null,this.#c=i.textLayerMode??1,this.#e=i.annotationMode??ca.ENABLE_FORMS,this.imageResourcesPath=i.imageResourcesPath||"",this.maxCanvasPixels=i.maxCanvasPixels??sb.get("maxCanvasPixels"),this.pageColors=i.pageColors||null,this.#t=i.enableHWA||!1,this.eventBus=i.eventBus,this.renderingQueue=i.renderingQueue,this.l10n=i.l10n,this.l10n||=new Da,this.renderTask=null,this.resume=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._container=o,this._annotationCanvasMap=null,this.annotationLayer=null,this.annotationEditorLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null,this.drawLayer=null;const p=document.createElement("div");if(p.className="page",p.setAttribute("data-page-number",this.id),p.setAttribute("role","region"),p.setAttribute("data-l10n-id","pdfjs-page-landmark"),p.setAttribute("data-l10n-args",JSON.stringify({page:this.id})),this.div=p,this.#f(),o?.append(p),this._isStandalone){o?.style.setProperty("--scale-factor",this.scale*El.PDF_TO_CSS_UNITS);const{optionalContentConfigPromise:g}=i;g&&g.then(y=>{g===this._optionalContentConfigPromise&&(this.#u.initialOptionalContent=y.hasInitialVisibility)}),i.l10n||this.l10n.translate(this.div)}}#p(i,o){const u=jg.get(o),p=this.#h[u];if(this.#h[u]=i,p)p.replaceWith(i);else{for(let g=u-1;g>=0;g--){const y=this.#h[g];if(y)return void y.after(i)}this.div.prepend(i)}}get renderingState(){return this.#d}set renderingState(i){if(i!==this.#d)switch(this.#d=i,this.#s&&(clearTimeout(this.#s),this.#s=null),i){case zn.PAUSED:this.div.classList.remove("loading");break;case zn.RUNNING:this.div.classList.add("loadingIcon"),this.#s=setTimeout(()=>{this.div.classList.add("loading"),this.#s=null},0);break;case zn.INITIAL:case zn.FINISHED:this.div.classList.remove("loadingIcon","loading")}}#f(){const{viewport:i}=this;if(this.pdfPage){if(this.#a===i.rotation)return;this.#a=i.rotation}Qu(this.div,i,!0,!1)}setPdfPage(i){this._isStandalone&&("CanvasText"===this.pageColors?.foreground||"Canvas"===this.pageColors?.background)&&(this._container?.style.setProperty("--hcm-highlight-filter",i.filterFactory.addHighlightHCMFilter("highlight","CanvasText","Canvas","HighlightText","Highlight")),this._container?.style.setProperty("--hcm-highlight-selected-filter",i.filterFactory.addHighlightHCMFilter("highlight_selected","CanvasText","Canvas","HighlightText","Highlight"))),this.pdfPage=i,this.pdfPageRotate=i.rotate,this.viewport=i.getViewport({scale:this.scale*El.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.#f(),this.reset()}destroy(){this.reset(),this.pdfPage?.cleanup()}hasEditableAnnotations(){return!!this.annotationLayer?.hasEditableAnnotations()}get _textHighlighter(){return gc(this,"_textHighlighter",new Pa({pageIndex:this.id-1,eventBus:this.eventBus,findController:this.#r.findController}))}#g(i,o){this.eventBus.dispatch(i,{source:this,pageNumber:this.id,error:o})}#_(){var i=this;return(0,ae.Z)(function*(){let o=null;try{yield i.annotationLayer.render(i.viewport,"display")}catch(u){console.error(`#renderAnnotationLayer: "${u}".`),o=u}finally{i.#g("annotationlayerrendered",o)}})()}#m(){var i=this;return(0,ae.Z)(function*(){let o=null;try{yield i.annotationEditorLayer.render(i.viewport,"display")}catch(u){console.error(`#renderAnnotationEditorLayer: "${u}".`),o=u}finally{i.#g("annotationeditorlayerrendered",o)}})()}#y(){var i=this;return(0,ae.Z)(function*(){try{yield i.drawLayer.render("display")}catch(o){console.error(`#renderDrawLayer: "${o}".`)}})()}#E(){var i=this;return(0,ae.Z)(function*(){let o=null;try{const u=yield i.xfaLayer.render(i.viewport,"display");u?.textDivs&&i._textHighlighter&&i.#C(u.textDivs)}catch(u){console.error(`#renderXfaLayer: "${u}".`),o=u}finally{i.xfaLayer?.div&&(i.l10n.pause(),i.#p(i.xfaLayer.div,"xfaLayer"),i.l10n.resume()),i.#g("xfalayerrendered",o)}})()}#w(){var i=this;return(0,ae.Z)(function*(){if(!i.textLayer)return;let o=null;try{yield i.textLayer.render(i.viewport)}catch(u){if(u instanceof qd)return;console.error(`#renderTextLayer: "${u}".`),o=u}i.#g("textlayerrendered",o),i.#b()})()}#b(){var i=this;return(0,ae.Z)(function*(){if(!i.textLayer)return;i.structTreeLayer||=new nd;const o=yield i.structTreeLayer.renderingDone?null:i.pdfPage.getStructTree(),u=i.structTreeLayer?.render(o);u&&(i.l10n.pause(),i.canvas?.append(u),i.l10n.resume()),i.structTreeLayer?.show()})()}#C(i){var o=this;return(0,ae.Z)(function*(){const u=yield o.pdfPage.getTextContent(),p=[];for(const g of u.items)p.push(g.str);o._textHighlighter.setTextMapping(i,p),o._textHighlighter.enable()})()}_resetZoomLayer(i=!1){if(!this.zoomLayer)return;const o=this.zoomLayer.firstChild;this.#o.delete(o),o.width=0,o.height=0,i&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:i=!1,keepAnnotationLayer:o=!1,keepAnnotationEditorLayer:u=!1,keepXfaLayer:p=!1,keepTextLayer:g=!1}={}){this.cancelRendering({keepAnnotationLayer:o,keepAnnotationEditorLayer:u,keepXfaLayer:p,keepTextLayer:g}),this.renderingState=zn.INITIAL;const y=this.div,E=y.childNodes,T=i&&this.zoomLayer||null,x=o&&this.annotationLayer?.div||null,N=u&&this.annotationEditorLayer?.div||null,B=p&&this.xfaLayer?.div||null,Y=g&&this.textLayer?.div||null;for(let se=E.length-1;se>=0;se--){const le=E[se];switch(le){case T:case x:case N:case B:case Y:continue}le.remove();const me=this.#h.indexOf(le);me>=0&&(this.#h[me]=null)}y.removeAttribute("data-loaded"),x&&this.annotationLayer.hide(),N&&this.annotationEditorLayer.hide(),B&&this.xfaLayer.hide(),Y&&this.textLayer.hide(),this.structTreeLayer?.hide(),T||(this.canvas&&(this.#o.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer())}toggleEditingMode(i){this.hasEditableAnnotations()&&(this.#i=i,this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0}))}update({scale:i=0,rotation:o=null,optionalContentConfigPromise:u=null,drawingDelay:p=-1}){if(this.scale=i||this.scale,"number"==typeof o&&(this.rotation=o),u instanceof Promise&&(this._optionalContentConfigPromise=u,u.then(y=>{u===this._optionalContentConfigPromise&&(this.#u.initialOptionalContent=y.hasInitialVisibility)})),this.#u.directDrawing=!0,this.viewport=this.viewport.clone({scale:this.scale*El.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.#f(),this._isStandalone&&this._container?.style.setProperty("--scale-factor",this.viewport.scale),this.canvas){let y=!1;if(this.#n)if(0===this.maxCanvasPixels)y=!0;else if(this.maxCanvasPixels>0){const{width:T,height:x}=this.viewport,{sx:N,sy:B}=this.outputScale;y=(Math.floor(T)*N|0)*(Math.floor(x)*B|0)>this.maxCanvasPixels}const E=p>=0&&p<1e3;if(E||y){if(E&&!y&&this.renderingState!==zn.FINISHED&&(this.cancelRendering({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,cancelExtraDelay:p}),this.renderingState=zn.FINISHED,this.#u.directDrawing=!1),this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0,redrawTextLayer:!E,hideTextLayer:E}),E)return;return void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this.#l})}!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0})}cancelRendering({keepAnnotationLayer:i=!1,keepAnnotationEditorLayer:o=!1,keepXfaLayer:u=!1,keepTextLayer:p=!1,cancelExtraDelay:g=0}={}){this.renderTask&&(this.renderTask.cancel(g),this.renderTask=null),this.resume=null,this.textLayer&&(!p||!this.textLayer.div)&&(this.textLayer.cancel(),this.textLayer=null),this.structTreeLayer&&!this.textLayer&&(this.structTreeLayer=null),this.annotationLayer&&(!i||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.annotationEditorLayer&&(!o||!this.annotationEditorLayer.div)&&(this.drawLayer&&(this.drawLayer.cancel(),this.drawLayer=null),this.annotationEditorLayer.cancel(),this.annotationEditorLayer=null),this.xfaLayer&&(!u||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,this._textHighlighter?.disable())}cssTransform({target:i,redrawAnnotationLayer:o=!1,redrawAnnotationEditorLayer:u=!1,redrawXfaLayer:p=!1,redrawTextLayer:g=!1,hideTextLayer:y=!1}){if(!i.hasAttribute("zooming")){i.setAttribute("zooming",!0);const{style:T}=i;T.width=T.height=""}const E=this.#o.get(i);if(this.viewport!==E){const T=this.viewport.rotation-E.rotation,x=Math.abs(T);let N=1,B=1;if(90===x||270===x){const{width:Y,height:se}=this.viewport;N=se/Y,B=Y/se}i.style.transform=`rotate(${T}deg) scale(${N}, ${B})`}o&&this.annotationLayer&&this.#_(),u&&this.annotationEditorLayer&&(this.drawLayer&&this.#y(),this.#m()),p&&this.xfaLayer&&this.#E(),this.textLayer&&(y?(this.textLayer.hide(),this.structTreeLayer?.hide()):g&&this.#w())}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(i,o){return this.viewport.convertToPdfPoint(i,o)}#M(i,o=null){var u=this;return(0,ae.Z)(function*(){if(i===u.renderTask&&(u.renderTask=null),o instanceof Mg)u.#l=null;else if(u.#l=o,u.renderingState=zn.FINISHED,u._resetZoomLayer(!0),u.#u.regularAnnotations=!i.separateAnnots,u.eventBus.dispatch("pagerendered",{source:u,pageNumber:u.id,cssTransform:!1,timestamp:performance.now(),error:u.#l}),o)throw o})()}draw(){var i=this;return(0,ae.Z)(function*(){i.renderingState!==zn.INITIAL&&(console.error("Must be in new state before drawing"),i.reset());const{div:o,l10n:u,pageColors:p,pdfPage:g,viewport:y}=i;if(!g)throw i.renderingState=zn.FINISHED,new Error("pdfPage is not loaded");i.renderingState=zn.RUNNING;const E=document.createElement("div");if(E.classList.add("canvasWrapper"),i.#p(E,"canvasWrapper"),!i.textLayer&&0!==i.#c&&!g.isPureXfa&&(i._accessibilityManager||=new Jc,i.textLayer=new Za({pdfPage:g,highlighter:i._textHighlighter,accessibilityManager:i._accessibilityManager,enablePermissions:2===i.#c,onAppend:It=>{i.l10n.pause(),i.#p(It,"textLayer"),i.l10n.resume()}})),!i.annotationLayer&&i.#e!==ca.DISABLE){const{annotationStorage:It,annotationEditorUIManager:Lt,downloadManager:st,enableScripting:Ft,fieldObjectsPromise:hn,hasJSActionsPromise:Di,linkService:Vi}=i.#r;i._annotationCanvasMap||=new Map,i.annotationLayer=new j_({pdfPage:g,annotationStorage:It,imageResourcesPath:i.imageResourcesPath,renderForms:i.#e===ca.ENABLE_FORMS,linkService:Vi,downloadManager:st,enableScripting:Ft,hasJSActionsPromise:Di,fieldObjectsPromise:hn,annotationCanvasMap:i._annotationCanvasMap,accessibilityManager:i._accessibilityManager,annotationEditorUIManager:Lt,onAppend:Bi=>{i.#p(Bi,"annotationLayer")}})}const{width:x,height:N}=y,B=document.createElement("canvas");B.setAttribute("role","presentation"),B.hidden=!0;const Y=!(!p?.background||!p?.foreground);let se=It=>{(!Y||It)&&(B.hidden=!1,se=null)};E.append(B),i.canvas=B;const le=B.getContext("2d",{alpha:!1,willReadFrequently:!i.#t}),me=i.outputScale=new zu;if(0===i.maxCanvasPixels){const It=1/i.scale;me.sx*=It,me.sy*=It,i.#n=!0}else if(i.maxCanvasPixels>0){const Lt=Math.sqrt(i.maxCanvasPixels/(x*N));me.sx>Lt||me.sy>Lt?(me.sx=Lt,me.sy=Lt,i.#n=!0):i.#n=!1}const Fe=C_(me.sx),Te=C_(me.sy);B.width=zd(x*me.sx,Fe[0]),B.height=zd(N*me.sy,Te[0]);const{style:nt}=B;nt.width=zd(x,Fe[1])+"px",nt.height=zd(N,Te[1])+"px",i.#o.set(B,y);const dt={canvasContext:le,transform:me.scaled?[me.sx,0,0,me.sy,0,0]:null,viewport:y,annotationMode:i.#e,optionalContentConfigPromise:i._optionalContentConfigPromise,annotationCanvasMap:i._annotationCanvasMap,pageColors:p,isEditing:i.#i},At=i.renderTask=g.render(dt);At.onContinue=It=>{if(se?.(!1),i.renderingQueue&&!i.renderingQueue.isHighestPriority(i))return i.renderingState=zn.PAUSED,void(i.resume=()=>{i.renderingState=zn.RUNNING,It()});It()};const Et=At.promise.then((0,ae.Z)(function*(){se?.(!0),yield i.#M(At),i.#w(),i.annotationLayer&&(yield i.#_());const{annotationEditorUIManager:It}=i.#r;It&&(i.drawLayer||=new ry({pageIndex:i.id}),yield i.#y(),i.drawLayer.setParent(E),i.annotationEditorLayer||=new EC({uiManager:It,pdfPage:g,l10n:u,accessibilityManager:i._accessibilityManager,annotationLayer:i.annotationLayer?.annotationLayer,textLayer:i.textLayer,drawLayer:i.drawLayer.getDrawLayer(),onAppend:Lt=>{i.#p(Lt,"annotationEditorLayer")}}),i.#m())}),It=>(It instanceof Mg||se?.(!0),i.#M(At,It)));if(g.isPureXfa){if(!i.xfaLayer){const{annotationStorage:It,linkService:Lt}=i.#r;i.xfaLayer=new ih({pdfPage:g,annotationStorage:It,linkService:Lt})}i.#E()}return o.setAttribute("data-loaded",!0),i.eventBus.dispatch("pagerender",{source:i,pageNumber:i.id}),Et})()}setPageLabel(i){this.pageLabel="string"==typeof i?i:null,this.div.setAttribute("data-l10n-args",JSON.stringify({page:this.pageLabel??this.id})),null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}get thumbnailCanvas(){const{directDrawing:i,initialOptionalContent:o,regularAnnotations:u}=this.#u;return i&&o&&u?this.canvas:null}}function rh(){return(rh=(0,ae.Z)(function*(C){const o="".split("#",1)[0];let{info:u,metadata:p,contentDispositionFilename:g,contentLength:y}=yield C.getMetadata();if(!y){const{length:E}=yield C.getDownloadInfo();y=E}return{...u,baseURL:o,filesize:y,filename:g||UE(""),metadata:p?.getRaw(),authors:p?.get("dc:creator"),numPages:C.numPages,URL:""}})).apply(this,arguments)}class Hg{constructor(i){this._ready=new Promise((o,u)=>{import(i).then(g=>{o(g.QuickJSSandbox())}).catch(u)})}createSandbox(i){var o=this;return(0,ae.Z)(function*(){(yield o._ready).create(i)})()}dispatchEventInSandbox(i){var o=this;return(0,ae.Z)(function*(){const u=yield o._ready;setTimeout(()=>u.dispatchEvent(i),0)})()}destroySandbox(){var i=this;return(0,ae.Z)(function*(){(yield i._ready).nukeSandbox()})()}}class ab{#e=null;#t=null;#n=null;#i=null;#r=null;#s=null;#a=null;#l=null;#d=!1;#c=null;#u=null;constructor({eventBus:i,externalServices:o=null,docProperties:u=null}){this.#r=i,this.#s=o,this.#n=u}setViewer(i){this.#l=i}setDocument(i){var o=this;return(0,ae.Z)(function*(){if(o.#a&&(yield o.#g()),o.#a=i,!i)return;const[u,p,g]=yield Promise.all([i.getFieldObjects(),i.getCalculationOrderIds(),i.getJSActions()]);if(!u&&!g)return void(yield o.#g());if(i!==o.#a)return;try{o.#c=o.#f()}catch(T){return console.error(`setDocument: "${T.message}".`),void(yield o.#g())}const y=o.#r;o.#i=new AbortController;const{signal:E}=o.#i;y._on("updatefromsandbox",T=>{T?.source===window&&o.#o(T.detail)},{signal:E}),y._on("dispatcheventinsandbox",T=>{o.#c?.dispatchEventInSandbox(T.detail)},{signal:E}),y._on("pagechanging",({pageNumber:T,previous:x})=>{T!==x&&(o.#p(x),o.#h(T))},{signal:E}),y._on("pagerendered",({pageNumber:T})=>{o._pageOpenPending.has(T)&&T===o.#l.currentPageNumber&&o.#h(T)},{signal:E}),y._on("pagesdestroy",(0,ae.Z)(function*(){yield o.#p(o.#l.currentPageNumber),yield o.#c?.dispatchEventInSandbox({id:"doc",name:"WillClose"}),o.#e?.resolve()}),{signal:E});try{const T=yield o.#n(i);if(i!==o.#a)return;yield o.#c.createSandbox({objects:u,calculationOrder:p,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...T,actions:g}}),y.dispatch("sandboxcreated",{source:o})}catch(T){return console.error(`setDocument: "${T.message}".`),void(yield o.#g())}yield o.#c?.dispatchEventInSandbox({id:"doc",name:"Open"}),yield o.#h(o.#l.currentPageNumber,!0),Promise.resolve().then(()=>{i===o.#a&&(o.#d=!0)})})()}dispatchWillSave(){var i=this;return(0,ae.Z)(function*(){return i.#c?.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(){var i=this;return(0,ae.Z)(function*(){return i.#c?.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(){var i=this;return(0,ae.Z)(function*(){if(i.#c){yield i.#u?.promise,i.#u=Promise.withResolvers();try{yield i.#c.dispatchEventInSandbox({id:"doc",name:"WillPrint"})}catch(o){throw i.#u.resolve(),i.#u=null,o}yield i.#u.promise}})()}dispatchDidPrint(){var i=this;return(0,ae.Z)(function*(){return i.#c?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get destroyPromise(){return this.#t?.promise||null}get ready(){return this.#d}get _pageOpenPending(){return gc(this,"_pageOpenPending",new Set)}get _visitedPages(){return gc(this,"_visitedPages",new Map)}#o(i){var o=this;return(0,ae.Z)(function*(){const u=o.#l,p=u.isInPresentationMode||u.isChangingPresentationMode,{id:g,siblings:y,command:E,value:T}=i;if(!g){switch(E){case"clear":console.clear();break;case"error":console.error(T);break;case"layout":if(!p){const N=function bg(C){let i=yi.VERTICAL,o=gs.NONE;switch(C){case"SinglePage":i=yi.PAGE;break;case"OneColumn":break;case"TwoPageLeft":i=yi.PAGE;case"TwoColumnLeft":o=gs.ODD;break;case"TwoPageRight":i=yi.PAGE;case"TwoColumnRight":o=gs.EVEN}return{scrollMode:i,spreadMode:o}}(T);u.spreadMode=N.spreadMode}break;case"page-num":u.currentPageNumber=T+1;break;case"print":yield u.pagesPromise,o.#r.dispatch("print",{source:o});break;case"println":console.log(T);break;case"zoom":p||(u.currentScaleValue=T);break;case"SaveAs":o.#r.dispatch("download",{source:o});break;case"FirstPage":u.currentPageNumber=1;break;case"LastPage":u.currentPageNumber=u.pagesCount;break;case"NextPage":u.nextPage();break;case"PrevPage":u.previousPage();break;case"ZoomViewIn":p||u.increaseScale();break;case"ZoomViewOut":p||u.decreaseScale();break;case"WillPrintFinished":o.#u?.resolve(),o.#u=null}return}if(p&&i.focus)return;delete i.id,delete i.siblings;const x=y?[g,...y]:[g];for(const N of x){const B=document.querySelector(`[data-element-id="${N}"]`);B?B.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:i})):o.#a?.annotationStorage.setValue(N,i)}})()}#h(i,o=!1){var u=this;return(0,ae.Z)(function*(){const p=u.#a,g=u._visitedPages;if(o&&(u.#e=Promise.withResolvers()),!u.#e)return;const y=u.#l.getPageView(i-1);if(y?.renderingState!==zn.FINISHED)return void u._pageOpenPending.add(i);u._pageOpenPending.delete(i);const E=(0,ae.Z)(function*(){const T=yield g.has(i)?null:y.pdfPage?.getJSActions();p===u.#a&&(yield u.#c?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:i,actions:T}))})();g.set(i,E)})()}#p(i){var o=this;return(0,ae.Z)(function*(){const u=o.#a,p=o._visitedPages;if(!o.#e||o._pageOpenPending.has(i))return;const g=p.get(i);g&&(p.set(i,null),yield g,u===o.#a&&(yield o.#c?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:i})))})()}#f(){if(this.#t=Promise.withResolvers(),this.#c)throw new Error("#initScripting: Scripting already exists.");return this.#s.createScripting()}#g(){var i=this;return(0,ae.Z)(function*(){if(!i.#c)return i.#a=null,void i.#t?.resolve();i.#e&&(yield Promise.race([i.#e.promise,new Promise(o=>{setTimeout(o,1e3)})]).catch(()=>{}),i.#e=null),i.#a=null;try{yield i.#c.destroySandbox()}catch{}i.#u?.reject(new Error("Scripting destroyed.")),i.#u=null,i.#i?.abort(),i.#i=null,i._pageOpenPending.clear(),i._visitedPages.clear(),i.#c=null,i.#d=!1,i.#t?.resolve()})()}}class sy extends ab{constructor(i){i.externalServices||window.addEventListener("updatefromsandbox",o=>{i.eventBus.dispatch("updatefromsandbox",{source:window,detail:o.detail})}),i.externalServices||={createScripting:()=>new Hg(i.sandboxBundleSrc)},i.docProperties||=o=>function Gf(C){return rh.apply(this,arguments)}(o),super(i)}}class zg{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1,Object.defineProperty(this,"hasViewer",{value:()=>!!this.pdfViewer})}setViewer(i){this.pdfViewer=i}setThumbnailViewer(i){this.pdfThumbnailViewer=i}isHighestPriority(i){return this.highestPriorityPage===i.renderingId}renderHighestPriority(i){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(i)&&(this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(i,o,u,p=!1){const g=i.views,y=g.length;if(0===y)return null;for(let B=0;B<y;B++){const Y=g[B].view;if(!this.isViewFinished(Y))return Y}const E=i.first.id,T=i.last.id;if(T-E+1>y){const B=i.ids;for(let Y=1,se=T-E;Y<se;Y++){const le=u?E+Y:T-Y;if(B.has(le))continue;const me=o[le-1];if(!this.isViewFinished(me))return me}}let x=u?T:E-2,N=o[x];return N&&!this.isViewFinished(N)||p&&(x+=u?1:-1,N=o[x],N&&!this.isViewFinished(N))?N:null}isViewFinished(i){return i.renderingState===zn.FINISHED}renderView(i){switch(i.renderingState){case zn.FINISHED:return!1;case zn.PAUSED:this.highestPriorityPage=i.renderingId,i.resume();break;case zn.RUNNING:this.highestPriorityPage=i.renderingId;break;case zn.INITIAL:this.highestPriorityPage=i.renderingId,i.draw().finally(()=>{this.renderHighestPriority()}).catch(o=>{o instanceof Mg||console.error(`renderView: "${o}"`)})}return!0}}function Gl(C){return Object.values(Ms).includes(C)&&C!==Ms.DISABLE}class Wl{#e=new Set;#t=0;constructor(i){this.#t=i}push(i){const o=this.#e;o.has(i)&&o.delete(i),o.add(i),o.size>this.#t&&this.#n()}resize(i,o=null){this.#t=i;const u=this.#e;if(o){const p=u.size;let g=1;for(const y of u)if(o.has(y.id)&&(u.delete(y),u.add(y)),++g>p)break}for(;u.size>this.#t;)this.#n()}has(i){return this.#e.has(i)}[Symbol.iterator](){return this.#e.keys()}#n(){const i=this.#e.keys().next().value;i?.destroy(),this.#e.delete(i)}}class Ma{#e=null;#t=null;#n=null;#i=Ms.NONE;#r=null;#s=ca.ENABLE_FORMS;#a=null;#l=!1;#d=!1;#c=!1;#u=!1;#o=!1;#h=null;#p=null;#f=null;#g=null;#_=!1;#m=null;#y=!1;#E=0;#w=new ResizeObserver(this.#F.bind(this));#b=null;#C=null;#M=1;constructor(i){const o="4.6.82";if(WE!==o)throw new Error(`The API version "${WE}" does not match the Viewer version "${o}".`);if(this.container=i.container,this.viewer=i.viewer||i.container.firstElementChild,"DIV"!==this.container?.tagName||"DIV"!==this.viewer?.tagName)throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.#w.observe(this.container),this.eventBus=i.eventBus,this.linkService=i.linkService||new k_,this.downloadManager=i.downloadManager||null,this.findController=i.findController||null,this.#t=i.altTextManager||null,this.findController&&(this.findController.onIsPageVisible=p=>this._getVisiblePages().ids.has(p)),this._scriptingManager=i.scriptingManager||null,this.#M=i.textLayerMode??1,this.#s=i.annotationMode??ca.ENABLE_FORMS,this.#i=i.annotationEditorMode??Ms.NONE,this.#n=i.annotationEditorHighlightColors||null,this.#d=!0===i.enableHighlightFloatingButton,this.#u=!0===i.enableUpdatedAddImage,this.#o=!0===i.enableNewAltTextWhenAddingImage,this.imageResourcesPath=i.imageResourcesPath||"",this.enablePrintAutoRotate=i.enablePrintAutoRotate||!1,this.removePageBorders=i.removePageBorders||!1,this.maxCanvasPixels=i.maxCanvasPixels,this.l10n=i.l10n,this.l10n||=new Da,this.#c=i.enablePermissions||!1,this.pageColors=i.pageColors||null,this.#p=i.mlManager||null,this.#l=i.enableHWA||!1,this.defaultRenderingQueue=!i.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new zg,this.renderingQueue.setViewer(this)):this.renderingQueue=i.renderingQueue;const{abortSignal:u}=i;u?.addEventListener("abort",()=>{this.#w.disconnect(),this.#w=null},{once:!0}),this.scroll=function w_(C,i,o){const u=function(y){g||(g=window.requestAnimationFrame(function(){g=null;const T=C.scrollLeft,x=p.lastX;T!==x&&(p.right=T>x),p.lastX=T;const N=C.scrollTop,B=p.lastY;N!==B&&(p.down=N>B),p.lastY=N,i(p)}))},p={right:!0,down:!0,lastX:C.scrollLeft,lastY:C.scrollTop,_eventHandler:u};let g=null;return C.addEventListener("scroll",u,{useCapture:!0,signal:o}),o?.addEventListener("abort",()=>window.cancelAnimationFrame(g),{once:!0}),p}(this.container,this._scrollUpdate.bind(this),u),this.presentationModeState=0,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.#k(),this.eventBus._on("thumbnailrendered",({pageNumber:p,pdfPage:g})=>{this.#e.has(this._pages[p-1])||g?.cleanup()}),i.l10n||this.l10n.translate(this.container)}get pagesCount(){return this._pages.length}getPageView(i){return this._pages[i]}getCachedPageViews(){return new Set(this.#e)}get pageViewsReady(){return this._pages.every(i=>i?.pdfPage)}get renderForms(){return this.#s===ca.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(i){if(!Number.isInteger(i))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(i,!0)||console.error(`currentPageNumber: "${i}" is not a valid page.`))}_setCurrentPageNumber(i,o=!1){if(this._currentPageNumber===i)return o&&this.#R(),!0;if(!(0<i&&i<=this.pagesCount))return!1;const u=this._currentPageNumber;return this._currentPageNumber=i,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:i,pageLabel:this._pageLabels?.[i-1]??null,previous:u}),o&&this.#R(),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(i){if(!this.pdfDocument)return;let o=0|i;if(this._pageLabels){const u=this._pageLabels.indexOf(i);u>=0&&(o=u+1)}this._setCurrentPageNumber(o,!0)||console.error(`currentPageLabel: "${i}" is not a valid page.`)}get currentScale(){return 0!==this._currentScale?this._currentScale:1}set currentScale(i){if(isNaN(i))throw new Error("Invalid numeric scale.");this.pdfDocument&&this.#P(i,{noScroll:!1})}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(i){this.pdfDocument&&this.#P(i,{noScroll:!1})}get pagesRotation(){return this._pagesRotation}set pagesRotation(i){if(!Gd(i))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((i%=360)<0&&(i+=360),this._pagesRotation===i))return;this._pagesRotation=i;const o=this._currentPageNumber;this.refresh(!0,{rotation:i}),this._currentScaleValue&&this.#P(this._currentScaleValue,{noScroll:!0}),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:i,pageNumber:o}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}get _layerProperties(){const i=this;return gc(this,"_layerProperties",{get annotationEditorUIManager(){return i.#r},get annotationStorage(){return i.pdfDocument?.annotationStorage},get downloadManager(){return i.downloadManager},get enableScripting(){return!!i._scriptingManager},get fieldObjectsPromise(){return i.pdfDocument?.getFieldObjects()},get findController(){return i.findController},get hasJSActionsPromise(){return i.pdfDocument?.hasJSActions()},get linkService(){return i.linkService}})}#S(i){const o={annotationEditorMode:this.#i,annotationMode:this.#s,textLayerMode:this.#M};return i&&(!i.includes(Yd.COPY)&&1===this.#M&&(o.textLayerMode=2),i.includes(Yd.MODIFY_CONTENTS)||(o.annotationEditorMode=Ms.DISABLE),!i.includes(Yd.MODIFY_ANNOTATIONS)&&!i.includes(Yd.FILL_INTERACTIVE_FORMS)&&this.#s===ca.ENABLE_FORMS&&(o.annotationMode=ca.ENABLE)),o}#A(i){var o=this;return(0,ae.Z)(function*(){if("hidden"===document.visibilityState||!o.container.offsetParent||0===o._getVisiblePages().views.length)return;const u=Promise.withResolvers();function p(){"hidden"===document.visibilityState&&u.resolve()}document.addEventListener("visibilitychange",p,{signal:i}),yield Promise.race([o._onePageRenderedCapability.promise,u.promise]),document.removeEventListener("visibilitychange",p)})()}getAllText(){var i=this;return(0,ae.Z)(function*(){const o=[],u=[];for(let p=1,g=i.pdfDocument.numPages;p<=g;++p){if(i.#y)return null;u.length=0;const y=yield i.pdfDocument.getPage(p),{items:E}=yield y.getTextContent();for(const T of E)T.str&&u.push(T.str),T.hasEOL&&u.push("\n");o.push(Hd(u.join("")))}return o.join("\n")})()}#D(i,o){const u=document.getSelection(),{focusNode:p,anchorNode:g}=u;if(g&&p&&u.containsNode(this.#m)){if(this.#_||2===i)return o.preventDefault(),void o.stopPropagation();this.#_=!0;const{classList:y}=this.viewer;y.add("copyAll");const E=new AbortController;window.addEventListener("keydown",T=>this.#y="Escape"===T.key,{signal:E.signal}),this.getAllText().then(function(){var T=(0,ae.Z)(function*(x){null!==x&&(yield navigator.clipboard.writeText(x))});return function(x){return T.apply(this,arguments)}}()).catch(T=>{console.warn(`Something goes wrong when extracting the text: ${T.message}`)}).finally(()=>{this.#_=!1,this.#y=!1,E.abort(),y.remove("copyAll")}),o.preventDefault(),o.stopPropagation()}}setDocument(i){var o=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController?.setDocument(null),this._scriptingManager?.setDocument(null),this.#r?.destroy(),this.#r=null),this.pdfDocument=i,!i)return;const u=i.numPages,p=i.getPage(1),g=i.getOptionalContentConfig({intent:"display"}),y=this.#c?i.getPermissions():Promise.resolve(),{eventBus:E,pageColors:T,viewer:x}=this;this.#h=new AbortController;const{signal:N}=this.#h;if(u>1e4){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const se=this._scrollMode=yi.PAGE;E.dispatch("scrollmodechanged",{source:this,mode:se})}this._pagesCapability.promise.then(()=>{E.dispatch("pagesloaded",{source:this,pagesCount:u})},()=>{}),E._on("pagerender",se=>{const le=this._pages[se.pageNumber-1];le&&this.#e.push(le)},{signal:N});const Y=se=>{se.cssTransform||(this._onePageRenderedCapability.resolve({timestamp:se.timestamp}),E._off("pagerendered",Y))};E._on("pagerendered",Y,{signal:N}),Promise.all([p,y]).then(([se,le])=>{if(i!==this.pdfDocument)return;this._firstPageCapability.resolve(se),this._optionalContentConfigPromise=g;const{annotationEditorMode:me,annotationMode:Fe,textLayerMode:Te}=this.#S(le);if(0!==Te){const At=this.#m=document.createElement("div");At.id="hiddenCopyElement",x.before(At)}if("function"==typeof AbortSignal.any&&me!==Ms.DISABLE){const At=me;i.isPureXfa?console.warn("Warning: XFA-editing is not implemented."):Gl(At)?(this.#r=new la(this.container,x,this.#t,E,i,T,this.#n,this.#d,this.#u,this.#o,this.#p),E.dispatch("annotationeditoruimanager",{source:this,uiManager:this.#r}),At!==Ms.NONE&&(At===Ms.STAMP&&this.#p?.loadModel("altText"),this.#r.updateMode(At))):console.error(`Invalid AnnotationEditor mode: ${At}`)}const nt=this._scrollMode===yi.PAGE?null:x,ht=this.currentScale,dt=se.getViewport({scale:ht*El.PDF_TO_CSS_UNITS});x.style.setProperty("--scale-factor",dt.scale),("CanvasText"===T?.foreground||"Canvas"===T?.background)&&(x.style.setProperty("--hcm-highlight-filter",i.filterFactory.addHighlightHCMFilter("highlight","CanvasText","Canvas","HighlightText","Highlight")),x.style.setProperty("--hcm-highlight-selected-filter",i.filterFactory.addHighlightHCMFilter("highlight_selected","CanvasText","Canvas","HighlightText","ButtonText")));for(let At=1;At<=u;++At){const Et=new id({container:nt,eventBus:E,id:At,scale:ht,defaultViewport:dt.clone(),optionalContentConfigPromise:g,renderingQueue:this.renderingQueue,textLayerMode:Te,annotationMode:Fe,imageResourcesPath:this.imageResourcesPath,maxCanvasPixels:this.maxCanvasPixels,pageColors:T,l10n:this.l10n,layerProperties:this._layerProperties,enableHWA:this.#l});this._pages.push(Et)}this._pages[0]?.setPdfPage(se),this._scrollMode===yi.PAGE?this.#I():this._spreadMode!==gs.NONE&&this._updateSpreadMode(),this.#A(N).then((0,ae.Z)(function*(){if(i!==o.pdfDocument)return;if(o.findController?.setDocument(i),o._scriptingManager?.setDocument(i),o.#m&&document.addEventListener("copy",o.#D.bind(o,Te),{signal:N}),o.#r&&E.dispatch("annotationeditormodechanged",{source:o,mode:o.#i}),i.loadingParams.disableAutoFetch||u>5e3)return void o._pagesCapability.resolve();let At=u-1;if(At<=0)o._pagesCapability.resolve();else for(let Et=2;Et<=u;++Et){const It=i.getPage(Et).then(Lt=>{const st=o._pages[Et-1];st.pdfPage||st.setPdfPage(Lt),0==--At&&o._pagesCapability.resolve()},Lt=>{console.error(`Unable to get page ${Et} to initialize viewer`,Lt),0==--At&&o._pagesCapability.resolve()});Et%250==0&&(yield It)}})),E.dispatch("pagesinit",{source:this}),i.getMetadata().then(({info:At})=>{i===this.pdfDocument&&At.Language&&(x.lang=At.Language)}),this.defaultRenderingQueue&&this.update()}).catch(se=>{console.error("Unable to initialize viewer",se),this._pagesCapability.reject(se)})}setPageLabels(i){if(this.pdfDocument){i?Array.isArray(i)&&this.pdfDocument.numPages===i.length?this._pageLabels=i:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let o=0,u=this._pages.length;o<u;o++)this._pages[o].setPageLabel(this._pageLabels?.[o]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=0,this._currentScaleValue=null,this._pageLabels=null,this.#e=new Wl(10),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=Promise.withResolvers(),this._onePageRenderedCapability=Promise.withResolvers(),this._pagesCapability=Promise.withResolvers(),this._scrollMode=yi.VERTICAL,this._previousScrollMode=yi.UNKNOWN,this._spreadMode=gs.NONE,this.#b={previousPageNumber:1,scrollDown:!0,pages:[]},this.#h?.abort(),this.#h=null,this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.#m?.remove(),this.#m=null,this.#V()}#I(){if(this._scrollMode!==yi.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const i=this._currentPageNumber,o=this.#b,u=this.viewer;if(u.textContent="",o.pages.length=0,this._spreadMode!==gs.NONE||this.isInPresentationMode){const p=new Set,g=this._spreadMode-1;-1===g?p.add(i-1):i%2!==g?(p.add(i-1),p.add(i)):(p.add(i-2),p.add(i-1));const y=document.createElement("div");if(y.className="spread",this.isInPresentationMode){const E=document.createElement("div");E.className="dummyPage",y.append(E)}for(const E of p){const T=this._pages[E];T&&(y.append(T.div),o.pages.push(T))}u.append(y)}else{const p=this._pages[i-1];u.append(p.div),o.pages.push(p)}o.scrollDown=i>=o.previousPageNumber,o.previousPageNumber=i}_scrollUpdate(){0!==this.pagesCount&&this.update()}#x(i,o=null){const{div:u,id:p}=i;if(this._currentPageNumber!==p&&this._setCurrentPageNumber(p),this._scrollMode===yi.PAGE&&(this.#I(),this.update()),!o&&!this.isInPresentationMode){const g=u.offsetLeft+u.clientLeft,y=g+u.clientWidth,{scrollLeft:E,clientWidth:T}=this.container;(this._scrollMode===yi.HORIZONTAL||g<E||y>E+T)&&(o={left:0,top:0})}Bc(u,o),!this._currentScaleValue&&this._location&&(this._location=null)}#N(i){return i===this._currentScale||Math.abs(i-this._currentScale)<1e-15}#T(i,o,{noScroll:u=!1,preset:p=!1,drawingDelay:g=-1,origin:y=null}){if(this._currentScaleValue=o.toString(),this.#N(i))return void(p&&this.eventBus.dispatch("scalechanging",{source:this,scale:i,presetValue:o}));this.viewer.style.setProperty("--scale-factor",i*El.PDF_TO_CSS_UNITS);const E=g>=0&&g<1e3;this.refresh(!0,{scale:i,drawingDelay:E?g:-1}),E&&(this.#C=setTimeout(()=>{this.#C=null,this.refresh()},g));const T=this._currentScale;if(this._currentScale=i,!u){let N,x=this._currentPageNumber;if(this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(x=this._location.pageNumber,N=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:x,destArray:N,allowNegativeOffset:!0}),Array.isArray(y)){const B=i/T-1,[Y,se]=this.containerTopLeft;this.container.scrollLeft+=(y[0]-se)*B,this.container.scrollTop+=(y[1]-Y)*B}}this.eventBus.dispatch("scalechanging",{source:this,scale:i,presetValue:p?o:void 0}),this.defaultRenderingQueue&&this.update()}get#v(){return this._spreadMode!==gs.NONE&&this._scrollMode!==yi.HORIZONTAL?2:1}#P(i,o){let u=parseFloat(i);if(u>0)o.preset=!1,this.#T(u,i,o);else{const p=this._pages[this._currentPageNumber-1];if(!p)return;let g=40,y=5;this.isInPresentationMode?(g=y=4,this._spreadMode!==gs.NONE&&(g*=2)):this.removePageBorders?g=y=0:this._scrollMode===yi.HORIZONTAL&&([g,y]=[y,g]);const E=(this.container.clientWidth-g)/p.width*p.scale/this.#v,T=(this.container.clientHeight-y)/p.height*p.scale;switch(i){case"page-actual":u=1;break;case"page-width":u=E;break;case"page-height":u=T;break;case"page-fit":u=Math.min(E,T);break;case"auto":const x=Wd(p)?E:Math.min(T,E);u=Math.min(1.25,x);break;default:return void console.error(`#setScale: "${i}" is an unknown zoom value.`)}o.preset=!0,this.#T(u,i,o)}}#R(){const i=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this.#P(this._currentScaleValue,{noScroll:!0}),this.#x(i)}pageLabelToPageNumber(i){if(!this._pageLabels)return null;const o=this._pageLabels.indexOf(i);return o<0?null:o+1}scrollPageIntoView({pageNumber:i,destArray:o=null,allowNegativeOffset:u=!1,ignoreDestinationZoom:p=!1}){if(!this.pdfDocument)return;const g=Number.isInteger(i)&&this._pages[i-1];if(!g)return void console.error(`scrollPageIntoView: "${i}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!o)return void this._setCurrentPageNumber(i,!0);let N,B,y=0,E=0,T=0,x=0;const Y=g.rotation%180!=0,se=(Y?g.height:g.width)/g.scale/El.PDF_TO_CSS_UNITS,le=(Y?g.width:g.height)/g.scale/El.PDF_TO_CSS_UNITS;let me=0;switch(o[1].name){case"XYZ":y=o[2],E=o[3],me=o[4],y=null!==y?y:0,E=null!==E?E:le;break;case"Fit":case"FitB":me="page-fit";break;case"FitH":case"FitBH":E=o[2],me="page-width",null===E&&this._location?(y=this._location.left,E=this._location.top):("number"!=typeof E||E<0)&&(E=le);break;case"FitV":case"FitBV":y=o[2],T=se,x=le,me="page-height";break;case"FitR":y=o[2],E=o[3],T=o[4]-y,x=o[5]-E;let ht=40,dt=5;this.removePageBorders&&(ht=dt=0),N=(this.container.clientWidth-ht)/T/El.PDF_TO_CSS_UNITS,B=(this.container.clientHeight-dt)/x/El.PDF_TO_CSS_UNITS,me=Math.min(Math.abs(N),Math.abs(B));break;default:return void console.error(`scrollPageIntoView: "${o[1].name}" is not a valid destination type.`)}if(p||(me&&me!==this._currentScale?this.currentScaleValue=me:0===this._currentScale&&(this.currentScaleValue="auto")),"page-fit"===me&&!o[4])return void this.#x(g);const Fe=[g.viewport.convertToViewportPoint(y,E),g.viewport.convertToViewportPoint(y+T,E+x)];let Te=Math.min(Fe[0][0],Fe[1][0]),nt=Math.min(Fe[0][1],Fe[1][1]);u||(Te=Math.max(Te,0),nt=Math.max(nt,0)),this.#x(g,{left:Te,top:nt})}_updateLocation(i){const o=this._currentScale,u=this._currentScaleValue,p=parseFloat(u)===o?Math.round(1e4*o)/100:u,g=i.id,E=this.container,T=this._pages[g-1].getPagePoint(E.scrollLeft-i.x,E.scrollTop-i.y),x=Math.round(T[0]),N=Math.round(T[1]);let B=`#page=${g}`;this.isInPresentationMode||(B+=`&zoom=${p},${x},${N}`),this._location={pageNumber:g,scale:p,top:N,left:x,rotation:this._pagesRotation,pdfOpenParams:B}}update(){const i=this._getVisiblePages(),o=i.views,u=o.length;if(0===u)return;const p=Math.max(10,2*u+1);this.#e.resize(p,i.ids),this.renderingQueue.renderHighestPriority(i);const g=this._spreadMode===gs.NONE&&(this._scrollMode===yi.PAGE||this._scrollMode===yi.VERTICAL),y=this._currentPageNumber;let E=!1;for(const T of o){if(T.percent<100)break;if(T.id===y&&g){E=!0;break}}this._setCurrentPageNumber(E?y:o[0].id),this._updateLocation(i.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}#L(){const i=this._getVisiblePages(),o=[],{ids:u,views:p}=i;for(const g of p){const{view:y}=g;y.hasEditableAnnotations()?o.push(g):u.delete(y.id)}return 0===o.length?null:(this.renderingQueue.renderHighestPriority({first:o[0],last:o.at(-1),views:o,ids:u}),u)}containsElement(i){return this.container.contains(i)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return 3===this.presentationModeState}get isChangingPresentationMode(){return 2===this.presentationModeState}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const i=this._scrollMode===yi.PAGE?this.#b.pages:this._pages,o=this._scrollMode===yi.HORIZONTAL;return function NE({scrollEl:C,views:i,sortByVisibility:o=!1,horizontal:u=!1,rtl:p=!1}){const g=C.scrollTop,y=g+C.clientHeight,E=C.scrollLeft,T=E+C.clientWidth,B=[],Y=new Set,se=i.length;let le=Uc(i,u?function N(nt){const ht=nt.div,dt=ht.offsetLeft+ht.clientLeft;return p?dt<T:dt+ht.clientWidth>E}:function x(nt){const ht=nt.div;return ht.offsetTop+ht.clientTop+ht.clientHeight>g});le>0&&le<se&&!u&&(le=function $d(C,i,o){if(C<2)return C;let u=i[C].div,p=u.offsetTop+u.clientTop;p>=o&&(u=i[C-1].div,p=u.offsetTop+u.clientTop);for(let g=C-2;g>=0&&(u=i[g].div,!(u.offsetTop+u.clientTop+u.clientHeight<=p));--g)C=g;return C}(le,i,g));let me=u?T:-1;for(let nt=le;nt<se;nt++){const ht=i[nt],dt=ht.div,At=dt.offsetLeft+dt.clientLeft,Et=dt.offsetTop+dt.clientTop,It=dt.clientWidth,Lt=dt.clientHeight,st=At+It,Ft=Et+Lt;if(-1===me)Ft>=y&&(me=Ft);else if((u?At:Et)>me)break;if(Ft<=g||Et>=y||st<=E||At>=T)continue;const hn=Math.max(0,g-Et)+Math.max(0,Ft-y),Bi=(It-(Math.max(0,E-At)+Math.max(0,st-T)))/It;B.push({id:ht.id,x:At,y:Et,view:ht,percent:(Lt-hn)/Lt*Bi*100|0,widthPercent:100*Bi|0}),Y.add(ht.id)}const Fe=B[0],Te=B.at(-1);return o&&B.sort(function(nt,ht){const dt=nt.percent-ht.percent;return Math.abs(dt)>.001?-dt:nt.id-ht.id}),{first:Fe,last:Te,views:B,ids:Y}}({scrollEl:this.container,views:i,sortByVisibility:!0,horizontal:o,rtl:o&&this._isContainerRtl})}cleanup(){for(const i of this._pages)i.renderingState!==zn.FINISHED&&i.reset()}_cancelRendering(){for(const i of this._pages)i.cancelRendering()}#j(i){var o=this;return(0,ae.Z)(function*(){if(i.pdfPage)return i.pdfPage;try{const u=yield o.pdfDocument.getPage(i.id);return i.pdfPage||i.setPdfPage(u),u}catch(u){return console.error("Unable to get page for page view",u),null}})()}#B(i){if(1===i.first?.id)return!0;if(i.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case yi.PAGE:return this.#b.scrollDown;case yi.HORIZONTAL:return this.scroll.right}return this.scroll.down}forceRendering(i){const o=i||this._getVisiblePages(),u=this.#B(o),g=this.renderingQueue.getHighestPriority(o,this._pages,u,this._spreadMode!==gs.NONE&&this._scrollMode!==yi.HORIZONTAL);return!!g&&(this.#j(g).then(()=>{this.renderingQueue.renderView(g)}),!0)}get hasEqualPageSizes(){const i=this._pages[0];for(let o=1,u=this._pages.length;o<u;++o){const p=this._pages[o];if(p.width!==i.width||p.height!==i.height)return!1}return!0}getPagesOverview(){let i;return this._pages.map(o=>{const u=o.pdfPage.getViewport({scale:1}),p=Wd(u);if(void 0===i)i=p;else if(this.enablePrintAutoRotate&&p!==i)return{width:u.height,height:u.width,rotation:(u.rotation-90)%360};return{width:u.width,height:u.height,rotation:u.rotation}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:(console.error("optionalContentConfigPromise: Not initialized yet."),this.pdfDocument.getOptionalContentConfig({intent:"display"})):Promise.resolve(null)}set optionalContentConfigPromise(i){if(!(i instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${i}`);this.pdfDocument&&this._optionalContentConfigPromise&&(this._optionalContentConfigPromise=i,this.refresh(!1,{optionalContentConfigPromise:i}),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:i}))}get scrollMode(){return this._scrollMode}set scrollMode(i){if(this._scrollMode!==i){if(!function rC(C){return Number.isInteger(C)&&Object.values(yi).includes(C)&&C!==yi.UNKNOWN}(i))throw new Error(`Invalid scroll mode: ${i}`);this.pagesCount>1e4||(this._previousScrollMode=this._scrollMode,this._scrollMode=i,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:i}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(i=null){const o=this._scrollMode,u=this.viewer;u.classList.toggle("scrollHorizontal",o===yi.HORIZONTAL),u.classList.toggle("scrollWrapped",o===yi.WRAPPED),this.pdfDocument&&i&&(o===yi.PAGE?this.#I():this._previousScrollMode===yi.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this.#P(this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(i,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(i){if(this._spreadMode!==i){if(!function Bl(C){return Number.isInteger(C)&&Object.values(gs).includes(C)&&C!==gs.UNKNOWN}(i))throw new Error(`Invalid spread mode: ${i}`);this._spreadMode=i,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:i}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(i=null){if(!this.pdfDocument)return;const o=this.viewer,u=this._pages;if(this._scrollMode===yi.PAGE)this.#I();else if(o.textContent="",this._spreadMode===gs.NONE)for(const p of this._pages)o.append(p.div);else{const p=this._spreadMode-1;let g=null;for(let y=0,E=u.length;y<E;++y)null===g?(g=document.createElement("div"),g.className="spread",o.append(g)):y%2===p&&(g=g.cloneNode(!1),o.append(g)),g.append(u[y].div)}i&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this.#P(this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(i,!0),this.update())}_getPageAdvance(i,o=!1){switch(this._scrollMode){case yi.WRAPPED:{const{views:u}=this._getVisiblePages(),p=new Map;for(const{id:g,y,percent:E,widthPercent:T}of u){if(0===E||T<100)continue;let x=p.get(y);x||p.set(y,x||=[]),x.push(g)}for(const g of p.values()){const y=g.indexOf(i);if(-1===y)continue;const E=g.length;if(1===E)break;if(o)for(let T=y-1,x=0;T>=x;T--){const B=g[T+1]-1;if(g[T]<B)return i-B}else for(let T=y+1,x=E;T<x;T++){const B=g[T-1]+1;if(g[T]>B)return B-i}if(o){const T=g[0];if(T<i)return i-T+1}else{const T=g[E-1];if(T>i)return T-i+1}break}break}case yi.HORIZONTAL:break;case yi.PAGE:case yi.VERTICAL:{if(this._spreadMode===gs.NONE)break;const u=this._spreadMode-1;if(o&&i%2!==u)break;if(!o&&i%2===u)break;const{views:p}=this._getVisiblePages(),g=o?i-1:i+1;for(const{id:y,percent:E,widthPercent:T}of p)if(y===g){if(E>0&&100===T)return 2;break}break}}return 1}nextPage(){const i=this._currentPageNumber,o=this.pagesCount;if(i>=o)return!1;const u=this._getPageAdvance(i,!1)||1;return this.currentPageNumber=Math.min(i+u,o),!0}previousPage(){const i=this._currentPageNumber;if(i<=1)return!1;const o=this._getPageAdvance(i,!0)||1;return this.currentPageNumber=Math.max(i-o,1),!0}updateScale({drawingDelay:i,scaleFactor:o=null,steps:u=null,origin:p}){if(null===u&&null===o)throw new Error("Invalid updateScale options: either `steps` or `scaleFactor` must be provided.");if(!this.pdfDocument)return;let g=this._currentScale;if(o>0&&1!==o)g=Math.round(g*o*100)/100;else if(u){const y=u>0?1.1:1/1.1,E=u>0?Math.ceil:Math.floor;u=Math.abs(u);do{g=E(10*(g*y).toFixed(2))/10}while(--u>0)}g=Math.max(.1,Math.min(10,g)),this.#P(g,{noScroll:!1,drawingDelay:i,origin:p})}increaseScale(i={}){this.updateScale({...i,steps:i.steps??1})}decreaseScale(i={}){this.updateScale({...i,steps:-(i.steps??1)})}#k(i=this.container.clientHeight){i!==this.#E&&(this.#E=i,Ul.setProperty("--viewer-container-height",`${i}px`))}#F(i){for(const o of i)if(o.target===this.container){this.#k(Math.floor(o.borderBoxSize[0].blockSize)),this.#a=null;break}}get containerTopLeft(){return this.#a||=[this.container.offsetTop,this.container.offsetLeft]}#V(){this.#f&&(this.eventBus._off("pagerendered",this.#f),this.#f=null),null!==this.#g&&(clearTimeout(this.#g),this.#g=null)}get annotationEditorMode(){return this.#r?this.#i:Ms.DISABLE}set annotationEditorMode({mode:i,editId:o=null,isFromKeyboard:u=!1}){if(!this.#r)throw new Error("The AnnotationEditor is not enabled.");if(this.#i===i)return;if(!Gl(i))throw new Error(`Invalid AnnotationEditor mode: ${i}`);if(!this.pdfDocument)return;i===Ms.STAMP&&this.#p?.loadModel("altText");const{eventBus:p}=this,g=()=>{this.#V(),this.#i=i,this.#r.updateMode(i,o,u),p.dispatch("annotationeditormodechanged",{source:this,mode:i})};if(i===Ms.NONE||this.#i===Ms.NONE){const y=i!==Ms.NONE;y||this.pdfDocument.annotationStorage.resetModifiedIds();for(const T of this._pages)T.toggleEditingMode(y);const E=this.#L();if(y&&E){this.#V(),this.#f=({pageNumber:x})=>{E.delete(x),0===E.size&&(this.#g=setTimeout(g,0))};const{signal:T}=this.#h;return void p._on("pagerendered",this.#f,{signal:T})}}g()}refresh(i=!1,o=Object.create(null)){if(this.pdfDocument){for(const u of this._pages)u.update(o);null!==this.#C&&(clearTimeout(this.#C),this.#C=null),i||this.update()}}}class Ws extends Ma{_resetView(){super._resetView(),this._scrollMode=yi.PAGE,this._spreadMode=gs.NONE}set scrollMode(i){}_updateScrollMode(){}set spreadMode(i){}_updateSpreadMode(){}}var $g=Si.AnnotationLayerBuilder,Wf=Si.DownloadManager,eu=Si.EventBus,ly=Si.FindState,qf=Si.GenericL10n,tu=Si.LinkTarget,Kf=Si.PDFFindController,cy=Si.PDFHistory,Gg=Si.PDFLinkService,Yf=Si.PDFPageView,Qf=Si.PDFScriptingManager,Zf=Si.PDFSinglePageViewer,sh=Si.PDFViewer,lb=Si.ProgressBar,cb=Si.RenderingStates,Wg=Si.ScrollMode,qg=Si.SimpleLinkService,uy=Si.SpreadMode,rd=Si.StructTreeLayerBuilder,sd=Si.TextLayerBuilder,dy=Si.XfaLayerBuilder,Kg=Si.parseQueryString;const Xf=["pdfViewerContainer"];function nu(C,i,o){C[i]=o}function oh(){return typeof window>"u"}oh()||nu(v,"verbosity",Gs.INFOS),typeof Promise.withResolvers>"u"&&window&&(window.Promise.withResolvers=()=>{let C,i;return{promise:new Promise((u,p)=>{C=u,i=p}),resolve:C,reject:i}});var ah=function(C){return C[C.DISABLED=0]="DISABLED",C[C.ENABLED=1]="ENABLED",C[C.ENHANCED=2]="ENHANCED",C}(ah||{});let ub=(()=>{class C{element;ngZone;static CSS_UNITS=96/72;static BORDER_WIDTH=9;pdfViewerContainer;eventBus;pdfLinkService;pdfFindController;pdfViewer;isVisible=!1;_cMapsUrl=typeof v<"u"?`https://unpkg.com/pdfjs-dist@${ve}/cmaps/`:null;_imageResourcesPath=typeof v<"u"?`https://unpkg.com/pdfjs-dist@${ve}/web/images/`:void 0;_renderText=!0;_renderTextMode=ah.ENABLED;_stickToPage=!1;_originalSize=!0;_pdf;_page=1;_zoom=1;_zoomScale="page-width";_rotation=0;_showAll=!0;_canAutoResize=!0;_fitToPage=!1;_externalLinkTarget="blank";_showBorders=!1;lastLoaded;_latestScrolledPage;pageScrollTimeout=null;isInitialized=!1;loadingTask;destroy$=new G.x;afterLoadComplete=new re.vpe;pageRendered=new re.vpe;pageInitialized=new re.vpe;textLayerRendered=new re.vpe;onError=new re.vpe;onProgress=new re.vpe;pageChange=new re.vpe(!0);src;set cMapsUrl(o){this._cMapsUrl=o}set page(o){const u=o=parseInt(o,10)||1;this._pdf&&(o=this.getValidPageNumber(o)),this._page=o,u!==o&&this.pageChange.emit(o)}set renderText(o){this._renderText=o}set renderTextMode(o){this._renderTextMode=o}set originalSize(o){this._originalSize=o}set showAll(o){this._showAll=o}set stickToPage(o){this._stickToPage=o}set zoom(o){o<=0||(this._zoom=o)}get zoom(){return this._zoom}set zoomScale(o){this._zoomScale=o}get zoomScale(){return this._zoomScale}set rotation(o){"number"==typeof o&&o%90==0?this._rotation=o:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(o){this._externalLinkTarget=o}set autoresize(o){this._canAutoResize=!!o}set fitToPage(o){this._fitToPage=!!o}set showBorders(o){this._showBorders=!!o}static getLinkTarget(o){switch(o){case"blank":return tu.BLANK;case"none":return tu.NONE;case"self":return tu.SELF;case"parent":return tu.PARENT;case"top":return tu.TOP}return null}constructor(o,u){if(this.element=o,this.ngZone=u,oh())return;let p;const g=ve;p=window[`pdfWorkerSrc${g}`]||(window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdn.jsdelivr.net/npm/pdfjs-dist@${g}/legacy/build/pdf.worker.min.mjs`),nu(Fd,"workerSrc",p)}ngAfterViewChecked(){if(this.isInitialized)return;const o=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=o?!1===this.isVisible&&null!=o&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}ngOnChanges(o){if(!oh()&&this.isVisible)if("src"in o)this.loadPDF();else if(this._pdf){if(("renderText"in o||"showAll"in o)&&(this.setupViewer(),this.resetPdfDocument()),"page"in o){const{page:u}=o;if(u.currentValue===this._latestScrolledPage)return;this.pdfViewer.scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){(0,z.D)(this._pdf.getPage(this.pdfViewer.currentPageNumber)).pipe((0,Z.R)(this.destroy$)).subscribe({next:o=>{const u=this._rotation+o.rotate,p=o.getViewport({scale:this._zoom,rotation:u}).width*C.CSS_UNITS;let g=this._zoom,y=!0;if(!this._originalSize||this._fitToPage&&p>this.pdfViewerContainer.nativeElement.clientWidth){const E=o.getViewport({scale:1,rotation:u});g=this.getScale(E.width,E.height),y=!this._stickToPage}this.pdfViewer.pagesPromise?.then(()=>{this.pdfViewer.currentScale=g,y&&this.pdfViewer.scrollPageIntoView({pageNumber:o.pageNumber,ignoreDestinationZoom:!0})})}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._latestScrolledPage=0,this._pdf.destroy(),this._pdf=void 0),this.pdfViewer&&this.pdfViewer.setDocument(null),this.pdfLinkService&&this.pdfLinkService.setDocument(null,null),this.pdfFindController&&this.pdfFindController.setDocument(null)}getPDFLinkServiceConfig(){const o=C.getLinkTarget(this._externalLinkTarget);return o?{externalLinkTarget:o}:{}}initEventBus(){this.eventBus=function Qr(C,i){const o=new C.EventBus;return function hy(C,i){(0,fe.R)(C,"documentload").pipe((0,Z.R)(i)).subscribe(()=>{const o=document.createEvent("CustomEvent");o.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(o)}),(0,fe.R)(C,"pagerendered").pipe((0,Z.R)(i)).subscribe(({pageNumber:o,cssTransform:u,source:p})=>{const g=document.createEvent("CustomEvent");g.initCustomEvent("pagerendered",!0,!0,{pageNumber:o,cssTransform:u}),p.div.dispatchEvent(g)}),(0,fe.R)(C,"textlayerrendered").pipe((0,Z.R)(i)).subscribe(({pageNumber:o,source:u})=>{const p=document.createEvent("CustomEvent");p.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:o}),u.textLayerDiv?.dispatchEvent(p)}),(0,fe.R)(C,"pagechanging").pipe((0,Z.R)(i)).subscribe(({pageNumber:o,source:u})=>{const p=document.createEvent("UIEvents");p.initEvent("pagechanging",!0,!0),p.pageNumber=o,u.container.dispatchEvent(p)}),(0,fe.R)(C,"pagesinit").pipe((0,Z.R)(i)).subscribe(({source:o})=>{const u=document.createEvent("CustomEvent");u.initCustomEvent("pagesinit",!0,!0,null),o.container.dispatchEvent(u)}),(0,fe.R)(C,"pagesloaded").pipe((0,Z.R)(i)).subscribe(({pagesCount:o,source:u})=>{const p=document.createEvent("CustomEvent");p.initCustomEvent("pagesloaded",!0,!0,{pagesCount:o}),u.container.dispatchEvent(p)}),(0,fe.R)(C,"scalechange").pipe((0,Z.R)(i)).subscribe(({scale:o,presetValue:u,source:p})=>{const g=document.createEvent("UIEvents");g.initEvent("scalechange",!0,!0),g.scale=o,g.presetValue=u,p.container.dispatchEvent(g)}),(0,fe.R)(C,"updateviewarea").pipe((0,Z.R)(i)).subscribe(({location:o,source:u})=>{const p=document.createEvent("UIEvents");p.initEvent("updateviewarea",!0,!0),p.location=o,u.container.dispatchEvent(p)}),(0,fe.R)(C,"find").pipe((0,Z.R)(i)).subscribe(({source:o,type:u,query:p,phraseSearch:g,caseSensitive:y,highlightAll:E,findPrevious:T})=>{if(o===window)return;const x=document.createEvent("CustomEvent");x.initCustomEvent("find"+u,!0,!0,{query:p,phraseSearch:g,caseSensitive:y,highlightAll:E,findPrevious:T}),window.dispatchEvent(x)}),(0,fe.R)(C,"attachmentsloaded").pipe((0,Z.R)(i)).subscribe(({attachmentsCount:o,source:u})=>{const p=document.createEvent("CustomEvent");p.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:o}),u.container.dispatchEvent(p)}),(0,fe.R)(C,"sidebarviewchanged").pipe((0,Z.R)(i)).subscribe(({view:o,source:u})=>{const p=document.createEvent("CustomEvent");p.initCustomEvent("sidebarviewchanged",!0,!0,{view:o}),u.outerContainer.dispatchEvent(p)}),(0,fe.R)(C,"pagemode").pipe((0,Z.R)(i)).subscribe(({mode:o,source:u})=>{const p=document.createEvent("CustomEvent");p.initCustomEvent("pagemode",!0,!0,{mode:o}),u.pdfViewer.container.dispatchEvent(p)}),(0,fe.R)(C,"namedaction").pipe((0,Z.R)(i)).subscribe(({action:o,source:u})=>{const p=document.createEvent("CustomEvent");p.initCustomEvent("namedaction",!0,!0,{action:o}),u.pdfViewer.container.dispatchEvent(p)}),(0,fe.R)(C,"presentationmodechanged").pipe((0,Z.R)(i)).subscribe(({active:o,switchInProgress:u})=>{const p=document.createEvent("CustomEvent");p.initCustomEvent("presentationmodechanged",!0,!0,{active:o,switchInProgress:u}),window.dispatchEvent(p)}),(0,fe.R)(C,"outlineloaded").pipe((0,Z.R)(i)).subscribe(({outlineCount:o,source:u})=>{const p=document.createEvent("CustomEvent");p.initCustomEvent("outlineloaded",!0,!0,{outlineCount:o}),u.container.dispatchEvent(p)})}(o,i),o}(D,this.destroy$),(0,fe.R)(this.eventBus,"pagerendered").pipe((0,Z.R)(this.destroy$)).subscribe(o=>{this.pageRendered.emit(o)}),(0,fe.R)(this.eventBus,"pagesinit").pipe((0,Z.R)(this.destroy$)).subscribe(o=>{this.pageInitialized.emit(o)}),(0,fe.R)(this.eventBus,"pagechanging").pipe((0,Z.R)(this.destroy$)).subscribe(({pageNumber:o})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=o,this.pageChange.emit(o)},100)}),(0,fe.R)(this.eventBus,"textlayerrendered").pipe((0,Z.R)(this.destroy$)).subscribe(o=>{this.textLayerRendered.emit(o)})}initPDFServices(){this.pdfLinkService=new Gg({eventBus:this.eventBus,...this.getPDFLinkServiceConfig()}),this.pdfFindController=new Kf({eventBus:this.eventBus,linkService:this.pdfLinkService})}getPDFOptions(){return{eventBus:this.eventBus,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfLinkService,textLayerMode:this._renderText?this._renderTextMode:ah.DISABLED,findController:this.pdfFindController,l10n:new qf("en"),imageResourcesPath:this._imageResourcesPath,annotationEditorMode:PE.DISABLE}}setupViewer(){this.pdfViewer&&this.pdfViewer.setDocument(null),nu(v,"disableTextLayer",!this._renderText),this.initPDFServices(),this.pdfViewer=this._showAll?new sh(this.getPDFOptions()):new Zf(this.getPDFOptions()),this.pdfLinkService.setViewer(this.pdfViewer),this.pdfViewer._currentPageNumber=this._page}getValidPageNumber(o){return o<1?1:o>this._pdf.numPages?this._pdf.numPages:o}getDocumentParams(){const o=typeof this.src;if(!this._cMapsUrl)return this.src;const u={cMapUrl:this._cMapsUrl,cMapPacked:!0,enableXfa:!0,isEvalSupported:!1};return"string"===o?u.url=this.src:"object"===o&&(void 0!==this.src.byteLength?u.data=this.src:Object.assign(u,this.src)),u}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.setupViewer(),this.loadingTask=vg(this.getDocumentParams()),this.loadingTask.onProgress=u=>{this.onProgress.emit(u)};const o=this.src;(0,z.D)(this.loadingTask.promise).pipe((0,Z.R)(this.destroy$)).subscribe({next:u=>{this._pdf=u,this.lastLoaded=o,this.afterLoadComplete.emit(u),this.resetPdfDocument(),this.update()},error:u=>{this.lastLoaded=null,this.onError.emit(u)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page),(0!==this._rotation||this.pdfViewer.pagesRotation!==this._rotation)&&this.pdfViewer.firstPagePromise?.then(()=>this.pdfViewer.pagesRotation=this._rotation),this._stickToPage&&setTimeout(()=>{this.pdfViewer.currentPageNumber=this._page}),this.updateSize()}getScale(o,u){const p=this._showBorders?2*C.BORDER_WIDTH:0,g=this.pdfViewerContainer.nativeElement.clientWidth-p,y=this.pdfViewerContainer.nativeElement.clientHeight-p;if(0===y||0===u||0===g||0===o)return 1;let E=1;switch(this._zoomScale){case"page-fit":E=Math.min(y/u,g/o);break;case"page-height":E=y/u;break;default:E=g/o}return this._zoom*E/C.CSS_UNITS}resetPdfDocument(){this.pdfLinkService.setDocument(this._pdf,null),this.pdfFindController.setDocument(this._pdf),this.pdfViewer.setDocument(this._pdf)}initialize(){oh()||!this.isVisible||(this.isInitialized=!0,this.initEventBus(),this.setupViewer())}setupResizeListener(){oh()||this.ngZone.runOutsideAngular(()=>{(0,fe.R)(window,"resize").pipe((0,ce.b)(100),(0,ue.h)(()=>this._canAutoResize&&!!this._pdf),(0,Z.R)(this.destroy$)).subscribe(()=>{this.updateSize()})})}static \u0275fac=function(u){return new(u||C)(re.Y36(re.SBq),re.Y36(re.R0b))};static \u0275cmp=re.Xpm({type:C,selectors:[["pdf-viewer"]],viewQuery:function(u,p){if(1&u&&re.Gf(Xf,5),2&u){let g;re.iGM(g=re.CRH())&&(p.pdfViewerContainer=g.first)}},inputs:{src:"src",cMapsUrl:["c-maps-url","cMapsUrl"],page:"page",renderText:["render-text","renderText"],renderTextMode:["render-text-mode","renderTextMode"],originalSize:["original-size","originalSize"],showAll:["show-all","showAll"],stickToPage:["stick-to-page","stickToPage"],zoom:"zoom",zoomScale:["zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:["external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:["fit-to-page","fitToPage"],showBorders:["show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[re.TTD],decls:3,vars:0,consts:[[1,"ng2-pdf-viewer-container"],["pdfViewerContainer",""],[1,"pdfViewer"]],template:function(u,p){1&u&&(re.TgZ(0,"div",0,1),re._UZ(2,"div",2),re.qZA())},styles:['.ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--viewer-container-height: 0;--annotation-unfocused-field-background: url("data:image/svg+xml;charset=UTF-8,<svg width=\'1px\' height=\'1px\' xmlns=\'http://www.w3.org/2000/svg\'><rect width=\'100%\' height=\'100%\' style=\'fill:rgba(0, 54, 255, 0.13);\'/></svg>");--xfa-unfocused-field-background: var( --annotation-unfocused-field-background );--page-border-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=) 9 9 repeat;--scale-factor: 1;--focus-outline: solid 2px blue;--hover-outline: dashed 2px blue;--freetext-line-height: 1.35;--freetext-padding: 2px;--editorInk-editing-cursor: pointer}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 8px auto -1px;--page-border: 1px solid CanvasText;--page-border-image: none;--spreadHorizontalWrapped-margin-LR: 3.5px}}@media (forced-colors: active){[_nghost-%COMP%]    {--focus-outline: solid 3px ButtonText;--hover-outline: dashed 3px ButtonText}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;inset:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none;forced-color-adjust:none;transform-origin:0 0}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:rgb(0,0,255)}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;inset:100% 0 0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}@media (forced-colors: active){[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:required, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:required, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:required{outline:1.5px solid selectedItem}}[_nghost-%COMP%]     .annotationLayer{position:absolute;top:0;left:0;pointer-events:none;transform-origin:0 0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial;pointer-events:auto;box-sizing:border-box;transform-origin:0 0}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:rgb(255,255,0);box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:var(--annotation-unfocused-field-background);border:1px solid transparent;box-sizing:border-box;font:calc(9px * var(--scale-factor)) sans-serif;height:100%;margin:0;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:required, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:required, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:required{outline:1.5px solid red}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid rgb(0,0,0)}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:CanvasText;content:"";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;appearance:none}[_nghost-%COMP%]     .annotationLayer .popupTriggerArea{height:100%;width:100%}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;font-size:calc(9px * var(--scale-factor));width:100%;min-width:calc(180px * var(--scale-factor));pointer-events:none}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;max-width:calc(180px * var(--scale-factor));background-color:#ff9;box-shadow:0 calc(2px * var(--scale-factor)) calc(5px * var(--scale-factor)) #888;border-radius:calc(2px * var(--scale-factor));padding:calc(6px * var(--scale-factor));margin-left:calc(5px * var(--scale-factor));cursor:pointer;font:message-box;white-space:normal;word-wrap:break-word;pointer-events:auto}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:calc(9px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:calc(5px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid rgb(51,51,51);margin-top:calc(2px * var(--scale-factor));padding-top:calc(2px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap;font-size:calc(9px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .annotationLayer section svg{position:absolute;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .annotationTextContent{position:absolute;width:100%;height:100%;opacity:0;color:transparent;-webkit-user-select:none;user-select:none;pointer-events:none}[_nghost-%COMP%]     .annotationLayer .annotationTextContent span{width:100%;display:inline-block}@media (forced-colors: active){[_nghost-%COMP%]     .xfaLayer *:required{outline:1.5px solid selectedItem}}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:rgb(0,0,255)}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer *:required{outline:1.5px solid red}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:var(--xfa-unfocused-field-background)}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;appearance:none;text-indent:1px;text-overflow:""}}[_nghost-%COMP%]     [data-editor-rotation="90"]{transform:rotate(90deg)}[_nghost-%COMP%]     [data-editor-rotation="180"]{transform:rotate(180deg)}[_nghost-%COMP%]     [data-editor-rotation="270"]{transform:rotate(270deg)}[_nghost-%COMP%]     .annotationEditorLayer{background:transparent;position:absolute;top:0;left:0;font-size:calc(100px * var(--scale-factor));transform-origin:0 0}[_nghost-%COMP%]     .annotationEditorLayer .selectedEditor{outline:var(--focus-outline);resize:none}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor{position:absolute;background:transparent;border-radius:3px;padding:calc(var(--freetext-padding) * var(--scale-factor));resize:none;width:auto;height:auto;z-index:1;transform-origin:0 0;touch-action:none}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal{background:transparent;border:none;top:0;left:0;overflow:visible;white-space:nowrap;resize:none;font:10px sans-serif;line-height:var(--freetext-line-height)}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .overlay{position:absolute;display:none;background:transparent;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .overlay.enabled{display:block}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal:empty:before{content:attr(default-content);color:gray}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal:focus{outline:none}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.disabled{resize:none}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.disabled.selectedEditor{resize:horizontal}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor:hover:not(.selectedEditor), [_nghost-%COMP%]     .annotationEditorLayer .inkEditor:hover:not(.selectedEditor){outline:var(--hover-outline)}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor{position:absolute;background:transparent;border-radius:3px;overflow:auto;width:100%;height:100%;z-index:1;transform-origin:0 0;cursor:auto}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.editing{resize:none;cursor:var(--editorInk-editing-cursor),pointer}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor .inkEditorCanvas{position:absolute;top:0;left:0;width:100%;height:100%;touch-action:none}[_nghost-%COMP%]     [data-main-rotation="90"]{transform:rotate(90deg) translateY(-100%)}[_nghost-%COMP%]     [data-main-rotation="180"]{transform:rotate(180deg) translate(-100%,-100%)}[_nghost-%COMP%]     [data-main-rotation="270"]{transform:rotate(270deg) translate(-100%)}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);border-image:var(--page-border-image);background-clip:content-box;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0;height:var(--viewer-container-height)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;inset:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}']})}return C})(),fy=(()=>{class C{static \u0275fac=function(u){return new(u||C)};static \u0275mod=re.oAB({type:C});static \u0275inj=re.cJS({})}return C})()},6193:(Ht,Ue,H)=>{H.d(Ue,{RJ:()=>ke,Sn:()=>Xe,q:()=>We});var v=H(9212),D=H(6814);const re=Ie=>({"full-screen":Ie}),fe=(Ie,je,tt,Ge)=>({"border-top-color":Ie,"border-right-color":je,"border-bottom-color":tt,"border-left-color":Ge});function G(Ie,je){if(1&Ie&&v._UZ(0,"div",14),2&Ie){const tt=v.oxw(2);v.Q6J("ngClass",v.VKq(2,re,!0===tt.config.fullScreenBackdrop))("ngStyle",v.l5B(4,fe,tt.config.secondaryColour,tt.config.secondaryColour,tt.config.secondaryColour,tt.config.primaryColour))}}const z=Ie=>({"background-color":Ie});function Z(Ie,je){if(1&Ie&&(v.TgZ(0,"div",15),v._UZ(1,"div",16)(2,"div",17)(3,"div",18)(4,"div",19)(5,"div",20)(6,"div",21)(7,"div",22)(8,"div",23)(9,"div",24),v.qZA()),2&Ie){const tt=v.oxw(2);v.Q6J("ngClass",v.VKq(10,re,!0===tt.config.fullScreenBackdrop)),v.xp6(1),v.Q6J("ngStyle",v.VKq(12,z,tt.config.primaryColour)),v.xp6(1),v.Q6J("ngStyle",v.VKq(14,z,tt.config.primaryColour)),v.xp6(1),v.Q6J("ngStyle",v.VKq(16,z,tt.config.primaryColour)),v.xp6(1),v.Q6J("ngStyle",v.VKq(18,z,tt.config.primaryColour)),v.xp6(1),v.Q6J("ngStyle",v.VKq(20,z,tt.config.primaryColour)),v.xp6(1),v.Q6J("ngStyle",v.VKq(22,z,tt.config.primaryColour)),v.xp6(1),v.Q6J("ngStyle",v.VKq(24,z,tt.config.primaryColour)),v.xp6(1),v.Q6J("ngStyle",v.VKq(26,z,tt.config.primaryColour)),v.xp6(1),v.Q6J("ngStyle",v.VKq(28,z,tt.config.primaryColour))}}function ce(Ie,je){if(1&Ie&&v._UZ(0,"div",25),2&Ie){const tt=v.oxw(2);v.Q6J("ngStyle",v.VKq(2,z,tt.config.primaryColour))("ngClass",v.VKq(4,re,!0===tt.config.fullScreenBackdrop))}}function ue(Ie,je){if(1&Ie&&(v.TgZ(0,"div",26),v._UZ(1,"div",27)(2,"div",28)(3,"div",29)(4,"div",30)(5,"div",31),v.qZA()),2&Ie){const tt=v.oxw(2);v.Q6J("ngClass",v.VKq(6,re,!0===tt.config.fullScreenBackdrop)),v.xp6(1),v.Q6J("ngStyle",v.VKq(8,z,tt.config.primaryColour)),v.xp6(1),v.Q6J("ngStyle",v.VKq(10,z,tt.config.primaryColour)),v.xp6(1),v.Q6J("ngStyle",v.VKq(12,z,tt.config.primaryColour)),v.xp6(1),v.Q6J("ngStyle",v.VKq(14,z,tt.config.primaryColour)),v.xp6(1),v.Q6J("ngStyle",v.VKq(16,z,tt.config.primaryColour))}}function ae(Ie,je){if(1&Ie&&(v.TgZ(0,"div",32),v._UZ(1,"div",33)(2,"div",34),v.qZA()),2&Ie){const tt=v.oxw(2);v.Q6J("ngClass",v.VKq(3,re,!0===tt.config.fullScreenBackdrop)),v.xp6(1),v.Q6J("ngStyle",v.VKq(5,z,tt.config.primaryColour)),v.xp6(1),v.Q6J("ngStyle",v.VKq(7,z,tt.config.secondaryColour))}}function Ee(Ie,je){if(1&Ie&&(v.TgZ(0,"div",35),v._UZ(1,"div",36)(2,"div",37),v.qZA()),2&Ie){const tt=v.oxw(2);v.Q6J("ngClass",v.VKq(3,re,!0===tt.config.fullScreenBackdrop)),v.xp6(1),v.Q6J("ngStyle",v.VKq(5,z,tt.config.primaryColour)),v.xp6(1),v.Q6J("ngStyle",v.VKq(7,z,tt.config.secondaryColour))}}function be(Ie,je){if(1&Ie&&v._UZ(0,"div",38),2&Ie){const tt=v.oxw(2);v.Q6J("ngClass",v.VKq(2,re,!0===tt.config.fullScreenBackdrop))("ngStyle",v.VKq(4,z,tt.config.primaryColour))}}function De(Ie,je){if(1&Ie&&(v.TgZ(0,"div",39),v._UZ(1,"div",40)(2,"div",41),v.qZA()),2&Ie){const tt=v.oxw(2);v.Q6J("ngClass",v.VKq(3,re,!0===tt.config.fullScreenBackdrop)),v.xp6(1),v.Q6J("ngStyle",v.VKq(5,z,tt.config.primaryColour)),v.xp6(1),v.Q6J("ngStyle",v.VKq(7,z,tt.config.secondaryColour))}}const $e=Ie=>({color:Ie});function xe(Ie,je){if(1&Ie&&v._UZ(0,"div",42),2&Ie){const tt=v.oxw(2);v.Q6J("ngClass",v.VKq(2,re,!0===tt.config.fullScreenBackdrop))("ngStyle",v.VKq(4,$e,tt.config.primaryColour))}}function wt(Ie,je){if(1&Ie&&v._UZ(0,"div",43),2&Ie){const tt=v.oxw(2);v.Q6J("ngClass",v.VKq(1,re,!0===tt.config.fullScreenBackdrop))}}function gt(Ie,je){if(1&Ie&&(v.TgZ(0,"div",44),v._UZ(1,"div",45)(2,"div",46)(3,"div",47),v.qZA()),2&Ie){const tt=v.oxw(2);v.Q6J("ngClass",v.VKq(4,re,!0===tt.config.fullScreenBackdrop)),v.xp6(1),v.Q6J("ngStyle",v.VKq(6,z,tt.config.primaryColour)),v.xp6(1),v.Q6J("ngStyle",v.VKq(8,z,tt.config.secondaryColour)),v.xp6(1),v.Q6J("ngStyle",v.VKq(10,z,tt.config.tertiaryColour))}}function $t(Ie,je){1&Ie&&v.GkF(0)}function pn(Ie,je){if(1&Ie&&(v.ynx(0),v.YNc(1,$t,1,0,"ng-container",48),v.BQk()),2&Ie){const tt=v.oxw(2);v.xp6(1),v.Q6J("ngTemplateOutlet",tt.template)}}const sn=(Ie,je)=>({"border-radius":Ie,"background-color":je});function Ot(Ie,je){if(1&Ie&&(v.TgZ(0,"div"),v._UZ(1,"div",1),v.TgZ(2,"div",2),v.YNc(3,G,1,9,"div",3)(4,Z,10,30,"div",4)(5,ce,1,6,"div",5)(6,ue,6,18,"div",6)(7,ae,3,9,"div",7)(8,Ee,3,9,"div",8)(9,be,1,6,"div",9)(10,De,3,9,"div",10)(11,xe,1,6,"div",11)(12,wt,1,3,"div",12)(13,gt,4,12,"div",13)(14,pn,2,1,"ng-container",0),v.qZA()()),2&Ie){const tt=v.oxw();v.xp6(1),v.Q6J("ngClass",v.VKq(14,re,!0===tt.config.fullScreenBackdrop))("ngStyle",v.WLB(16,sn,tt.config.backdropBorderRadius,tt.config.backdropBackgroundColour)),v.xp6(1),v.Q6J("ngSwitch",tt.config.animationType),v.xp6(1),v.Q6J("ngSwitchCase",tt.ngxLoadingAnimationTypes.circle),v.xp6(1),v.Q6J("ngSwitchCase",tt.ngxLoadingAnimationTypes.cubeGrid),v.xp6(1),v.Q6J("ngSwitchCase",tt.ngxLoadingAnimationTypes.rotatingPlane),v.xp6(1),v.Q6J("ngSwitchCase",tt.ngxLoadingAnimationTypes.rectangleBounce),v.xp6(1),v.Q6J("ngSwitchCase",tt.ngxLoadingAnimationTypes.wanderingCubes),v.xp6(1),v.Q6J("ngSwitchCase",tt.ngxLoadingAnimationTypes.doubleBounce),v.xp6(1),v.Q6J("ngSwitchCase",tt.ngxLoadingAnimationTypes.pulse),v.xp6(1),v.Q6J("ngSwitchCase",tt.ngxLoadingAnimationTypes.chasingDots),v.xp6(1),v.Q6J("ngSwitchCase",tt.ngxLoadingAnimationTypes.circleSwish),v.xp6(1),v.Q6J("ngSwitchCase",tt.ngxLoadingAnimationTypes.none),v.xp6(2),v.Q6J("ngIf",tt.template)}}class Ve{constructor(je={}){this.backdropBorderRadius=je.backdropBorderRadius,this.backdropBackgroundColour=je.backdropBackgroundColour,this.fullScreenBackdrop=je.fullScreenBackdrop,this.animationType=je.animationType,this.primaryColour=je.primaryColour,this.secondaryColour=je.secondaryColour,this.tertiaryColour=je.tertiaryColour}}const Xe={chasingDots:"chasing-dots",circle:"sk-circle",circleSwish:"circleSwish",cubeGrid:"sk-cube-grid",doubleBounce:"double-bounce",none:"none",pulse:"pulse",rectangleBounce:"rectangle-bounce",rotatingPlane:"rotating-plane",threeBounce:"three-bounce",wanderingCubes:"wandering-cubes"};let pe=(()=>{class Ie{constructor(tt){this.config=tt,this.loadingConfig=this.config||new Ve}static#e=this.\u0275fac=function(Ge){return new(Ge||Ie)(v.LFG("loadingConfig",8))};static#t=this.\u0275prov=v.Yz7({token:Ie,factory:Ie.\u0275fac,providedIn:"root"})}return Ie})(),ke=(()=>{class Ie{constructor(tt){this.LoadingService=tt,this.show=!1,this.config=new Ve,this.defaultConfig={animationType:Xe.threeBounce,backdropBackgroundColour:"rgba(0, 0, 0, 0.3)",backdropBorderRadius:"0px",fullScreenBackdrop:!1,primaryColour:"#ffffff",secondaryColour:"#ffffff",tertiaryColour:"#ffffff"},this.ngxLoadingAnimationTypes=Xe}ngOnInit(){this.setupConfig()}setupConfig(){for(const tt in this.defaultConfig)null==this.config[tt]&&(this.config[tt]=null!=this.LoadingService.loadingConfig[tt]?this.LoadingService.loadingConfig[tt]:this.defaultConfig[tt])}static#e=this.\u0275fac=function(Ge){return new(Ge||Ie)(v.Y36(pe))};static#t=this.\u0275cmp=v.Xpm({type:Ie,selectors:[["ngx-loading"]],inputs:{show:"show",config:"config",template:"template"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"backdrop",3,"ngClass","ngStyle"],[3,"ngSwitch"],["class","spinner-circle",3,"ngClass","ngStyle",4,"ngSwitchCase"],["class","sk-cube-grid",3,"ngClass",4,"ngSwitchCase"],["class","spinner-sk-rotateplane",3,"ngStyle","ngClass",4,"ngSwitchCase"],["class","spinner-rectangle-bounce",3,"ngClass",4,"ngSwitchCase"],["class","spinner-wandering-cubes",3,"ngClass",4,"ngSwitchCase"],["class","spinner-double-bounce",3,"ngClass",4,"ngSwitchCase"],["class","spinner-pulse",3,"ngClass","ngStyle",4,"ngSwitchCase"],["class","spinner-chasing-dots",3,"ngClass",4,"ngSwitchCase"],["class","spinner-circle-swish",3,"ngClass","ngStyle",4,"ngSwitchCase"],[3,"ngClass",4,"ngSwitchCase"],["class","spinner-three-bounce",3,"ngClass",4,"ngSwitchDefault"],[1,"spinner-circle",3,"ngClass","ngStyle"],[1,"sk-cube-grid",3,"ngClass"],[1,"sk-cube","sk-cube1",3,"ngStyle"],[1,"sk-cube","sk-cube2",3,"ngStyle"],[1,"sk-cube","sk-cube3",3,"ngStyle"],[1,"sk-cube","sk-cube4",3,"ngStyle"],[1,"sk-cube","sk-cube5",3,"ngStyle"],[1,"sk-cube","sk-cube6",3,"ngStyle"],[1,"sk-cube","sk-cube7",3,"ngStyle"],[1,"sk-cube","sk-cube8",3,"ngStyle"],[1,"sk-cube","sk-cube9",3,"ngStyle"],[1,"spinner-sk-rotateplane",3,"ngStyle","ngClass"],[1,"spinner-rectangle-bounce",3,"ngClass"],[1,"rect1",3,"ngStyle"],[1,"rect2",3,"ngStyle"],[1,"rect3",3,"ngStyle"],[1,"rect4",3,"ngStyle"],[1,"rect5",3,"ngStyle"],[1,"spinner-wandering-cubes",3,"ngClass"],[1,"cube1",3,"ngStyle"],[1,"cube2",3,"ngStyle"],[1,"spinner-double-bounce",3,"ngClass"],[1,"double-bounce1",3,"ngStyle"],[1,"double-bounce2",3,"ngStyle"],[1,"spinner-pulse",3,"ngClass","ngStyle"],[1,"spinner-chasing-dots",3,"ngClass"],[1,"dot1",3,"ngStyle"],[1,"dot2",3,"ngStyle"],[1,"spinner-circle-swish",3,"ngClass","ngStyle"],[3,"ngClass"],[1,"spinner-three-bounce",3,"ngClass"],[1,"bounce1",3,"ngStyle"],[1,"bounce2",3,"ngStyle"],[1,"bounce3",3,"ngStyle"],[4,"ngTemplateOutlet"]],template:function(Ge,ln){1&Ge&&v.YNc(0,Ot,15,19,"div",0),2&Ge&&v.Q6J("ngIf",ln.show)},dependencies:[D.mk,D.O5,D.tP,D.PC,D.RF,D.n9,D.ED],styles:['.backdrop[_ngcontent-%COMP%]{z-index:1999;position:absolute;inset:0;background-color:#0000004d}.spinner-circle[_ngcontent-%COMP%], .spinner-circle[_ngcontent-%COMP%]:after{border-radius:50%;width:10em;height:10em}.spinner-circle[_ngcontent-%COMP%]{font-size:6px;border-top:1.1em solid rgba(255,255,255,.2);border-right:1.1em solid rgba(255,255,255,.2);border-bottom:1.1em solid rgba(255,255,255,.2);border-left:1.1em solid #ffffff;position:absolute;inset:0;margin:auto;z-index:2000;-webkit-transform:translateZ(0);-ms-transform:translateZ(0);transform:translateZ(0);-webkit-animation:_ngcontent-%COMP%_load8 1.1s infinite linear;animation:_ngcontent-%COMP%_load8 1.1s infinite linear}@-webkit-keyframes _ngcontent-%COMP%_load8{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_load8{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.spinner-circle-swish[_ngcontent-%COMP%]{font-size:60px;overflow:hidden;width:1em;height:1em;border-radius:50%;position:absolute;inset:0;margin:auto;z-index:2000;-webkit-transform:translateZ(0);-ms-transform:translateZ(0);transform:translateZ(0);-webkit-animation:_ngcontent-%COMP%_load6 1.7s infinite ease;animation:_ngcontent-%COMP%_load6 1.7s infinite ease}@-webkit-keyframes _ngcontent-%COMP%_load6{0%{box-shadow:0 -.83em 0 -.4em,0 -.83em 0 -.42em,0 -.83em 0 -.44em,0 -.83em 0 -.46em,0 -.83em 0 -.477em;-webkit-transform:rotate(0deg)}5%,95%{box-shadow:0 -.83em 0 -.4em,0 -.83em 0 -.42em,0 -.83em 0 -.44em,0 -.83em 0 -.46em,0 -.83em 0 -.477em}10%,59%{box-shadow:0 -.83em 0 -.4em,-.087em -.825em 0 -.42em,-.173em -.812em 0 -.44em,-.256em -.789em 0 -.46em,-.297em -.775em 0 -.477em}20%{box-shadow:0 -.83em 0 -.4em,-.338em -.758em 0 -.42em,-.555em -.617em 0 -.44em,-.671em -.488em 0 -.46em,-.749em -.34em 0 -.477em}38%{box-shadow:0 -.83em 0 -.4em,-.377em -.74em 0 -.42em,-.645em -.522em 0 -.44em,-.775em -.297em 0 -.46em,-.82em -.09em 0 -.477em}to{box-shadow:0 -.83em 0 -.4em,0 -.83em 0 -.42em,0 -.83em 0 -.44em,0 -.83em 0 -.46em,0 -.83em 0 -.477em;-webkit-transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_load6{0%{box-shadow:0 -.83em 0 -.4em,0 -.83em 0 -.42em,0 -.83em 0 -.44em,0 -.83em 0 -.46em,0 -.83em 0 -.477em;transform:rotate(0)}5%,95%{box-shadow:0 -.83em 0 -.4em,0 -.83em 0 -.42em,0 -.83em 0 -.44em,0 -.83em 0 -.46em,0 -.83em 0 -.477em}10%,59%{box-shadow:0 -.83em 0 -.4em,-.087em -.825em 0 -.42em,-.173em -.812em 0 -.44em,-.256em -.789em 0 -.46em,-.297em -.775em 0 -.477em}20%{box-shadow:0 -.83em 0 -.4em,-.338em -.758em 0 -.42em,-.555em -.617em 0 -.44em,-.671em -.488em 0 -.46em,-.749em -.34em 0 -.477em}38%{box-shadow:0 -.83em 0 -.4em,-.377em -.74em 0 -.42em,-.645em -.522em 0 -.44em,-.775em -.297em 0 -.46em,-.82em -.09em 0 -.477em}to{box-shadow:0 -.83em 0 -.4em,0 -.83em 0 -.42em,0 -.83em 0 -.44em,0 -.83em 0 -.46em,0 -.83em 0 -.477em;transform:rotate(360deg)}}.sk-cube-grid[_ngcontent-%COMP%]{width:40px;height:40px;position:absolute;inset:0;margin:auto;z-index:2000}.sk-cube-grid[_ngcontent-%COMP%]   .sk-cube[_ngcontent-%COMP%]{width:33%;height:33%;background-color:#333;float:left;-webkit-animation:_ngcontent-%COMP%_sk-cubeGridScaleDelay 1.3s infinite ease-in-out;animation:_ngcontent-%COMP%_sk-cubeGridScaleDelay 1.3s infinite ease-in-out}.sk-cube-grid[_ngcontent-%COMP%]   .sk-cube1[_ngcontent-%COMP%]{-webkit-animation-delay:.2s;animation-delay:.2s}.sk-cube-grid[_ngcontent-%COMP%]   .sk-cube2[_ngcontent-%COMP%]{-webkit-animation-delay:.3s;animation-delay:.3s}.sk-cube-grid[_ngcontent-%COMP%]   .sk-cube3[_ngcontent-%COMP%]{-webkit-animation-delay:.4s;animation-delay:.4s}.sk-cube-grid[_ngcontent-%COMP%]   .sk-cube4[_ngcontent-%COMP%]{-webkit-animation-delay:.1s;animation-delay:.1s}.sk-cube-grid[_ngcontent-%COMP%]   .sk-cube5[_ngcontent-%COMP%]{-webkit-animation-delay:.2s;animation-delay:.2s}.sk-cube-grid[_ngcontent-%COMP%]   .sk-cube6[_ngcontent-%COMP%]{-webkit-animation-delay:.3s;animation-delay:.3s}.sk-cube-grid[_ngcontent-%COMP%]   .sk-cube7[_ngcontent-%COMP%]{-webkit-animation-delay:0s;animation-delay:0s}.sk-cube-grid[_ngcontent-%COMP%]   .sk-cube8[_ngcontent-%COMP%]{-webkit-animation-delay:.1s;animation-delay:.1s}.sk-cube-grid[_ngcontent-%COMP%]   .sk-cube9[_ngcontent-%COMP%]{-webkit-animation-delay:.2s;animation-delay:.2s}@-webkit-keyframes _ngcontent-%COMP%_sk-cubeGridScaleDelay{0%,70%,to{-webkit-transform:scale3D(1,1,1);transform:scaleZ(1)}35%{-webkit-transform:scale3D(0,0,1);transform:scale3D(0,0,1)}}@keyframes _ngcontent-%COMP%_sk-cubeGridScaleDelay{0%,70%,to{-webkit-transform:scale3D(1,1,1);transform:scaleZ(1)}35%{-webkit-transform:scale3D(0,0,1);transform:scale3D(0,0,1)}}.spinner-double-bounce[_ngcontent-%COMP%]{width:40px;height:40px;position:absolute;inset:0;margin:auto;z-index:2000}.double-bounce1[_ngcontent-%COMP%], .double-bounce2[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;background-color:#333;opacity:.6;position:absolute;top:0;left:0;-webkit-animation:_ngcontent-%COMP%_sk-bounce 2s infinite ease-in-out;animation:_ngcontent-%COMP%_sk-bounce 2s infinite ease-in-out}.double-bounce2[_ngcontent-%COMP%]{-webkit-animation-delay:-1s;animation-delay:-1s}.spinner-pulse[_ngcontent-%COMP%]{width:40px;height:40px;background-color:#333;position:absolute;inset:0;margin:auto;z-index:2000;border-radius:100%;-webkit-animation:_ngcontent-%COMP%_sk-scaleout 1s infinite ease-in-out;animation:_ngcontent-%COMP%_sk-scaleout 1s infinite ease-in-out}@-webkit-keyframes _ngcontent-%COMP%_sk-scaleout{0%{-webkit-transform:scale(0)}to{-webkit-transform:scale(1);opacity:0}}@keyframes _ngcontent-%COMP%_sk-scaleout{0%{-webkit-transform:scale(0);transform:scale(0)}to{-webkit-transform:scale(1);transform:scale(1);opacity:0}}.spinner-three-bounce[_ngcontent-%COMP%]{width:70px;text-align:center;position:absolute;inset:0;height:20px;margin:auto;z-index:2000}.spinner-three-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:18px;height:18px;background-color:#fff;border-radius:100%;display:inline-block;-webkit-animation:_ngcontent-%COMP%_sk-bouncedelay 1.4s infinite ease-in-out both;animation:_ngcontent-%COMP%_sk-bouncedelay 1.4s infinite ease-in-out both}.spinner-three-bounce[_ngcontent-%COMP%]   .bounce1[_ngcontent-%COMP%]{-webkit-animation-delay:-.32s;animation-delay:-.32s}.spinner-three-bounce[_ngcontent-%COMP%]   .bounce2[_ngcontent-%COMP%]{-webkit-animation-delay:-.16s;animation-delay:-.16s}@-webkit-keyframes _ngcontent-%COMP%_sk-bouncedelay{0%,80%,to{-webkit-transform:scale(0)}40%{-webkit-transform:scale(1)}}@keyframes _ngcontent-%COMP%_sk-bouncedelay{0%,80%,to{-webkit-transform:scale(0);transform:scale(0)}40%{-webkit-transform:scale(1);transform:scale(1)}}.spinner-sk-rotateplane[_ngcontent-%COMP%]{width:40px;height:40px;background-color:#fff;text-align:center;position:absolute;inset:0;margin:auto;z-index:2000;-webkit-animation:_ngcontent-%COMP%_sk-rotateplane 1.2s infinite ease-in-out;animation:_ngcontent-%COMP%_sk-rotateplane 1.2s infinite ease-in-out}@-webkit-keyframes _ngcontent-%COMP%_sk-rotateplane{0%{-webkit-transform:perspective(120px)}50%{-webkit-transform:perspective(120px) rotateY(180deg)}to{-webkit-transform:perspective(120px) rotateY(180deg) rotateX(180deg)}}@keyframes _ngcontent-%COMP%_sk-rotateplane{0%{transform:perspective(120px) rotateX(0) rotateY(0);-webkit-transform:perspective(120px) rotateX(0deg) rotateY(0deg)}50%{transform:perspective(120px) rotateX(-180.1deg) rotateY(0);-webkit-transform:perspective(120px) rotateX(-180.1deg) rotateY(0deg)}to{transform:perspective(120px) rotateX(-180deg) rotateY(-179.9deg);-webkit-transform:perspective(120px) rotateX(-180deg) rotateY(-179.9deg)}}.spinner-rectangle-bounce[_ngcontent-%COMP%]{width:50px;height:40px;font-size:10px;text-align:center;position:absolute;inset:0;margin:auto;z-index:2000}.spinner-rectangle-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:#fff;height:100%;width:6px;display:inline-block;-webkit-animation:_ngcontent-%COMP%_sk-stretchdelay 1.2s infinite ease-in-out;animation:_ngcontent-%COMP%_sk-stretchdelay 1.2s infinite ease-in-out}.spinner-rectangle-bounce[_ngcontent-%COMP%]   .rect2[_ngcontent-%COMP%]{-webkit-animation-delay:-1.1s;animation-delay:-1.1s}.spinner-rectangle-bounce[_ngcontent-%COMP%]   .rect3[_ngcontent-%COMP%]{-webkit-animation-delay:-1s;animation-delay:-1s}.spinner-rectangle-bounce[_ngcontent-%COMP%]   .rect4[_ngcontent-%COMP%]{-webkit-animation-delay:-.9s;animation-delay:-.9s}.spinner-rectangle-bounce[_ngcontent-%COMP%]   .rect5[_ngcontent-%COMP%]{-webkit-animation-delay:-.8s;animation-delay:-.8s}@-webkit-keyframes _ngcontent-%COMP%_sk-stretchdelay{0%,40%,to{-webkit-transform:scaleY(.4)}20%{-webkit-transform:scaleY(1)}}@keyframes _ngcontent-%COMP%_sk-stretchdelay{0%,40%,to{transform:scaleY(.4);-webkit-transform:scaleY(.4)}20%{transform:scaleY(1);-webkit-transform:scaleY(1)}}.spinner-wandering-cubes[_ngcontent-%COMP%]{width:60px;height:58px;font-size:10px;text-align:center;position:absolute;inset:0;margin:auto;z-index:2000}.cube1[_ngcontent-%COMP%], .cube2[_ngcontent-%COMP%]{background-color:#fff;width:15px;height:15px;position:absolute;top:0;left:0;-webkit-animation:_ngcontent-%COMP%_sk-cubemove 1.8s infinite ease-in-out;animation:_ngcontent-%COMP%_sk-cubemove 1.8s infinite ease-in-out}.cube2[_ngcontent-%COMP%]{-webkit-animation-delay:-.9s;animation-delay:-.9s}@-webkit-keyframes _ngcontent-%COMP%_sk-cubemove{25%{-webkit-transform:translateX(42px) rotate(-90deg) scale(.5)}50%{-webkit-transform:translateX(42px) translateY(42px) rotate(-180deg)}75%{-webkit-transform:translateX(0px) translateY(42px) rotate(-270deg) scale(.5)}to{-webkit-transform:rotate(-360deg)}}@keyframes _ngcontent-%COMP%_sk-cubemove{25%{transform:translate(42px) rotate(-90deg) scale(.5);-webkit-transform:translateX(42px) rotate(-90deg) scale(.5)}50%{transform:translate(42px) translateY(42px) rotate(-179deg);-webkit-transform:translateX(42px) translateY(42px) rotate(-179deg)}50.1%{transform:translate(42px) translateY(42px) rotate(-180deg);-webkit-transform:translateX(42px) translateY(42px) rotate(-180deg)}75%{transform:translate(0) translateY(42px) rotate(-270deg) scale(.5);-webkit-transform:translateX(0px) translateY(42px) rotate(-270deg) scale(.5)}to{transform:rotate(-360deg);-webkit-transform:rotate(-360deg)}}.sk-circle[_ngcontent-%COMP%]{width:40px;height:40px;position:absolute;inset:0;margin:auto;z-index:2000}.sk-circle[_ngcontent-%COMP%]   .sk-child[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;left:0;top:0}.sk-circle[_ngcontent-%COMP%]   .sk-child[_ngcontent-%COMP%]:before{content:"";display:block;margin:0 auto;width:15%;height:15%;background-color:#333;border-radius:100%;-webkit-animation:_ngcontent-%COMP%_sk-circleBounceDelay 1.2s infinite ease-in-out both;animation:_ngcontent-%COMP%_sk-circleBounceDelay 1.2s infinite ease-in-out both}.sk-circle[_ngcontent-%COMP%]   .sk-circle2[_ngcontent-%COMP%]{-webkit-transform:rotate(30deg);-ms-transform:rotate(30deg);transform:rotate(30deg)}.sk-circle[_ngcontent-%COMP%]   .sk-circle3[_ngcontent-%COMP%]{-webkit-transform:rotate(60deg);-ms-transform:rotate(60deg);transform:rotate(60deg)}.sk-circle[_ngcontent-%COMP%]   .sk-circle4[_ngcontent-%COMP%]{-webkit-transform:rotate(90deg);-ms-transform:rotate(90deg);transform:rotate(90deg)}.sk-circle[_ngcontent-%COMP%]   .sk-circle5[_ngcontent-%COMP%]{-webkit-transform:rotate(120deg);-ms-transform:rotate(120deg);transform:rotate(120deg)}.sk-circle[_ngcontent-%COMP%]   .sk-circle6[_ngcontent-%COMP%]{-webkit-transform:rotate(150deg);-ms-transform:rotate(150deg);transform:rotate(150deg)}.sk-circle[_ngcontent-%COMP%]   .sk-circle7[_ngcontent-%COMP%]{-webkit-transform:rotate(180deg);-ms-transform:rotate(180deg);transform:rotate(180deg)}.sk-circle[_ngcontent-%COMP%]   .sk-circle8[_ngcontent-%COMP%]{-webkit-transform:rotate(210deg);-ms-transform:rotate(210deg);transform:rotate(210deg)}.sk-circle[_ngcontent-%COMP%]   .sk-circle9[_ngcontent-%COMP%]{-webkit-transform:rotate(240deg);-ms-transform:rotate(240deg);transform:rotate(240deg)}.sk-circle[_ngcontent-%COMP%]   .sk-circle10[_ngcontent-%COMP%]{-webkit-transform:rotate(270deg);-ms-transform:rotate(270deg);transform:rotate(270deg)}.sk-circle[_ngcontent-%COMP%]   .sk-circle11[_ngcontent-%COMP%]{-webkit-transform:rotate(300deg);-ms-transform:rotate(300deg);transform:rotate(300deg)}.sk-circle[_ngcontent-%COMP%]   .sk-circle12[_ngcontent-%COMP%]{-webkit-transform:rotate(330deg);-ms-transform:rotate(330deg);transform:rotate(330deg)}.sk-circle[_ngcontent-%COMP%]   .sk-circle2[_ngcontent-%COMP%]:before{-webkit-animation-delay:-1.1s;animation-delay:-1.1s}.sk-circle[_ngcontent-%COMP%]   .sk-circle3[_ngcontent-%COMP%]:before{-webkit-animation-delay:-1s;animation-delay:-1s}.sk-circle[_ngcontent-%COMP%]   .sk-circle4[_ngcontent-%COMP%]:before{-webkit-animation-delay:-.9s;animation-delay:-.9s}.sk-circle[_ngcontent-%COMP%]   .sk-circle5[_ngcontent-%COMP%]:before{-webkit-animation-delay:-.8s;animation-delay:-.8s}.sk-circle[_ngcontent-%COMP%]   .sk-circle6[_ngcontent-%COMP%]:before{-webkit-animation-delay:-.7s;animation-delay:-.7s}.sk-circle[_ngcontent-%COMP%]   .sk-circle7[_ngcontent-%COMP%]:before{-webkit-animation-delay:-.6s;animation-delay:-.6s}.sk-circle[_ngcontent-%COMP%]   .sk-circle8[_ngcontent-%COMP%]:before{-webkit-animation-delay:-.5s;animation-delay:-.5s}.sk-circle[_ngcontent-%COMP%]   .sk-circle9[_ngcontent-%COMP%]:before{-webkit-animation-delay:-.4s;animation-delay:-.4s}.sk-circle[_ngcontent-%COMP%]   .sk-circle10[_ngcontent-%COMP%]:before{-webkit-animation-delay:-.3s;animation-delay:-.3s}.sk-circle[_ngcontent-%COMP%]   .sk-circle11[_ngcontent-%COMP%]:before{-webkit-animation-delay:-.2s;animation-delay:-.2s}.sk-circle[_ngcontent-%COMP%]   .sk-circle12[_ngcontent-%COMP%]:before{-webkit-animation-delay:-.1s;animation-delay:-.1s}@-webkit-keyframes _ngcontent-%COMP%_sk-circleBounceDelay{0%,80%,to{-webkit-transform:scale(0);transform:scale(0)}40%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes _ngcontent-%COMP%_sk-circleBounceDelay{0%,80%,to{-webkit-transform:scale(0);transform:scale(0)}40%{-webkit-transform:scale(1);transform:scale(1)}}.spinner-chasing-dots[_ngcontent-%COMP%]{width:40px;height:40px;position:absolute;inset:0;margin:auto;z-index:2000;text-align:center;-webkit-animation:_ngcontent-%COMP%_sk-rotate 2s infinite linear;animation:_ngcontent-%COMP%_sk-rotate 2s infinite linear}.dot1[_ngcontent-%COMP%], .dot2[_ngcontent-%COMP%]{width:60%;height:60%;display:inline-block;position:absolute;top:0;background-color:#333;border-radius:100%;-webkit-animation:_ngcontent-%COMP%_sk-bounce 2s infinite ease-in-out;animation:_ngcontent-%COMP%_sk-bounce 2s infinite ease-in-out}.dot2[_ngcontent-%COMP%]{top:auto;bottom:0;-webkit-animation-delay:-1s;animation-delay:-1s}@-webkit-keyframes _ngcontent-%COMP%_sk-rotate{to{-webkit-transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_sk-rotate{to{transform:rotate(360deg);-webkit-transform:rotate(360deg)}}@-webkit-keyframes _ngcontent-%COMP%_sk-bounce{0%,to{-webkit-transform:scale(0)}50%{-webkit-transform:scale(1)}}@keyframes _ngcontent-%COMP%_sk-bounce{0%,to{transform:scale(0);-webkit-transform:scale(0)}50%{transform:scale(1);-webkit-transform:scale(1)}}.full-screen[_ngcontent-%COMP%]{position:fixed;position:-ms-page}']})}return Ie})(),We=(()=>{class Ie{static forRoot(tt){return{ngModule:Ie,providers:[{provide:"loadingConfig",useValue:tt}]}}static#e=this.\u0275fac=function(Ge){return new(Ge||Ie)};static#t=this.\u0275mod=v.oAB({type:Ie});static#n=this.\u0275inj=v.cJS({imports:[D.ez]})}return Ie})()},5219:(Ht,Ue,H)=>{H.d(Ue,{$_:()=>gt,F0:()=>De,Y:()=>Ot,YP:()=>Z,a6:()=>ue,b4:()=>xe,dv:()=>$e,ez:()=>be,h4:()=>wt,iZ:()=>Ee,jx:()=>$t,m8:()=>pn,pg:()=>ae,wB:()=>z,ws:()=>sn});var v=H(9212),D=H(8645),re=H(2332),fe=H(6814);const G=["*"];var z=function(Ve){return Ve[Ve.ACCEPT=0]="ACCEPT",Ve[Ve.REJECT=1]="REJECT",Ve[Ve.CANCEL=2]="CANCEL",Ve}(z||{});let Z=(()=>{class Ve{requireConfirmationSource=new D.x;acceptConfirmationSource=new D.x;requireConfirmation$=this.requireConfirmationSource.asObservable();accept=this.acceptConfirmationSource.asObservable();confirm(pe){return this.requireConfirmationSource.next(pe),this}close(){return this.requireConfirmationSource.next(null),this}onAccept(){this.acceptConfirmationSource.next(null)}static \u0275fac=function(ke){return new(ke||Ve)};static \u0275prov=v.Yz7({token:Ve,factory:Ve.\u0275fac})}return Ve})(),ue=(()=>class Ve{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"})(),ae=(()=>class Ve{static AND="and";static OR="or"})(),Ee=(()=>{class Ve{filter(pe,ke,We,Ie,je){let tt=[];if(pe)for(let Ge of pe)for(let ln of ke){let Mt=re.gb.resolveFieldData(Ge,ln);if(this.filters[Ie](Mt,We,je)){tt.push(Ge);break}}return tt}filters={startsWith:(pe,ke,We)=>{if(null==ke||""===ke.trim())return!0;if(null==pe)return!1;let Ie=re.gb.removeAccents(ke.toString()).toLocaleLowerCase(We);return re.gb.removeAccents(pe.toString()).toLocaleLowerCase(We).slice(0,Ie.length)===Ie},contains:(pe,ke,We)=>{if(null==ke||"string"==typeof ke&&""===ke.trim())return!0;if(null==pe)return!1;let Ie=re.gb.removeAccents(ke.toString()).toLocaleLowerCase(We);return-1!==re.gb.removeAccents(pe.toString()).toLocaleLowerCase(We).indexOf(Ie)},notContains:(pe,ke,We)=>{if(null==ke||"string"==typeof ke&&""===ke.trim())return!0;if(null==pe)return!1;let Ie=re.gb.removeAccents(ke.toString()).toLocaleLowerCase(We);return-1===re.gb.removeAccents(pe.toString()).toLocaleLowerCase(We).indexOf(Ie)},endsWith:(pe,ke,We)=>{if(null==ke||""===ke.trim())return!0;if(null==pe)return!1;let Ie=re.gb.removeAccents(ke.toString()).toLocaleLowerCase(We),je=re.gb.removeAccents(pe.toString()).toLocaleLowerCase(We);return-1!==je.indexOf(Ie,je.length-Ie.length)},equals:(pe,ke,We)=>null==ke||"string"==typeof ke&&""===ke.trim()||null!=pe&&(pe.getTime&&ke.getTime?pe.getTime()===ke.getTime():re.gb.removeAccents(pe.toString()).toLocaleLowerCase(We)==re.gb.removeAccents(ke.toString()).toLocaleLowerCase(We)),notEquals:(pe,ke,We)=>!(null==ke||"string"==typeof ke&&""===ke.trim()||null!=pe&&(pe.getTime&&ke.getTime?pe.getTime()===ke.getTime():re.gb.removeAccents(pe.toString()).toLocaleLowerCase(We)==re.gb.removeAccents(ke.toString()).toLocaleLowerCase(We))),in:(pe,ke)=>{if(null==ke||0===ke.length)return!0;for(let We=0;We<ke.length;We++)if(re.gb.equals(pe,ke[We]))return!0;return!1},between:(pe,ke)=>null==ke||null==ke[0]||null==ke[1]||null!=pe&&(pe.getTime?ke[0].getTime()<=pe.getTime()&&pe.getTime()<=ke[1].getTime():ke[0]<=pe&&pe<=ke[1]),lt:(pe,ke,We)=>null==ke||null!=pe&&(pe.getTime&&ke.getTime?pe.getTime()<ke.getTime():pe<ke),lte:(pe,ke,We)=>null==ke||null!=pe&&(pe.getTime&&ke.getTime?pe.getTime()<=ke.getTime():pe<=ke),gt:(pe,ke,We)=>null==ke||null!=pe&&(pe.getTime&&ke.getTime?pe.getTime()>ke.getTime():pe>ke),gte:(pe,ke,We)=>null==ke||null!=pe&&(pe.getTime&&ke.getTime?pe.getTime()>=ke.getTime():pe>=ke),is:(pe,ke,We)=>this.filters.equals(pe,ke,We),isNot:(pe,ke,We)=>this.filters.notEquals(pe,ke,We),before:(pe,ke,We)=>this.filters.lt(pe,ke,We),after:(pe,ke,We)=>this.filters.gt(pe,ke,We),dateIs:(pe,ke)=>null==ke||null!=pe&&pe.toDateString()===ke.toDateString(),dateIsNot:(pe,ke)=>null==ke||null!=pe&&pe.toDateString()!==ke.toDateString(),dateBefore:(pe,ke)=>null==ke||null!=pe&&pe.getTime()<ke.getTime(),dateAfter:(pe,ke)=>null==ke||null!=pe&&pe.getTime()>ke.getTime()};register(pe,ke){this.filters[pe]=ke}static \u0275fac=function(ke){return new(ke||Ve)};static \u0275prov=v.Yz7({token:Ve,factory:Ve.\u0275fac,providedIn:"root"})}return Ve})(),be=(()=>{class Ve{messageSource=new D.x;clearSource=new D.x;messageObserver=this.messageSource.asObservable();clearObserver=this.clearSource.asObservable();add(pe){pe&&this.messageSource.next(pe)}addAll(pe){pe&&pe.length&&this.messageSource.next(pe)}clear(pe){this.clearSource.next(pe||null)}static \u0275fac=function(ke){return new(ke||Ve)};static \u0275prov=v.Yz7({token:Ve,factory:Ve.\u0275fac})}return Ve})(),De=(()=>{class Ve{clickSource=new D.x;clickObservable=this.clickSource.asObservable();add(pe){pe&&this.clickSource.next(pe)}static \u0275fac=function(ke){return new(ke||Ve)};static \u0275prov=v.Yz7({token:Ve,factory:Ve.\u0275fac,providedIn:"root"})}return Ve})(),$e=(()=>class Ve{static ALIGN_CENTER="pi pi-align-center";static ALIGN_JUSTIFY="pi pi-align-justify";static ALIGN_LEFT="pi pi-align-left";static ALIGN_RIGHT="pi pi-align-right";static AMAZON="pi pi-amazon";static ANDROID="pi pi-android";static ANGLE_DOUBLE_DOWN="pi pi-angle-double-down";static ANGLE_DOUBLE_LEFT="pi pi-angle-double-left";static ANGLE_DOUBLE_RIGHT="pi pi-angle-double-right";static ANGLE_DOUBLE_UP="pi pi-angle-double-up";static ANGLE_DOWN="pi pi-angle-down";static ANGLE_LEFT="pi pi-angle-left";static ANGLE_RIGHT="pi pi-angle-right";static ANGLE_UP="pi pi-angle-up";static APPLE="pi pi-apple";static ARROWS_ALT="pi pi-arrows-alt";static ARROW_CIRCLE_DOWN="pi pi-arrow-circle-down";static ARROW_CIRCLE_LEFT="pi pi-arrow-circle-left";static ARROW_CIRCLE_RIGHT="pi pi-arrow-circle-right";static ARROW_CIRCLE_UP="pi pi-arrow-circle-up";static ARROW_DOWN="pi pi-arrow-down";static ARROW_DOWN_LEFT="pi pi-arrow-down-left";static ARROW_DOWN_RIGHT="pi pi-arrow-down-right";static ARROW_LEFT="pi pi-arrow-left";static ARROW_RIGHT_ARROW_LEFT="pi pi-arrow-right-arrow-left";static ARROW_RIGHT="pi pi-arrow-right";static ARROW_UP="pi pi-arrow-up";static ARROW_UP_LEFT="pi pi-arrow-up-left";static ARROW_UP_RIGHT="pi pi-arrow-up-right";static ARROW_H="pi pi-arrows-h";static ARROW_V="pi pi-arrows-v";static AT="pi pi-at";static BACKWARD="pi pi-backward";static BAN="pi pi-ban";static BARS="pi pi-bars";static BELL="pi pi-bell";static BITCOIN="pi pi-bitcoin";static BOLT="pi pi-bolt";static BOOK="pi pi-book";static BOOKMARK="pi pi-bookmark";static BOOKMARK_FILL="pi pi-bookmark-fill";static BOX="pi pi-box";static BRIEFCASE="pi pi-briefcase";static BUILDING="pi pi-building";static CALCULATOR="pi pi-calculator";static CALENDAR="pi pi-calendar";static CALENDAR_MINUS="pi pi-calendar-minus";static CALENDAR_PLUS="pi pi-calendar-plus";static CALENDAR_TIMES="pi pi-calendar-times";static CAMERA="pi pi-camera";static CAR="pi pi-car";static CARET_DOWN="pi pi-caret-down";static CARET_LEFT="pi pi-caret-left";static CARET_RIGHT="pi pi-caret-right";static CARET_UP="pi pi-caret-up";static CART_PLUS="pi pi-cart-plus";static CHART_BAR="pi pi-chart-bar";static CHART_LINE="pi pi-chart-line";static CHART_PIE="pi pi-chart-pie";static CHECK="pi pi-check";static CHECK_CIRCLE="pi pi-check-circle";static CHECK_SQUARE="pi pi-check-square";static CHEVRON_CIRCLE_DOWN="pi pi-chevron-circle-down";static CHEVRON_CIRCLE_LEFT="pi pi-chevron-circle-left";static CHEVRON_CIRCLE_RIGHT="pi pi-chevron-circle-right";static CHEVRON_CIRCLE_UP="pi pi-chevron-circle-up";static CHEVRON_DOWN="pi pi-chevron-down";static CHEVRON_LEFT="pi pi-chevron-left";static CHEVRON_RIGHT="pi pi-chevron-right";static CHEVRON_UP="pi pi-chevron-up";static CIRCLE="pi pi-circle";static CIRCLE_FILL="pi pi-circle-fill";static CLOCK="pi pi-clock";static CLONE="pi pi-clone";static CLOUD="pi pi-cloud";static CLOUD_DOWNLOAD="pi pi-cloud-download";static CLOUD_UPLOAD="pi pi-cloud-upload";static CODE="pi pi-code";static COG="pi pi-cog";static COMMENT="pi pi-comment";static COMMENTS="pi pi-comments";static COMPASS="pi pi-compass";static COPY="pi pi-copy";static CREDIT_CARD="pi pi-credit-card";static DATABASE="pi pi-database";static DESKTOP="pi pi-desktop";static DELETE_LEFT="pi pi-delete-left";static DIRECTIONS="pi pi-directions";static DIRECTIONS_ALT="pi pi-directions-alt";static DISCORD="pi pi-discord";static DOLLAR="pi pi-dollar";static DOWNLOAD="pi pi-download";static EJECT="pi pi-eject";static ELLIPSIS_H="pi pi-ellipsis-h";static ELLIPSIS_V="pi pi-ellipsis-v";static ENVELOPE="pi pi-envelope";static ERASER="pi pi-eraser";static EURO="pi pi-euro";static EXCLAMATION_CIRCLE="pi pi-exclamation-circle";static EXCLAMATION_TRIANGLE="pi pi-exclamation-triangle";static EXTERNAL_LINK="pi pi-external-link";static EYE="pi pi-eye";static EYE_SLASH="pi pi-eye-slash";static FACEBOOK="pi pi-facebook";static FAST_BACKWARD="pi pi-fast-backward";static FAST_FORWARD="pi pi-fast-forward";static FILE="pi pi-file";static FILE_EDIT="pi pi-file-edit";static FILE_IMPORT="pi pi-file-import";static FILE_PDF="pi pi-file-pdf";static FILE_EXCEL="pi pi-file-excel";static FILE_EXPORT="pi pi-file-export";static FILE_WORD="pi pi-file-word";static FILTER="pi pi-filter";static FILTER_FILL="pi pi-filter-fill";static FILTER_SLASH="pi pi-filter-slash";static FLAG="pi pi-flag";static FLAG_FILL="pi pi-flag-fill";static FOLDER="pi pi-folder";static FOLDER_OPEN="pi pi-folder-open";static FORWARD="pi pi-forward";static GIFT="pi pi-gift";static GITHUB="pi pi-github";static GLOBE="pi pi-globe";static GOOGLE="pi pi-google";static HASHTAG="pi pi-hashtag";static HEART="pi pi-heart";static HEART_FILL="pi pi-heart-fill";static HISTORY="pi pi-history";static HOME="pi pi-home";static HOURGLASS="pi pi-hourglass";static ID_CARD="pi pi-id-card";static IMAGE="pi pi-image";static IMAGES="pi pi-images";static INBOX="pi pi-inbox";static INFO="pi pi-info";static INFO_CIRCLE="pi pi-info-circle";static INSTAGRAM="pi pi-instagram";static KEY="pi pi-key";static LANGUAGE="pi pi-language";static LINK="pi pi-link";static LINKEDIN="pi pi-linkedin";static LIST="pi pi-list";static LOCK="pi pi-lock";static LOCK_OPEN="pi pi-lock-open";static MAP="pi pi-map";static MAP_MARKER="pi pi-map-marker";static MEGAPHONE="pi pi-megaphone";static MICROPHONE="pi pi-microphone";static MICROSOFT="pi pi-microsoft";static MINUS="pi pi-minus";static MINUS_CIRCLE="pi pi-minus-circle";static MOBILE="pi pi-mobile";static MONEY_BILL="pi pi-money-bill";static MOON="pi pi-moon";static PALETTE="pi pi-palette";static PAPERCLIP="pi pi-paperclip";static PAUSE="pi pi-pause";static PAYPAL="pi pi-paypal";static PENCIL="pi pi-pencil";static PERCENTAGE="pi pi-percentage";static PHONE="pi pi-phone";static PLAY="pi pi-play";static PLUS="pi pi-plus";static PLUS_CIRCLE="pi pi-plus-circle";static POUND="pi pi-pound";static POWER_OFF="pi pi-power-off";static PRIME="pi pi-prime";static PRINT="pi pi-print";static QRCODE="pi pi-qrcode";static QUESTION="pi pi-question";static QUESTION_CIRCLE="pi pi-question-circle";static REDDIT="pi pi-reddit";static REFRESH="pi pi-refresh";static REPLAY="pi pi-replay";static REPLY="pi pi-reply";static SAVE="pi pi-save";static SEARCH="pi pi-search";static SEARCH_MINUS="pi pi-search-minus";static SEARCH_PLUS="pi pi-search-plus";static SEND="pi pi-send";static SERVER="pi pi-server";static SHARE_ALT="pi pi-share-alt";static SHIELD="pi pi-shield";static SHOPPING_BAG="pi pi-shopping-bag";static SHOPPING_CART="pi pi-shopping-cart";static SIGN_IN="pi pi-sign-in";static SIGN_OUT="pi pi-sign-out";static SITEMAP="pi pi-sitemap";static SLACK="pi pi-slack";static SLIDERS_H="pi pi-sliders-h";static SLIDERS_V="pi pi-sliders-v";static SORT="pi pi-sort";static SORT_ALPHA_DOWN="pi pi-sort-alpha-down";static SORT_ALPHA_ALT_DOWN="pi pi-sort-alpha-alt-down";static SORT_ALPHA_UP="pi pi-sort-alpha-up";static SORT_ALPHA_ALT_UP="pi pi-sort-alpha-alt-up";static SORT_ALT="pi pi-sort-alt";static SORT_ALT_SLASH="pi pi-sort-slash";static SORT_AMOUNT_DOWN="pi pi-sort-amount-down";static SORT_AMOUNT_DOWN_ALT="pi pi-sort-amount-down-alt";static SORT_AMOUNT_UP="pi pi-sort-amount-up";static SORT_AMOUNT_UP_ALT="pi pi-sort-amount-up-alt";static SORT_DOWN="pi pi-sort-down";static SORT_NUMERIC_DOWN="pi pi-sort-numeric-down";static SORT_NUMERIC_ALT_DOWN="pi pi-sort-numeric-alt-down";static SORT_NUMERIC_UP="pi pi-sort-numeric-up";static SORT_NUMERIC_ALT_UP="pi pi-sort-numeric-alt-up";static SORT_UP="pi pi-sort-up";static SPINNER="pi pi-spinner";static STAR="pi pi-star";static STAR_FILL="pi pi-star-fill";static STEP_BACKWARD="pi pi-step-backward";static STEP_BACKWARD_ALT="pi pi-step-backward-alt";static STEP_FORWARD="pi pi-step-forward";static STEP_FORWARD_ALT="pi pi-step-forward-alt";static STOP="pi pi-stop";static STOP_CIRCLE="pi pi-stop-circle";static STOPWATCH="pi pi-stopwatch";static SUN="pi pi-sun";static SYNC="pi pi-sync";static TABLE="pi pi-table";static TABLET="pi pi-tablet";static TAG="pi pi-tag";static TAGS="pi pi-tags";static TELEGRAM="pi pi-telegram";static TH_LARGE="pi pi-th-large";static THUMBS_DOWN="pi pi-thumbs-down";static THUMBS_DOWN_FILL="pi pi-thumbs-down-fill";static THUMBS_UP="pi pi-thumbs-up";static THUMBS_UP_FILL="pi pi-thumbs-up-fill";static TICKET="pi pi-ticket";static TIMES="pi pi-times";static TIMES_CIRCLE="pi pi-times-circle";static TRASH="pi pi-trash";static TRUCK="pi pi-truck";static TWITTER="pi pi-twitter";static UNDO="pi pi-undo";static UNLOCK="pi pi-unlock";static UPLOAD="pi pi-upload";static USER="pi pi-user";static USER_EDIT="pi pi-user-edit";static USER_MINUS="pi pi-user-minus";static USER_PLUS="pi pi-user-plus";static USERS="pi pi-users";static VERIFIED="pi pi-verified";static VIDEO="pi pi-video";static VIMEO="pi pi-vimeo";static VOLUME_DOWN="pi pi-volume-down";static VOLUME_OFF="pi pi-volume-off";static VOLUME_UP="pi pi-volume-up";static WALLET="pi pi-wallet";static WHATSAPP="pi pi-whatsapp";static WIFI="pi pi-wifi";static WINDOW_MAXIMIZE="pi pi-window-maximize";static WINDOW_MINIMIZE="pi pi-window-minimize";static WRENCH="pi pi-wrench";static YOUTUBE="pi pi-youtube"})(),xe=(()=>{class Ve{ripple=!1;inputStyle="outlined";overlayOptions={};filterMatchModeOptions={text:[ue.STARTS_WITH,ue.CONTAINS,ue.NOT_CONTAINS,ue.ENDS_WITH,ue.EQUALS,ue.NOT_EQUALS],numeric:[ue.EQUALS,ue.NOT_EQUALS,ue.LESS_THAN,ue.LESS_THAN_OR_EQUAL_TO,ue.GREATER_THAN,ue.GREATER_THAN_OR_EQUAL_TO],date:[ue.DATE_IS,ue.DATE_IS_NOT,ue.DATE_BEFORE,ue.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new D.x;translationObserver=this.translationSource.asObservable();getTranslation(pe){return this.translation[pe]}setTranslation(pe){this.translation={...this.translation,...pe},this.translationSource.next(this.translation)}static \u0275fac=function(ke){return new(ke||Ve)};static \u0275prov=v.Yz7({token:Ve,factory:Ve.\u0275fac,providedIn:"root"})}return Ve})(),wt=(()=>{class Ve{static \u0275fac=function(ke){return new(ke||Ve)};static \u0275cmp=v.Xpm({type:Ve,selectors:[["p-header"]],ngContentSelectors:G,decls:1,vars:0,template:function(ke,We){1&ke&&(v.F$t(),v.Hsn(0))},encapsulation:2})}return Ve})(),gt=(()=>{class Ve{static \u0275fac=function(ke){return new(ke||Ve)};static \u0275cmp=v.Xpm({type:Ve,selectors:[["p-footer"]],ngContentSelectors:G,decls:1,vars:0,template:function(ke,We){1&ke&&(v.F$t(),v.Hsn(0))},encapsulation:2})}return Ve})(),$t=(()=>{class Ve{template;type;name;constructor(pe){this.template=pe}getType(){return this.name}static \u0275fac=function(ke){return new(ke||Ve)(v.Y36(v.Rgc))};static \u0275dir=v.lG2({type:Ve,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}})}return Ve})(),pn=(()=>{class Ve{static \u0275fac=function(ke){return new(ke||Ve)};static \u0275mod=v.oAB({type:Ve});static \u0275inj=v.cJS({imports:[fe.ez]})}return Ve})(),sn=(()=>class Ve{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static NO_FILTER="noFilter";static LT="lt";static LTE="lte";static GT="gt";static GTE="gte";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static CLEAR="clear";static APPLY="apply";static MATCH_ALL="matchAll";static MATCH_ANY="matchAny";static ADD_RULE="addRule";static REMOVE_RULE="removeRule";static ACCEPT="accept";static REJECT="reject";static CHOOSE="choose";static UPLOAD="upload";static CANCEL="cancel";static PENDING="pending";static FILE_SIZE_TYPES="fileSizeTypes";static DAY_NAMES="dayNames";static DAY_NAMES_SHORT="dayNamesShort";static DAY_NAMES_MIN="dayNamesMin";static MONTH_NAMES="monthNames";static MONTH_NAMES_SHORT="monthNamesShort";static FIRST_DAY_OF_WEEK="firstDayOfWeek";static TODAY="today";static WEEK_HEADER="weekHeader";static WEAK="weak";static MEDIUM="medium";static STRONG="strong";static PASSWORD_PROMPT="passwordPrompt";static EMPTY_MESSAGE="emptyMessage";static EMPTY_FILTER_MESSAGE="emptyFilterMessage"})(),Ot=(()=>{class Ve{dragStartSource=new D.x;dragStopSource=new D.x;dragStart$=this.dragStartSource.asObservable();dragStop$=this.dragStopSource.asObservable();startDrag(pe){this.dragStartSource.next(pe)}stopDrag(pe){this.dragStopSource.next(pe)}static \u0275fac=function(ke){return new(ke||Ve)};static \u0275prov=v.Yz7({token:Ve,factory:Ve.\u0275fac})}return Ve})()},8608:(Ht,Ue,H)=>{H.d(Ue,{Ct:()=>ce,TX:()=>ue,lM:()=>Z});var v=H(6814),D=H(9212),re=H(5219),fe=H(2076),G=H(2332);function z(ae,Ee){if(1&ae&&(D.TgZ(0,"span",1),D._uU(1),D.qZA()),2&ae){const be=D.oxw();D.Tol(be.styleClass),D.Q6J("ngClass",be.containerClass())("ngStyle",be.style),D.xp6(1),D.Oqu(be.value)}}let Z=(()=>{class ae{document;el;renderer;iconPos="left";get disabled(){return this._disabled}set disabled(be){this._disabled=be}get size(){return this._size}set size(be){this._size=be,this.initialized&&this.setSizeClasses()}get value(){return this._value}set value(be){if(be!==this._value&&(this._value=be,this.initialized)){let De=document.getElementById(this.id);this._value?(fe.p.hasClass(De,"p-badge-dot")&&fe.p.removeClass(De,"p-badge-dot"),1===String(this._value).length?fe.p.addClass(De,"p-badge-no-gutter"):fe.p.removeClass(De,"p-badge-no-gutter")):!this._value&&!fe.p.hasClass(De,"p-badge-dot")&&fe.p.addClass(De,"p-badge-dot"),De.innerHTML="",this.renderer.appendChild(De,document.createTextNode(this._value))}}severity;_value;initialized=!1;id;_disabled=!1;_size;constructor(be,De,$e){this.document=be,this.el=De,this.renderer=$e}ngAfterViewInit(){this.id=(0,G.Th)()+"_badge";let be=-1!=this.el.nativeElement.nodeName.indexOf("-")?this.el.nativeElement.firstChild:this.el.nativeElement;if(this._disabled)return null;let De=this.document.createElement("span");De.id=this.id,De.className="p-badge p-component",this.severity&&fe.p.addClass(De,"p-badge-"+this.severity),this.setSizeClasses(De),null!=this.value?(this.renderer.appendChild(De,this.document.createTextNode(this.value)),1===String(this.value).length&&fe.p.addClass(De,"p-badge-no-gutter")):fe.p.addClass(De,"p-badge-dot"),fe.p.addClass(be,"p-overlay-badge"),this.renderer.appendChild(be,De),this.initialized=!0}setSizeClasses(be){const De=be??this.document.getElementById(this.id);De&&(this._size?("large"===this._size&&(fe.p.addClass(De,"p-badge-lg"),fe.p.removeClass(De,"p-badge-xl")),"xlarge"===this._size&&(fe.p.addClass(De,"p-badge-xl"),fe.p.removeClass(De,"p-badge-lg"))):(fe.p.removeClass(De,"p-badge-lg"),fe.p.removeClass(De,"p-badge-xl")))}ngOnDestroy(){this.initialized=!1}static \u0275fac=function(De){return new(De||ae)(D.Y36(v.K0),D.Y36(D.SBq),D.Y36(D.Qsj))};static \u0275dir=D.lG2({type:ae,selectors:[["","pBadge",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",disabled:["badgeDisabled","disabled"],size:"size",value:"value",severity:"severity"}})}return ae})(),ce=(()=>{class ae{styleClass;style;size;severity;value;badgeDisabled=!1;containerClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":null!=this.value&&1===String(this.value).length,"p-badge-lg":"large"===this.size,"p-badge-xl":"xlarge"===this.size,"p-badge-info":"info"===this.severity,"p-badge-success":"success"===this.severity,"p-badge-warning":"warning"===this.severity,"p-badge-danger":"danger"===this.severity}}static \u0275fac=function(De){return new(De||ae)};static \u0275cmp=D.Xpm({type:ae,selectors:[["p-badge"]],hostAttrs:[1,"p-element"],inputs:{styleClass:"styleClass",style:"style",size:"size",severity:"severity",value:"value",badgeDisabled:"badgeDisabled"},decls:1,vars:1,consts:[[3,"ngClass","class","ngStyle",4,"ngIf"],[3,"ngClass","ngStyle"]],template:function(De,$e){1&De&&D.YNc(0,z,2,5,"span",0),2&De&&D.Q6J("ngIf",!$e.badgeDisabled)},dependencies:[v.mk,v.O5,v.PC],styles:["@layer primeng{.p-badge{display:inline-block;border-radius:10px;text-align:center;padding:0 .5rem}.p-overlay-badge{position:relative}.p-overlay-badge .p-badge{position:absolute;top:0;right:0;transform:translate(50%,-50%);transform-origin:100% 0;margin:0}.p-badge-dot{width:.5rem;min-width:.5rem;height:.5rem;border-radius:50%;padding:0}.p-badge-no-gutter{padding:0;border-radius:50%}}\n"],encapsulation:2,changeDetection:0})}return ae})(),ue=(()=>{class ae{static \u0275fac=function(De){return new(De||ae)};static \u0275mod=D.oAB({type:ae});static \u0275inj=D.cJS({imports:[v.ez,re.m8]})}return ae})()},4713:(Ht,Ue,H)=>{H.d(Ue,{s:()=>fe});var v=H(9212),D=H(2332);const re=["*"];let fe=(()=>{class G{label;spin=!1;styleClass;role;ariaLabel;ariaHidden;ngOnInit(){this.getAttributes()}getAttributes(){const Z=D.gb.isEmpty(this.label);this.role=Z?void 0:"img",this.ariaLabel=Z?void 0:this.label,this.ariaHidden=Z}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}static \u0275fac=function(ce){return new(ce||G)};static \u0275cmp=v.Xpm({type:G,selectors:[["ng-component"]],hostAttrs:[1,"p-element","p-icon-wrapper"],inputs:{label:"label",spin:"spin",styleClass:"styleClass"},standalone:!0,features:[v.jDz],ngContentSelectors:re,decls:1,vars:0,template:function(ce,ue){1&ce&&(v.F$t(),v.Hsn(0))},encapsulation:2,changeDetection:0})}return G})()},707:(Ht,Ue,H)=>{H.d(Ue,{Hq:()=>ke,hJ:()=>Ie,zx:()=>We});var v=H(6814),D=H(9212),re=H(5219),fe=H(2076),G=H(8717),z=H(4480),Z=H(2332);function ce(je,tt){1&je&&D.GkF(0)}function ue(je,tt){if(1&je&&D._UZ(0,"span",8),2&je){const Ge=D.oxw(3);D.Tol("p-button-loading-icon pi-spin "+Ge.loadingIcon),D.Q6J("ngClass",Ge.iconClass()),D.uIk("aria-hidden",!0)("data-pc-section","loadingicon")}}function ae(je,tt){if(1&je&&D._UZ(0,"SpinnerIcon",9),2&je){const Ge=D.oxw(3);D.Q6J("styleClass",Ge.spinnerIconClass())("spin",!0),D.uIk("aria-hidden",!0)("data-pc-section","loadingicon")}}function Ee(je,tt){if(1&je&&(D.ynx(0),D.YNc(1,ue,1,5,"span",6)(2,ae,1,4,"SpinnerIcon",7),D.BQk()),2&je){const Ge=D.oxw(2);D.xp6(1),D.Q6J("ngIf",Ge.loadingIcon),D.xp6(1),D.Q6J("ngIf",!Ge.loadingIcon)}}function be(je,tt){}function De(je,tt){1&je&&D.YNc(0,be,0,0,"ng-template")}function $e(je,tt){if(1&je&&(D.TgZ(0,"span",10),D.YNc(1,De,1,0,null,1),D.qZA()),2&je){const Ge=D.oxw(2);D.Q6J("ngClass",Ge.iconClass()),D.uIk("aria-hidden",!0)("data-pc-section","loadingicon"),D.xp6(1),D.Q6J("ngTemplateOutlet",Ge.loadingIconTemplate)}}function xe(je,tt){if(1&je&&(D.ynx(0),D.YNc(1,Ee,3,2,"ng-container",2)(2,$e,2,4,"span",5),D.BQk()),2&je){const Ge=D.oxw();D.xp6(1),D.Q6J("ngIf",!Ge.loadingIconTemplate),D.xp6(1),D.Q6J("ngIf",Ge.loadingIconTemplate)}}function wt(je,tt){if(1&je&&D._UZ(0,"span",8),2&je){const Ge=D.oxw(2);D.Tol(Ge.icon),D.Q6J("ngClass",Ge.iconClass()),D.uIk("data-pc-section","icon")}}function gt(je,tt){}function $t(je,tt){if(1&je&&D.YNc(0,gt,0,0,"ng-template",12),2&je){const Ge=D.oxw(3);D.Q6J("ngIf",!Ge.icon)}}function pn(je,tt){if(1&je&&(D.TgZ(0,"span",8),D.YNc(1,$t,1,1,null,1),D.qZA()),2&je){const Ge=D.oxw(2);D.Q6J("ngClass",Ge.iconClass()),D.uIk("data-pc-section","icon"),D.xp6(1),D.Q6J("ngTemplateOutlet",Ge.iconTemplate)}}function sn(je,tt){if(1&je&&(D.ynx(0),D.YNc(1,wt,1,4,"span",6)(2,pn,2,3,"span",11),D.BQk()),2&je){const Ge=D.oxw();D.xp6(1),D.Q6J("ngIf",Ge.icon&&!Ge.iconTemplate),D.xp6(1),D.Q6J("ngIf",!Ge.icon&&Ge.iconTemplate)}}function Ot(je,tt){if(1&je&&(D.TgZ(0,"span",13),D._uU(1),D.qZA()),2&je){const Ge=D.oxw();D.uIk("aria-hidden",Ge.icon&&!Ge.label)("data-pc-section","label"),D.xp6(1),D.Oqu(Ge.label)}}function Ve(je,tt){if(1&je&&(D.TgZ(0,"span",8),D._uU(1),D.qZA()),2&je){const Ge=D.oxw();D.Tol(Ge.badgeClass),D.Q6J("ngClass",Ge.badgeStyleClass()),D.uIk("data-pc-section","badge"),D.xp6(1),D.Oqu(Ge.badge)}}const Xe=["*"],pe={button:"p-button",component:"p-component",iconOnly:"p-button-icon-only",disabled:"p-disabled",loading:"p-button-loading",labelOnly:"p-button-loading-label-only"};let ke=(()=>{class je{el;document;iconPos="left";loadingIcon;get label(){return this._label}set label(Ge){this._label=Ge,this.initialized&&(this.updateLabel(),this.updateIcon(),this.setStyleClass())}get icon(){return this._icon}set icon(Ge){this._icon=Ge,this.initialized&&(this.updateIcon(),this.setStyleClass())}get loading(){return this._loading}set loading(Ge){this._loading=Ge,this.initialized&&(this.updateIcon(),this.setStyleClass())}_label;_icon;_loading=!1;initialized;get htmlElement(){return this.el.nativeElement}_internalClasses=Object.values(pe);spinnerIcon='<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" class="p-icon-spin">\n        <g clip-path="url(#clip0_417_21408)">\n            <path\n                d="M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z"\n                fill="currentColor"\n            />\n        </g>\n        <defs>\n            <clipPath id="clip0_417_21408">\n                <rect width="14" height="14" fill="white" />\n            </clipPath>\n        </defs>\n    </svg>';constructor(Ge,ln){this.el=Ge,this.document=ln}ngAfterViewInit(){fe.p.addMultipleClasses(this.htmlElement,this.getStyleClass().join(" ")),this.createIcon(),this.createLabel(),this.initialized=!0}getStyleClass(){const Ge=[pe.button,pe.component];return this.icon&&!this.label&&Z.gb.isEmpty(this.htmlElement.textContent)&&Ge.push(pe.iconOnly),this.loading&&(Ge.push(pe.disabled,pe.loading),!this.icon&&this.label&&Ge.push(pe.labelOnly),this.icon&&!this.label&&!Z.gb.isEmpty(this.htmlElement.textContent)&&Ge.push(pe.iconOnly)),Ge}setStyleClass(){const Ge=this.getStyleClass();this.htmlElement.classList.remove(...this._internalClasses),this.htmlElement.classList.add(...Ge)}createLabel(){if(this.label){let Ge=this.document.createElement("span");this.icon&&!this.label&&Ge.setAttribute("aria-hidden","true"),Ge.className="p-button-label",Ge.appendChild(this.document.createTextNode(this.label)),this.htmlElement.appendChild(Ge)}}createIcon(){if(this.icon||this.loading){let Ge=this.document.createElement("span");Ge.className="p-button-icon",Ge.setAttribute("aria-hidden","true");let ln=this.label?"p-button-icon-"+this.iconPos:null;ln&&fe.p.addClass(Ge,ln);let Mt=this.getIconClass();Mt&&fe.p.addMultipleClasses(Ge,Mt),!this.loadingIcon&&this.loading&&(Ge.innerHTML=this.spinnerIcon),this.htmlElement.insertBefore(Ge,this.htmlElement.firstChild)}}updateLabel(){let Ge=fe.p.findSingle(this.htmlElement,".p-button-label");this.label?Ge?Ge.textContent=this.label:this.createLabel():Ge&&this.htmlElement.removeChild(Ge)}updateIcon(){let Ge=fe.p.findSingle(this.htmlElement,".p-button-icon"),ln=fe.p.findSingle(this.htmlElement,".p-button-label");this.loading&&!this.loadingIcon&&Ge?Ge.innerHTML=this.spinnerIcon:Ge?.innerHTML&&(Ge.innerHTML=""),Ge?Ge.className=this.iconPos?"p-button-icon "+(ln?"p-button-icon-"+this.iconPos:"")+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIcon()}getIconClass(){return this.loading?"p-button-loading-icon "+(this.loadingIcon?this.loadingIcon:"p-icon"):this.icon||"p-hidden"}ngOnDestroy(){this.initialized=!1}static \u0275fac=function(ln){return new(ln||je)(D.Y36(D.SBq),D.Y36(v.K0))};static \u0275dir=D.lG2({type:je,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading"}})}return je})(),We=(()=>{class je{type="button";iconPos="left";icon;badge;label;disabled;loading=!1;loadingIcon;raised=!1;rounded=!1;text=!1;plain=!1;severity;outlined=!1;link=!1;size;style;styleClass;badgeClass;ariaLabel;onClick=new D.vpe;onFocus=new D.vpe;onBlur=new D.vpe;contentTemplate;loadingIconTemplate;iconTemplate;templates;spinnerIconClass(){return Object.entries(this.iconClass()).filter(([,Ge])=>!!Ge).reduce((Ge,[ln])=>Ge+` ${ln}`,"p-button-loading-icon")}iconClass(){return{"p-button-icon":!0,"p-button-icon-left":"left"===this.iconPos&&this.label,"p-button-icon-right":"right"===this.iconPos&&this.label,"p-button-icon-top":"top"===this.iconPos&&this.label,"p-button-icon-bottom":"bottom"===this.iconPos&&this.label}}buttonClass(){return{"p-button p-component":!0,"p-button-icon-only":(this.icon||this.iconTemplate||this.loadingIcon||this.loadingIconTemplate)&&!this.label,"p-button-vertical":("top"===this.iconPos||"bottom"===this.iconPos)&&this.label,"p-disabled":this.disabled||this.loading,"p-button-loading":this.loading,"p-button-loading-label-only":this.loading&&!this.icon&&this.label&&!this.loadingIcon&&"left"===this.iconPos,"p-button-link":this.link,[`p-button-${this.severity}`]:this.severity,"p-button-raised":this.raised,"p-button-rounded":this.rounded,"p-button-text":this.text,"p-button-outlined":this.outlined,"p-button-sm":"small"===this.size,"p-button-lg":"large"===this.size,"p-button-plain":this.plain,[`${this.styleClass}`]:this.styleClass}}ngAfterContentInit(){this.templates?.forEach(Ge=>{switch(Ge.getType()){case"content":default:this.contentTemplate=Ge.template;break;case"icon":this.iconTemplate=Ge.template;break;case"loadingicon":this.loadingIconTemplate=Ge.template}})}badgeStyleClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.badge&&1===String(this.badge).length}}static \u0275fac=function(ln){return new(ln||je)};static \u0275cmp=D.Xpm({type:je,selectors:[["p-button"]],contentQueries:function(ln,Mt,yn){if(1&ln&&D.Suo(yn,re.jx,4),2&ln){let Vn;D.iGM(Vn=D.CRH())&&(Mt.templates=Vn)}},hostAttrs:[1,"p-element"],hostVars:2,hostBindings:function(ln,Mt){2&ln&&D.ekj("p-disabled",Mt.disabled)},inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:"disabled",loading:"loading",loadingIcon:"loadingIcon",raised:"raised",rounded:"rounded",text:"text",plain:"plain",severity:"severity",outlined:"outlined",link:"link",size:"size",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",ariaLabel:"ariaLabel"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},ngContentSelectors:Xe,decls:7,vars:14,consts:[["pRipple","",3,"ngStyle","disabled","ngClass","click","focus","blur"],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass","class",4,"ngIf"],["class","p-button-loading-icon",3,"ngClass",4,"ngIf"],[3,"class","ngClass",4,"ngIf"],[3,"styleClass","spin",4,"ngIf"],[3,"ngClass"],[3,"styleClass","spin"],[1,"p-button-loading-icon",3,"ngClass"],[3,"ngClass",4,"ngIf"],[3,"ngIf"],[1,"p-button-label"]],template:function(ln,Mt){1&ln&&(D.F$t(),D.TgZ(0,"button",0),D.NdJ("click",function(Vn){return Mt.onClick.emit(Vn)})("focus",function(Vn){return Mt.onFocus.emit(Vn)})("blur",function(Vn){return Mt.onBlur.emit(Vn)}),D.Hsn(1),D.YNc(2,ce,1,0,"ng-container",1)(3,xe,3,2,"ng-container",2)(4,sn,3,2,"ng-container",2)(5,Ot,2,3,"span",3)(6,Ve,2,5,"span",4),D.qZA()),2&ln&&(D.Tol(Mt.styleClass),D.Q6J("ngStyle",Mt.style)("disabled",Mt.disabled||Mt.loading)("ngClass",Mt.buttonClass()),D.uIk("type",Mt.type)("aria-label",Mt.ariaLabel)("data-pc-name","button")("data-pc-section","root"),D.xp6(2),D.Q6J("ngTemplateOutlet",Mt.contentTemplate),D.xp6(1),D.Q6J("ngIf",Mt.loading),D.xp6(1),D.Q6J("ngIf",!Mt.loading),D.xp6(1),D.Q6J("ngIf",!Mt.contentTemplate&&Mt.label),D.xp6(1),D.Q6J("ngIf",!Mt.contentTemplate&&Mt.badge))},dependencies:()=>[v.mk,v.O5,v.tP,v.PC,z.H,G.L],encapsulation:2,changeDetection:0})}return je})(),Ie=(()=>{class je{static \u0275fac=function(ln){return new(ln||je)};static \u0275mod=D.oAB({type:je});static \u0275inj=D.cJS({imports:[v.ez,z.T,re.m8,G.L,re.m8]})}return je})()},2076:(Ht,Ue,H)=>{H.d(Ue,{V:()=>D,p:()=>v});let v=(()=>{class re{static zindex=1e3;static calculatedScrollbarWidth=null;static calculatedScrollbarHeight=null;static browser;static addClass(G,z){G&&z&&(G.classList?G.classList.add(z):G.className+=" "+z)}static addMultipleClasses(G,z){if(G&&z)if(G.classList){let Z=z.trim().split(" ");for(let ce=0;ce<Z.length;ce++)G.classList.add(Z[ce])}else{let Z=z.split(" ");for(let ce=0;ce<Z.length;ce++)G.className+=" "+Z[ce]}}static removeClass(G,z){G&&z&&(G.classList?G.classList.remove(z):G.className=G.className.replace(new RegExp("(^|\\b)"+z.split(" ").join("|")+"(\\b|$)","gi")," "))}static removeMultipleClasses(G,z){G&&z&&[z].flat().filter(Boolean).forEach(Z=>Z.split(" ").forEach(ce=>this.removeClass(G,ce)))}static hasClass(G,z){return!(!G||!z)&&(G.classList?G.classList.contains(z):new RegExp("(^| )"+z+"( |$)","gi").test(G.className))}static siblings(G){return Array.prototype.filter.call(G.parentNode.children,function(z){return z!==G})}static find(G,z){return Array.from(G.querySelectorAll(z))}static findSingle(G,z){return this.isElement(G)?G.querySelector(z):null}static index(G){let z=G.parentNode.childNodes,Z=0;for(var ce=0;ce<z.length;ce++){if(z[ce]==G)return Z;1==z[ce].nodeType&&Z++}return-1}static indexWithinGroup(G,z){let Z=G.parentNode?G.parentNode.childNodes:[],ce=0;for(var ue=0;ue<Z.length;ue++){if(Z[ue]==G)return ce;Z[ue].attributes&&Z[ue].attributes[z]&&1==Z[ue].nodeType&&ce++}return-1}static appendOverlay(G,z,Z="self"){"self"!==Z&&G&&z&&this.appendChild(G,z)}static alignOverlay(G,z,Z="self",ce=!0){G&&z&&(ce&&(G.style.minWidth=`${re.getOuterWidth(z)}px`),"self"===Z?this.relativePosition(G,z):this.absolutePosition(G,z))}static relativePosition(G,z){const Z=sn=>{if(sn)return"relative"===getComputedStyle(sn).getPropertyValue("position")?sn:Z(sn.parentElement)},ce=G.offsetParent?{width:G.offsetWidth,height:G.offsetHeight}:this.getHiddenElementDimensions(G),ue=z.offsetHeight,ae=z.getBoundingClientRect(),Ee=this.getWindowScrollTop(),be=this.getWindowScrollLeft(),De=this.getViewport(),xe=Z(G)?.getBoundingClientRect()||{top:-1*Ee,left:-1*be};let wt,gt;ae.top+ue+ce.height>De.height?(wt=ae.top-xe.top-ce.height,G.style.transformOrigin="bottom",ae.top+wt<0&&(wt=-1*ae.top)):(wt=ue+ae.top-xe.top,G.style.transformOrigin="top");const $t=ae.left+ce.width-De.width;gt=ce.width>De.width?-1*(ae.left-xe.left):$t>0?ae.left-xe.left-$t:ae.left-xe.left,G.style.top=wt+"px",G.style.left=gt+"px"}static absolutePosition(G,z){const Z=G.offsetParent?{width:G.offsetWidth,height:G.offsetHeight}:this.getHiddenElementDimensions(G),ce=Z.height,ue=Z.width,ae=z.offsetHeight,Ee=z.offsetWidth,be=z.getBoundingClientRect(),De=this.getWindowScrollTop(),$e=this.getWindowScrollLeft(),xe=this.getViewport();let wt,gt;be.top+ae+ce>xe.height?(wt=be.top+De-ce,G.style.transformOrigin="bottom",wt<0&&(wt=De)):(wt=ae+be.top+De,G.style.transformOrigin="top"),gt=be.left+ue>xe.width?Math.max(0,be.left+$e+Ee-ue):be.left+$e,G.style.top=wt+"px",G.style.left=gt+"px"}static getParents(G,z=[]){return null===G.parentNode?z:this.getParents(G.parentNode,z.concat([G.parentNode]))}static getScrollableParents(G){let z=[];if(G){let Z=this.getParents(G);const ce=/(auto|scroll)/,ue=ae=>{let Ee=window.getComputedStyle(ae,null);return ce.test(Ee.getPropertyValue("overflow"))||ce.test(Ee.getPropertyValue("overflowX"))||ce.test(Ee.getPropertyValue("overflowY"))};for(let ae of Z){let Ee=1===ae.nodeType&&ae.dataset.scrollselectors;if(Ee){let be=Ee.split(",");for(let De of be){let $e=this.findSingle(ae,De);$e&&ue($e)&&z.push($e)}}9!==ae.nodeType&&ue(ae)&&z.push(ae)}}return z}static getHiddenElementOuterHeight(G){G.style.visibility="hidden",G.style.display="block";let z=G.offsetHeight;return G.style.display="none",G.style.visibility="visible",z}static getHiddenElementOuterWidth(G){G.style.visibility="hidden",G.style.display="block";let z=G.offsetWidth;return G.style.display="none",G.style.visibility="visible",z}static getHiddenElementDimensions(G){let z={};return G.style.visibility="hidden",G.style.display="block",z.width=G.offsetWidth,z.height=G.offsetHeight,G.style.display="none",G.style.visibility="visible",z}static scrollInView(G,z){let Z=getComputedStyle(G).getPropertyValue("borderTopWidth"),ce=Z?parseFloat(Z):0,ue=getComputedStyle(G).getPropertyValue("paddingTop"),ae=ue?parseFloat(ue):0,Ee=G.getBoundingClientRect(),De=z.getBoundingClientRect().top+document.body.scrollTop-(Ee.top+document.body.scrollTop)-ce-ae,$e=G.scrollTop,xe=G.clientHeight,wt=this.getOuterHeight(z);De<0?G.scrollTop=$e+De:De+wt>xe&&(G.scrollTop=$e+De-xe+wt)}static fadeIn(G,z){G.style.opacity=0;let Z=+new Date,ce=0,ue=function(){ce=+G.style.opacity.replace(",",".")+((new Date).getTime()-Z)/z,G.style.opacity=ce,Z=+new Date,+ce<1&&(window.requestAnimationFrame&&requestAnimationFrame(ue)||setTimeout(ue,16))};ue()}static fadeOut(G,z){var Z=1,ae=50/z;let Ee=setInterval(()=>{(Z-=ae)<=0&&(Z=0,clearInterval(Ee)),G.style.opacity=Z},50)}static getWindowScrollTop(){let G=document.documentElement;return(window.pageYOffset||G.scrollTop)-(G.clientTop||0)}static getWindowScrollLeft(){let G=document.documentElement;return(window.pageXOffset||G.scrollLeft)-(G.clientLeft||0)}static matches(G,z){var Z=Element.prototype;return(Z.matches||Z.webkitMatchesSelector||Z.mozMatchesSelector||Z.msMatchesSelector||function(ue){return-1!==[].indexOf.call(document.querySelectorAll(ue),this)}).call(G,z)}static getOuterWidth(G,z){let Z=G.offsetWidth;if(z){let ce=getComputedStyle(G);Z+=parseFloat(ce.marginLeft)+parseFloat(ce.marginRight)}return Z}static getHorizontalPadding(G){let z=getComputedStyle(G);return parseFloat(z.paddingLeft)+parseFloat(z.paddingRight)}static getHorizontalMargin(G){let z=getComputedStyle(G);return parseFloat(z.marginLeft)+parseFloat(z.marginRight)}static innerWidth(G){let z=G.offsetWidth,Z=getComputedStyle(G);return z+=parseFloat(Z.paddingLeft)+parseFloat(Z.paddingRight),z}static width(G){let z=G.offsetWidth,Z=getComputedStyle(G);return z-=parseFloat(Z.paddingLeft)+parseFloat(Z.paddingRight),z}static getInnerHeight(G){let z=G.offsetHeight,Z=getComputedStyle(G);return z+=parseFloat(Z.paddingTop)+parseFloat(Z.paddingBottom),z}static getOuterHeight(G,z){let Z=G.offsetHeight;if(z){let ce=getComputedStyle(G);Z+=parseFloat(ce.marginTop)+parseFloat(ce.marginBottom)}return Z}static getHeight(G){let z=G.offsetHeight,Z=getComputedStyle(G);return z-=parseFloat(Z.paddingTop)+parseFloat(Z.paddingBottom)+parseFloat(Z.borderTopWidth)+parseFloat(Z.borderBottomWidth),z}static getWidth(G){let z=G.offsetWidth,Z=getComputedStyle(G);return z-=parseFloat(Z.paddingLeft)+parseFloat(Z.paddingRight)+parseFloat(Z.borderLeftWidth)+parseFloat(Z.borderRightWidth),z}static getViewport(){let G=window,z=document,Z=z.documentElement,ce=z.getElementsByTagName("body")[0];return{width:G.innerWidth||Z.clientWidth||ce.clientWidth,height:G.innerHeight||Z.clientHeight||ce.clientHeight}}static getOffset(G){var z=G.getBoundingClientRect();return{top:z.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:z.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(G,z){let Z=G.parentNode;if(!Z)throw"Can't replace element";return Z.replaceChild(z,G)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var G=window.navigator.userAgent;return G.indexOf("MSIE ")>0||(G.indexOf("Trident/")>0?(G.indexOf("rv:"),!0):G.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(G,z){if(this.isElement(z))z.appendChild(G);else{if(!(z&&z.el&&z.el.nativeElement))throw"Cannot append "+z+" to "+G;z.el.nativeElement.appendChild(G)}}static removeChild(G,z){if(this.isElement(z))z.removeChild(G);else{if(!z.el||!z.el.nativeElement)throw"Cannot remove "+G+" from "+z;z.el.nativeElement.removeChild(G)}}static removeElement(G){"remove"in Element.prototype?G.remove():G.parentNode.removeChild(G)}static isElement(G){return"object"==typeof HTMLElement?G instanceof HTMLElement:G&&"object"==typeof G&&null!==G&&1===G.nodeType&&"string"==typeof G.nodeName}static calculateScrollbarWidth(G){if(G){let z=getComputedStyle(G);return G.offsetWidth-G.clientWidth-parseFloat(z.borderLeftWidth)-parseFloat(z.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let z=document.createElement("div");z.className="p-scrollbar-measure",document.body.appendChild(z);let Z=z.offsetWidth-z.clientWidth;return document.body.removeChild(z),this.calculatedScrollbarWidth=Z,Z}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let G=document.createElement("div");G.className="p-scrollbar-measure",document.body.appendChild(G);let z=G.offsetHeight-G.clientHeight;return document.body.removeChild(G),this.calculatedScrollbarWidth=z,z}static invokeElementMethod(G,z,Z){G[z].apply(G,Z)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let G=this.resolveUserAgent();this.browser={},G.browser&&(this.browser[G.browser]=!0,this.browser.version=G.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let G=navigator.userAgent.toLowerCase(),z=/(chrome)[ \/]([\w.]+)/.exec(G)||/(webkit)[ \/]([\w.]+)/.exec(G)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(G)||/(msie) ([\w.]+)/.exec(G)||G.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(G)||[];return{browser:z[1]||"",version:z[2]||"0"}}static isInteger(G){return Number.isInteger?Number.isInteger(G):"number"==typeof G&&isFinite(G)&&Math.floor(G)===G}static isHidden(G){return!G||null===G.offsetParent}static isVisible(G){return G&&null!=G.offsetParent}static isExist(G){return null!==G&&typeof G<"u"&&G.nodeName&&G.parentNode}static focus(G,z){G&&document.activeElement!==G&&G.focus(z)}static getFocusableElements(G,z=""){let Z=this.find(G,`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${z},\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${z},\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${z},\n                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${z},\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${z},\n                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${z},\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${z}`),ce=[];for(let ue of Z)"none"!=getComputedStyle(ue).display&&"hidden"!=getComputedStyle(ue).visibility&&ce.push(ue);return ce}static getFirstFocusableElement(G,z){const Z=this.getFocusableElements(G,z);return Z.length>0?Z[0]:null}static getLastFocusableElement(G,z){const Z=this.getFocusableElements(G,z);return Z.length>0?Z[Z.length-1]:null}static getNextFocusableElement(G,z=!1){const Z=re.getFocusableElements(G);let ce=0;if(Z&&Z.length>0){const ue=Z.indexOf(Z[0].ownerDocument.activeElement);z?ce=-1==ue||0===ue?Z.length-1:ue-1:-1!=ue&&ue!==Z.length-1&&(ce=ue+1)}return Z[ce]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(G,z){if(!G)return null;switch(G){case"document":return document;case"window":return window;case"@next":return z?.nextElementSibling;case"@prev":return z?.previousElementSibling;case"@parent":return z?.parentElement;case"@grandparent":return z?.parentElement.parentElement;default:const Z=typeof G;if("string"===Z)return document.querySelector(G);if("object"===Z&&G.hasOwnProperty("nativeElement"))return this.isExist(G.nativeElement)?G.nativeElement:void 0;const ue=(ae=G)&&ae.constructor&&ae.call&&ae.apply?G():G;return ue&&9===ue.nodeType||this.isExist(ue)?ue:null}var ae}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(G,z){if(G){const Z=G.getAttribute(z);return isNaN(Z)?"true"===Z||"false"===Z?"true"===Z:Z:+Z}}static calculateBodyScrollbarWidth(){return window.innerWidth-document.documentElement.offsetWidth}static blockBodyScroll(G="p-overflow-hidden"){document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,G)}static unblockBodyScroll(G="p-overflow-hidden"){document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,G)}}return re})();class D{element;listener;scrollableParents;constructor(fe,G=(()=>{})){this.element=fe,this.listener=G}bindScrollListener(){this.scrollableParents=v.getScrollableParents(this.element);for(let fe=0;fe<this.scrollableParents.length;fe++)this.scrollableParents[fe].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let fe=0;fe<this.scrollableParents.length;fe++)this.scrollableParents[fe].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}},8717:(Ht,Ue,H)=>{H.d(Ue,{L:()=>fe});var v=H(9212),D=H(4713),re=H(2332);let fe=(()=>{class G extends D.s{pathId;ngOnInit(){this.pathId="url(#"+(0,re.Th)()+")"}static \u0275fac=(()=>{let Z;return function(ue){return(Z||(Z=v.n5z(G)))(ue||G)}})();static \u0275cmp=v.Xpm({type:G,selectors:[["SpinnerIcon"]],standalone:!0,features:[v.qOj,v.jDz],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(ce,ue){1&ce&&(v.O4$(),v.TgZ(0,"svg",0)(1,"g"),v._UZ(2,"path",1),v.qZA(),v.TgZ(3,"defs")(4,"clipPath",2),v._UZ(5,"rect",3),v.qZA()()()),2&ce&&(v.Tol(ue.getClassNames()),v.uIk("aria-label",ue.ariaLabel)("aria-hidden",ue.ariaHidden)("role",ue.role),v.xp6(1),v.uIk("clip-path",ue.pathId),v.xp6(3),v.Q6J("id",ue.pathId))},encapsulation:2})}return G})()},7778:(Ht,Ue,H)=>{H.d(Ue,{q:()=>re});var v=H(9212),D=H(4713);let re=(()=>{class fe extends D.s{static \u0275fac=(()=>{let z;return function(ce){return(z||(z=v.n5z(fe)))(ce||fe)}})();static \u0275cmp=v.Xpm({type:fe,selectors:[["TimesIcon"]],standalone:!0,features:[v.qOj,v.jDz],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z","fill","currentColor"]],template:function(Z,ce){1&Z&&(v.O4$(),v.TgZ(0,"svg",0),v._UZ(1,"path",1),v.qZA()),2&Z&&(v.Tol(ce.getClassNames()),v.uIk("aria-label",ce.ariaLabel)("aria-hidden",ce.ariaHidden)("role",ce.role))},encapsulation:2})}return fe})()},5609:(Ht,Ue,H)=>{H.d(Ue,{Iu:()=>ce});var v=H(6814),D=H(9212),re=H(6223);const fe=["input"],G=(ue,ae,Ee)=>({"p-inputswitch p-component":!0,"p-inputswitch-checked":ue,"p-disabled":ae,"p-focus":Ee}),z={provide:re.JU,useExisting:(0,D.Gpc)(()=>Z),multi:!0};let Z=(()=>{class ue{cd;style;styleClass;tabindex;inputId;name;disabled;readonly;trueValue=!0;falseValue=!1;ariaLabel;ariaLabelledBy;onChange=new D.vpe;input;modelValue=!1;focused=!1;onModelChange=()=>{};onModelTouched=()=>{};constructor(Ee){this.cd=Ee}onClick(Ee){!this.disabled&&!this.readonly&&(this.modelValue=this.checked()?this.falseValue:this.trueValue,this.onModelChange(this.modelValue),this.onChange.emit({originalEvent:Ee,checked:this.modelValue}),Ee.preventDefault(),this.input.nativeElement.focus())}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}writeValue(Ee){this.modelValue=Ee,this.cd.markForCheck()}registerOnChange(Ee){this.onModelChange=Ee}registerOnTouched(Ee){this.onModelTouched=Ee}setDisabledState(Ee){this.disabled=Ee,this.cd.markForCheck()}checked(){return this.modelValue===this.trueValue}static \u0275fac=function(be){return new(be||ue)(D.Y36(D.sBO))};static \u0275cmp=D.Xpm({type:ue,selectors:[["p-inputSwitch"]],viewQuery:function(be,De){if(1&be&&D.Gf(fe,5),2&be){let $e;D.iGM($e=D.CRH())&&(De.input=$e.first)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",tabindex:"tabindex",inputId:"inputId",name:"name",disabled:"disabled",readonly:"readonly",trueValue:"trueValue",falseValue:"falseValue",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy"},outputs:{onChange:"onChange"},features:[D._Bn([z])],decls:5,vars:22,consts:[[3,"ngClass","ngStyle","click"],[1,"p-hidden-accessible"],["type","checkbox","role","switch",3,"checked","disabled","focus","blur"],["input",""],[1,"p-inputswitch-slider"]],template:function(be,De){1&be&&(D.TgZ(0,"div",0),D.NdJ("click",function(xe){return De.onClick(xe)}),D.TgZ(1,"div",1)(2,"input",2,3),D.NdJ("focus",function(){return De.onFocus()})("blur",function(){return De.onBlur()}),D.qZA()(),D._UZ(4,"span",4),D.qZA()),2&be&&(D.Tol(De.styleClass),D.Q6J("ngClass",D.kEZ(18,G,De.checked(),De.disabled,De.focused))("ngStyle",De.style),D.uIk("data-pc-name","inputswitch")("data-pc-section","root"),D.xp6(1),D.uIk("data-pc-section","hiddenInputWrapper")("data-p-hidden-accessible",!0),D.xp6(1),D.Q6J("checked",De.checked())("disabled",De.disabled),D.uIk("id",De.inputId)("aria-checked",De.checked())("aria-labelledby",De.ariaLabelledBy)("aria-label",De.ariaLabel)("name",De.name)("tabindex",De.tabindex)("data-pc-section","hiddenInput"),D.xp6(2),D.uIk("data-pc-section","slider"))},dependencies:[v.mk,v.PC],styles:['@layer primeng{.p-inputswitch{position:relative;display:inline-block;-webkit-user-select:none;user-select:none}.p-inputswitch-slider{position:absolute;cursor:pointer;inset:0;border:1px solid transparent}.p-inputswitch-slider:before{position:absolute;content:"";top:50%}}\n'],encapsulation:2,changeDetection:0})}return ue})(),ce=(()=>{class ue{static \u0275fac=function(be){return new(be||ue)};static \u0275mod=D.oAB({type:ue});static \u0275inj=D.cJS({imports:[v.ez]})}return ue})()},3714:(Ht,Ue,H)=>{H.d(Ue,{j:()=>G,o:()=>fe});var v=H(9212),D=H(6814),re=H(6223);let fe=(()=>{class z{el;ngModel;cd;filled;constructor(ce,ue,ae){this.el=ce,this.ngModel=ue,this.cd=ae}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}static \u0275fac=function(ue){return new(ue||z)(v.Y36(v.SBq),v.Y36(re.On,8),v.Y36(v.sBO))};static \u0275dir=v.lG2({type:z,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:2,hostBindings:function(ue,ae){1&ue&&v.NdJ("input",function(be){return ae.onInput(be)}),2&ue&&v.ekj("p-filled",ae.filled)}})}return z})(),G=(()=>{class z{static \u0275fac=function(ue){return new(ue||z)};static \u0275mod=v.oAB({type:z});static \u0275inj=v.cJS({imports:[D.ez]})}return z})()},1865:(Ht,Ue,H)=>{H.d(Ue,{EU:()=>Ee,cc:()=>be});var v=H(6814),D=H(9212),re=H(6223);const fe=["input"],G=(De,$e,xe)=>({"p-radiobutton-label":!0,"p-radiobutton-label-active":De,"p-disabled":$e,"p-radiobutton-label-focus":xe});function z(De,$e){if(1&De){const xe=D.EpF();D.TgZ(0,"label",7),D.NdJ("click",function(gt){D.CHM(xe);const $t=D.oxw();return D.KtG($t.select(gt))}),D._uU(1),D.qZA()}if(2&De){const xe=D.oxw(),wt=D.MAs(3);D.Tol(xe.labelStyleClass),D.Q6J("ngClass",D.kEZ(6,G,wt.checked,xe.disabled,xe.focused)),D.uIk("for",xe.inputId)("data-pc-section","label"),D.xp6(1),D.Oqu(xe.label)}}const Z=(De,$e,xe)=>({"p-radiobutton p-component":!0,"p-radiobutton-checked":De,"p-radiobutton-disabled":$e,"p-radiobutton-focused":xe}),ce=(De,$e,xe)=>({"p-radiobutton-box":!0,"p-highlight":De,"p-disabled":$e,"p-focus":xe}),ue={provide:re.JU,useExisting:(0,D.Gpc)(()=>Ee),multi:!0};let ae=(()=>{class De{accessors=[];add(xe,wt){this.accessors.push([xe,wt])}remove(xe){this.accessors=this.accessors.filter(wt=>wt[1]!==xe)}select(xe){this.accessors.forEach(wt=>{this.isSameGroup(wt,xe)&&wt[1]!==xe&&wt[1].writeValue(xe.value)})}isSameGroup(xe,wt){return!!xe[0].control&&xe[0].control.root===wt.control.control.root&&xe[1].name===wt.name}static \u0275fac=function(wt){return new(wt||De)};static \u0275prov=D.Yz7({token:De,factory:De.\u0275fac,providedIn:"root"})}return De})(),Ee=(()=>{class De{cd;injector;registry;value;formControlName;name;disabled;label;tabindex;inputId;ariaLabelledBy;ariaLabel;style;styleClass;labelStyleClass;onClick=new D.vpe;onFocus=new D.vpe;onBlur=new D.vpe;inputViewChild;onModelChange=()=>{};onModelTouched=()=>{};checked;focused;control;constructor(xe,wt,gt){this.cd=xe,this.injector=wt,this.registry=gt}ngOnInit(){this.control=this.injector.get(re.a5),this.checkName(),this.registry.add(this.control,this)}handleClick(xe,wt,gt){xe.preventDefault(),!this.disabled&&(this.select(xe),gt&&wt.focus())}select(xe){this.disabled||(this.inputViewChild.nativeElement.checked=!0,this.checked=!0,this.onModelChange(this.value),this.registry.select(this),this.onClick.emit({originalEvent:xe,value:this.value}))}writeValue(xe){this.checked=xe==this.value,this.inputViewChild&&this.inputViewChild.nativeElement&&(this.inputViewChild.nativeElement.checked=this.checked),this.cd.markForCheck()}registerOnChange(xe){this.onModelChange=xe}registerOnTouched(xe){this.onModelTouched=xe}setDisabledState(xe){this.disabled=xe,this.cd.markForCheck()}onInputFocus(xe){this.focused=!0,this.onFocus.emit(xe)}onInputBlur(xe){this.focused=!1,this.onModelTouched(),this.onBlur.emit(xe)}focus(){this.inputViewChild.nativeElement.focus()}ngOnDestroy(){this.registry.remove(this)}checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this.throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}throwNameError(){throw new Error('\n          If you define both a name and a formControlName attribute on your radio button, their values\n          must match. Ex: <p-radioButton formControlName="food" name="food"></p-radioButton>\n        ')}static \u0275fac=function(wt){return new(wt||De)(D.Y36(D.sBO),D.Y36(D.zs3),D.Y36(ae))};static \u0275cmp=D.Xpm({type:De,selectors:[["p-radioButton"]],viewQuery:function(wt,gt){if(1&wt&&D.Gf(fe,5),2&wt){let $t;D.iGM($t=D.CRH())&&(gt.inputViewChild=$t.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",formControlName:"formControlName",name:"name",disabled:"disabled",label:"label",tabindex:"tabindex",inputId:"inputId",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},features:[D._Bn([ue])],decls:7,vars:29,consts:[[3,"ngStyle","ngClass","click"],[1,"p-hidden-accessible"],["type","radio",3,"checked","disabled","value","focus","blur"],["input",""],[3,"ngClass"],[1,"p-radiobutton-icon"],[3,"class","ngClass","click",4,"ngIf"],[3,"ngClass","click"]],template:function(wt,gt){if(1&wt){const $t=D.EpF();D.TgZ(0,"div",0),D.NdJ("click",function(sn){D.CHM($t);const Ot=D.MAs(3);return D.KtG(gt.handleClick(sn,Ot,!0))}),D.TgZ(1,"div",1)(2,"input",2,3),D.NdJ("focus",function(sn){return gt.onInputFocus(sn)})("blur",function(sn){return gt.onInputBlur(sn)}),D.qZA()(),D.TgZ(4,"div",4),D._UZ(5,"span",5),D.qZA()(),D.YNc(6,z,2,10,"label",6)}2&wt&&(D.Tol(gt.styleClass),D.Q6J("ngStyle",gt.style)("ngClass",D.kEZ(21,Z,gt.checked,gt.disabled,gt.focused)),D.uIk("data-pc-name","radiobutton")("data-pc-section","root"),D.xp6(1),D.uIk("data-pc-section","hiddenInputWrapper"),D.xp6(1),D.Q6J("checked",gt.checked)("disabled",gt.disabled)("value",gt.value),D.uIk("id",gt.inputId)("name",gt.name)("aria-labelledby",gt.ariaLabelledBy)("aria-label",gt.ariaLabel)("tabindex",gt.tabindex)("aria-checked",gt.checked)("data-pc-section","hiddenInput"),D.xp6(2),D.Q6J("ngClass",D.kEZ(25,ce,gt.checked,gt.disabled,gt.focused)),D.uIk("data-pc-section","input"),D.xp6(1),D.uIk("data-pc-section","icon"),D.xp6(1),D.Q6J("ngIf",gt.label))},dependencies:[v.mk,v.O5,v.PC],encapsulation:2,changeDetection:0})}return De})(),be=(()=>{class De{static \u0275fac=function(wt){return new(wt||De)};static \u0275mod=D.oAB({type:De});static \u0275inj=D.cJS({imports:[v.ez]})}return De})()},4480:(Ht,Ue,H)=>{H.d(Ue,{H:()=>G,T:()=>z});var v=H(6814),D=H(9212),re=H(2076),fe=H(5219);let G=(()=>{class Z{document;platformId;renderer;el;zone;config;constructor(ue,ae,Ee,be,De,$e){this.document=ue,this.platformId=ae,this.renderer=Ee,this.el=be,this.zone=De,this.config=$e}animationListener;mouseDownListener;timeout;ngAfterViewInit(){(0,v.NF)(this.platformId)&&this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))})}onMouseDown(ue){let ae=this.getInk();if(!ae||"none"===this.document.defaultView?.getComputedStyle(ae,null).display)return;if(re.p.removeClass(ae,"p-ink-active"),!re.p.getHeight(ae)&&!re.p.getWidth(ae)){let $e=Math.max(re.p.getOuterWidth(this.el.nativeElement),re.p.getOuterHeight(this.el.nativeElement));ae.style.height=$e+"px",ae.style.width=$e+"px"}let Ee=re.p.getOffset(this.el.nativeElement),be=ue.pageX-Ee.left+this.document.body.scrollTop-re.p.getWidth(ae)/2,De=ue.pageY-Ee.top+this.document.body.scrollLeft-re.p.getHeight(ae)/2;this.renderer.setStyle(ae,"top",De+"px"),this.renderer.setStyle(ae,"left",be+"px"),re.p.addClass(ae,"p-ink-active"),this.timeout=setTimeout(()=>{let $e=this.getInk();$e&&re.p.removeClass($e,"p-ink-active")},401)}getInk(){const ue=this.el.nativeElement.children;for(let ae=0;ae<ue.length;ae++)if("string"==typeof ue[ae].className&&-1!==ue[ae].className.indexOf("p-ink"))return ue[ae];return null}resetInk(){let ue=this.getInk();ue&&re.p.removeClass(ue,"p-ink-active")}onAnimationEnd(ue){this.timeout&&clearTimeout(this.timeout),re.p.removeClass(ue.currentTarget,"p-ink-active")}create(){let ue=this.renderer.createElement("span");this.renderer.addClass(ue,"p-ink"),this.renderer.appendChild(this.el.nativeElement,ue),this.renderer.setAttribute(ue,"aria-hidden","true"),this.renderer.setAttribute(ue,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(ue,"animationend",this.onAnimationEnd.bind(this)))}remove(){let ue=this.getInk();ue&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,re.p.removeElement(ue))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}static \u0275fac=function(ae){return new(ae||Z)(D.Y36(v.K0),D.Y36(D.Lbi),D.Y36(D.Qsj),D.Y36(D.SBq),D.Y36(D.R0b),D.Y36(fe.b4,8))};static \u0275dir=D.lG2({type:Z,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]})}return Z})(),z=(()=>{class Z{static \u0275fac=function(ae){return new(ae||Z)};static \u0275mod=D.oAB({type:Z});static \u0275inj=D.cJS({imports:[v.ez]})}return Z})()},9246:(Ht,Ue,H)=>{H.d(Ue,{Y:()=>je,l:()=>tt});var v=H(6825),D=H(6814),re=H(9212),fe=H(5219),G=H(2076),z=H(7778),Z=H(4480),ce=H(2332);function ue(Ge,ln){1&Ge&&re.GkF(0)}function ae(Ge,ln){if(1&Ge&&(re.ynx(0),re.YNc(1,ue,1,0,"ng-container",5),re.BQk()),2&Ge){const Mt=re.oxw(2);re.xp6(1),re.Q6J("ngTemplateOutlet",Mt.headlessTemplate)}}function Ee(Ge,ln){1&Ge&&re.GkF(0)}function be(Ge,ln){1&Ge&&re._UZ(0,"TimesIcon",13),2&Ge&&(re.Q6J("styleClass","p-sidebar-close-icon"),re.uIk("data-pc-section","closeicon"))}function De(Ge,ln){}function $e(Ge,ln){1&Ge&&re.YNc(0,De,0,0,"ng-template")}function xe(Ge,ln){if(1&Ge&&(re.TgZ(0,"span",14),re.YNc(1,$e,1,0,null,5),re.qZA()),2&Ge){const Mt=re.oxw(4);re.uIk("data-pc-section","closeicon"),re.xp6(1),re.Q6J("ngTemplateOutlet",Mt.closeIconTemplate)}}function wt(Ge,ln){if(1&Ge){const Mt=re.EpF();re.TgZ(0,"button",10),re.NdJ("click",function(Vn){re.CHM(Mt);const di=re.oxw(3);return re.KtG(di.close(Vn))})("keydown.enter",function(Vn){re.CHM(Mt);const di=re.oxw(3);return re.KtG(di.close(Vn))}),re.YNc(1,be,1,2,"TimesIcon",11)(2,xe,2,2,"span",12),re.qZA()}if(2&Ge){const Mt=re.oxw(3);re.uIk("aria-label",Mt.ariaCloseLabel)("data-pc-section","closebutton")("data-pc-group-section","iconcontainer"),re.xp6(1),re.Q6J("ngIf",!Mt.closeIconTemplate),re.xp6(1),re.Q6J("ngIf",Mt.closeIconTemplate)}}function gt(Ge,ln){1&Ge&&re.GkF(0)}function $t(Ge,ln){1&Ge&&re.GkF(0)}function pn(Ge,ln){if(1&Ge&&(re.ynx(0),re.TgZ(1,"div",15),re.YNc(2,$t,1,0,"ng-container",5),re.qZA(),re.BQk()),2&Ge){const Mt=re.oxw(3);re.xp6(1),re.uIk("data-pc-section","footer"),re.xp6(1),re.Q6J("ngTemplateOutlet",Mt.footerTemplate)}}function sn(Ge,ln){if(1&Ge&&(re.TgZ(0,"div",6),re.YNc(1,Ee,1,0,"ng-container",5)(2,wt,3,5,"button",7),re.qZA(),re.TgZ(3,"div",8),re.Hsn(4),re.YNc(5,gt,1,0,"ng-container",5),re.qZA(),re.YNc(6,pn,3,2,"ng-container",9)),2&Ge){const Mt=re.oxw(2);re.uIk("data-pc-section","header"),re.xp6(1),re.Q6J("ngTemplateOutlet",Mt.headerTemplate),re.xp6(1),re.Q6J("ngIf",Mt.showCloseIcon),re.xp6(1),re.uIk("data-pc-section","content"),re.xp6(2),re.Q6J("ngTemplateOutlet",Mt.contentTemplate),re.xp6(1),re.Q6J("ngIf",Mt.footerTemplate)}}const Ot=(Ge,ln,Mt,yn,Vn,di)=>({"p-sidebar":!0,"p-sidebar-active":Ge,"p-sidebar-left":ln,"p-sidebar-right":Mt,"p-sidebar-top":yn,"p-sidebar-bottom":Vn,"p-sidebar-full":di}),Ve=(Ge,ln)=>({transform:Ge,transition:ln}),Xe=Ge=>({value:"visible",params:Ge});function pe(Ge,ln){if(1&Ge){const Mt=re.EpF();re.TgZ(0,"div",1,2),re.NdJ("@panelState.start",function(Vn){re.CHM(Mt);const di=re.oxw();return re.KtG(di.onAnimationStart(Vn))})("@panelState.done",function(Vn){re.CHM(Mt);const di=re.oxw();return re.KtG(di.onAnimationEnd(Vn))})("keydown",function(Vn){re.CHM(Mt);const di=re.oxw();return re.KtG(di.onKeyDown(Vn))}),re.YNc(2,ae,2,1,"ng-container",3)(3,sn,7,6,"ng-template",null,4,re.W1O),re.qZA()}if(2&Ge){const Mt=re.MAs(4),yn=re.oxw();re.Tol(yn.styleClass),re.Q6J("ngClass",re.HTZ(10,Ot,yn.visible,"left"===yn.position&&!yn.fullScreen,"right"===yn.position&&!yn.fullScreen,"top"===yn.position&&!yn.fullScreen,"bottom"===yn.position&&!yn.fullScreen,yn.fullScreen))("@panelState",re.VKq(20,Xe,re.WLB(17,Ve,yn.transformOptions,yn.transitionOptions)))("ngStyle",yn.style),re.uIk("data-pc-name","sidebar")("data-pc-section","root")("aria-modal",yn.modal),re.xp6(2),re.Q6J("ngIf",yn.headlessTemplate)("ngIfElse",Mt)}}const ke=["*"],We=(0,v.oQ)([(0,v.oB)({transform:"{{transform}}",opacity:0}),(0,v.jt)("{{transition}}")]),Ie=(0,v.oQ)([(0,v.jt)("{{transition}}",(0,v.oB)({transform:"{{transform}}",opacity:0}))]);let je=(()=>{class Ge{document;el;renderer;cd;config;appendTo;blockScroll=!1;style;styleClass;ariaCloseLabel;autoZIndex=!0;baseZIndex=0;modal=!0;dismissible=!0;showCloseIcon=!0;closeOnEscape=!0;transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";get visible(){return this._visible}set visible(Mt){this._visible=Mt}get position(){return this._position}set position(Mt){switch(this._position=Mt,Mt){case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)"}}get fullScreen(){return this._fullScreen}set fullScreen(Mt){this._fullScreen=Mt,Mt&&(this.transformOptions="none")}templates;onShow=new re.vpe;onHide=new re.vpe;visibleChange=new re.vpe;initialized;_visible;_position="left";_fullScreen=!1;container;transformOptions="translate3d(-100%, 0px, 0px)";mask;maskClickListener;documentEscapeListener;animationEndListener;contentTemplate;headerTemplate;footerTemplate;closeIconTemplate;headlessTemplate;constructor(Mt,yn,Vn,di,Ke){this.document=Mt,this.el=yn,this.renderer=Vn,this.cd=di,this.config=Ke}ngAfterViewInit(){this.initialized=!0}ngAfterContentInit(){this.templates?.forEach(Mt=>{switch(Mt.getType()){case"content":default:this.contentTemplate=Mt.template;break;case"header":this.headerTemplate=Mt.template;break;case"footer":this.footerTemplate=Mt.template;break;case"closeicon":this.closeIconTemplate=Mt.template;break;case"headless":this.headlessTemplate=Mt.template}})}onKeyDown(Mt){"Escape"===Mt.code&&this.hide(!1)}show(){this.autoZIndex&&ce.P9.set("modal",this.container,this.baseZIndex||this.config.zIndex.modal),this.modal&&this.enableModality(),this.onShow.emit({}),this.visibleChange.emit(!0)}hide(Mt=!0){Mt&&this.onHide.emit({}),this.modal&&this.disableModality()}close(Mt){this.hide(!1),this.visibleChange.emit(!1),Mt.preventDefault()}enableModality(){this.mask||(this.mask=this.renderer.createElement("div"),this.renderer.setStyle(this.mask,"zIndex",String(parseInt(this.container.style.zIndex)-1)),G.p.addMultipleClasses(this.mask,"p-component-overlay p-sidebar-mask p-component-overlay p-component-overlay-enter"),this.dismissible&&(this.maskClickListener=this.renderer.listen(this.mask,"click",Mt=>{this.dismissible&&this.close(Mt)})),this.renderer.appendChild(this.document.body,this.mask),this.blockScroll&&G.p.blockBodyScroll())}disableModality(){this.mask&&(G.p.addClass(this.mask,"p-component-overlay-leave"),this.animationEndListener=this.renderer.listen(this.mask,"animationend",this.destroyModal.bind(this)))}destroyModal(){this.unbindMaskClickListener(),this.mask&&this.renderer.removeChild(this.document.body,this.mask),this.blockScroll&&G.p.unblockBodyScroll(),this.unbindAnimationEndListener(),this.mask=null}onAnimationStart(Mt){"visible"===Mt.toState&&(this.container=Mt.element,this.appendContainer(),this.show(),this.closeOnEscape&&this.bindDocumentEscapeListener())}onAnimationEnd(Mt){"void"===Mt.toState&&(this.hide(),ce.P9.clear(this.container),this.unbindGlobalListeners())}appendContainer(){this.appendTo&&("body"===this.appendTo?this.renderer.appendChild(this.document.body,this.container):G.p.appendChild(this.container,this.appendTo))}bindDocumentEscapeListener(){this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:this.document,"keydown",yn=>{27==yn.which&&parseInt(this.container.style.zIndex)===ce.P9.get(this.container)&&this.close(yn)})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}unbindGlobalListeners(){this.unbindMaskClickListener(),this.unbindDocumentEscapeListener()}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.animationEndListener(),this.animationEndListener=null)}ngOnDestroy(){this.initialized=!1,this.visible&&this.modal&&this.destroyModal(),this.appendTo&&this.container&&this.renderer.appendChild(this.el.nativeElement,this.container),this.container&&this.autoZIndex&&ce.P9.clear(this.container),this.container=null,this.unbindGlobalListeners(),this.unbindAnimationEndListener()}static \u0275fac=function(yn){return new(yn||Ge)(re.Y36(D.K0),re.Y36(re.SBq),re.Y36(re.Qsj),re.Y36(re.sBO),re.Y36(fe.b4))};static \u0275cmp=re.Xpm({type:Ge,selectors:[["p-sidebar"]],contentQueries:function(yn,Vn,di){if(1&yn&&re.Suo(di,fe.jx,4),2&yn){let Ke;re.iGM(Ke=re.CRH())&&(Vn.templates=Ke)}},hostAttrs:[1,"p-element"],inputs:{appendTo:"appendTo",blockScroll:"blockScroll",style:"style",styleClass:"styleClass",ariaCloseLabel:"ariaCloseLabel",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",modal:"modal",dismissible:"dismissible",showCloseIcon:"showCloseIcon",closeOnEscape:"closeOnEscape",transitionOptions:"transitionOptions",visible:"visible",position:"position",fullScreen:"fullScreen"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange"},ngContentSelectors:ke,decls:1,vars:1,consts:[["role","complementary",3,"ngClass","ngStyle","class","keydown",4,"ngIf"],["role","complementary",3,"ngClass","ngStyle","keydown"],["container",""],[4,"ngIf","ngIfElse"],["notHeadless",""],[4,"ngTemplateOutlet"],[1,"p-sidebar-header"],["type","button","class","p-sidebar-close p-sidebar-icon p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[1,"p-sidebar-content"],[4,"ngIf"],["type","button","pRipple","",1,"p-sidebar-close","p-sidebar-icon","p-link",3,"click","keydown.enter"],[3,"styleClass",4,"ngIf"],["class","p-sidebar-close-icon",4,"ngIf"],[3,"styleClass"],[1,"p-sidebar-close-icon"],[1,"p-sidebar-footer"]],template:function(yn,Vn){1&yn&&(re.F$t(),re.YNc(0,pe,5,22,"div",0)),2&yn&&re.Q6J("ngIf",Vn.visible)},dependencies:()=>[D.mk,D.O5,D.tP,D.PC,Z.H,z.q],styles:["@layer primeng{.p-sidebar{position:fixed;transition:transform .3s;display:flex;flex-direction:column}.p-sidebar-content{position:relative;overflow-y:auto;flex-grow:1}.p-sidebar-header{display:flex;align-items:center}.p-sidebar-footer{margin-top:auto}.p-sidebar-icon{display:flex;align-items:center;justify-content:center;margin-left:auto}.p-sidebar-left{top:0;left:0;width:20rem;height:100%}.p-sidebar-right{top:0;right:0;width:20rem;height:100%}.p-sidebar-top{top:0;left:0;width:100%;height:10rem}.p-sidebar-bottom{bottom:0;left:0;width:100%;height:10rem}.p-sidebar-full{width:100%;height:100%;top:0;left:0;transition:none}.p-sidebar-left.p-sidebar-sm,.p-sidebar-right.p-sidebar-sm{width:20rem}.p-sidebar-left.p-sidebar-md,.p-sidebar-right.p-sidebar-md{width:40rem}.p-sidebar-left.p-sidebar-lg,.p-sidebar-right.p-sidebar-lg{width:60rem}.p-sidebar-top.p-sidebar-sm,.p-sidebar-bottom.p-sidebar-sm{height:10rem}.p-sidebar-top.p-sidebar-md,.p-sidebar-bottom.p-sidebar-md{height:20rem}.p-sidebar-top.p-sidebar-lg,.p-sidebar-bottom.p-sidebar-lg{height:30rem}@media screen and (max-width: 64em){.p-sidebar-left.p-sidebar-lg,.p-sidebar-left.p-sidebar-md,.p-sidebar-right.p-sidebar-lg,.p-sidebar-right.p-sidebar-md{width:20rem}}}\n"],encapsulation:2,data:{animation:[(0,v.X$)("panelState",[(0,v.eR)("void => visible",[(0,v._7)(We)]),(0,v.eR)("visible => void",[(0,v._7)(Ie)])])]},changeDetection:0})}return Ge})(),tt=(()=>{class Ge{static \u0275fac=function(yn){return new(yn||Ge)};static \u0275mod=re.oAB({type:Ge});static \u0275inj=re.cJS({imports:[D.ez,Z.T,fe.m8,z.q,fe.m8]})}return Ge})()},2332:(Ht,Ue,H)=>{H.d(Ue,{P9:()=>G,Th:()=>re,gb:()=>v});class v{static equals(Z,ce,ue){return ue?this.resolveFieldData(Z,ue)===this.resolveFieldData(ce,ue):this.equalsByValue(Z,ce)}static equalsByValue(Z,ce){if(Z===ce)return!0;if(Z&&ce&&"object"==typeof Z&&"object"==typeof ce){var Ee,be,De,ue=Array.isArray(Z),ae=Array.isArray(ce);if(ue&&ae){if((be=Z.length)!=ce.length)return!1;for(Ee=be;0!=Ee--;)if(!this.equalsByValue(Z[Ee],ce[Ee]))return!1;return!0}if(ue!=ae)return!1;var $e=this.isDate(Z),xe=this.isDate(ce);if($e!=xe)return!1;if($e&&xe)return Z.getTime()==ce.getTime();var wt=Z instanceof RegExp,gt=ce instanceof RegExp;if(wt!=gt)return!1;if(wt&&gt)return Z.toString()==ce.toString();var $t=Object.keys(Z);if((be=$t.length)!==Object.keys(ce).length)return!1;for(Ee=be;0!=Ee--;)if(!Object.prototype.hasOwnProperty.call(ce,$t[Ee]))return!1;for(Ee=be;0!=Ee--;)if(!this.equalsByValue(Z[De=$t[Ee]],ce[De]))return!1;return!0}return Z!=Z&&ce!=ce}static resolveFieldData(Z,ce){if(Z&&ce){if(this.isFunction(ce))return ce(Z);if(-1==ce.indexOf("."))return Z[ce];{let ue=ce.split("."),ae=Z;for(let Ee=0,be=ue.length;Ee<be;++Ee){if(null==ae)return null;ae=ae[ue[Ee]]}return ae}}return null}static isFunction(Z){return!!(Z&&Z.constructor&&Z.call&&Z.apply)}static reorderArray(Z,ce,ue){Z&&ce!==ue&&(ue>=Z.length&&(ue%=Z.length,ce%=Z.length),Z.splice(ue,0,Z.splice(ce,1)[0]))}static insertIntoOrderedArray(Z,ce,ue,ae){if(ue.length>0){let Ee=!1;for(let be=0;be<ue.length;be++)if(this.findIndexInList(ue[be],ae)>ce){ue.splice(be,0,Z),Ee=!0;break}Ee||ue.push(Z)}else ue.push(Z)}static findIndexInList(Z,ce){let ue=-1;if(ce)for(let ae=0;ae<ce.length;ae++)if(ce[ae]==Z){ue=ae;break}return ue}static contains(Z,ce){if(null!=Z&&ce&&ce.length)for(let ue of ce)if(this.equals(Z,ue))return!0;return!1}static removeAccents(Z){return Z&&Z.search(/[\xC0-\xFF]/g)>-1&&(Z=Z.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),Z}static isDate(Z){return"[object Date]"===Object.prototype.toString.call(Z)}static isEmpty(Z){return null==Z||""===Z||Array.isArray(Z)&&0===Z.length||!this.isDate(Z)&&"object"==typeof Z&&0===Object.keys(Z).length}static isNotEmpty(Z){return!this.isEmpty(Z)}static compare(Z,ce,ue,ae=1){let Ee=-1;const be=this.isEmpty(Z),De=this.isEmpty(ce);return Ee=be&&De?0:be?ae:De?-ae:"string"==typeof Z&&"string"==typeof ce?Z.localeCompare(ce,ue,{numeric:!0}):Z<ce?-1:Z>ce?1:0,Ee}static sort(Z,ce,ue=1,ae,Ee=1){const be=v.compare(Z,ce,ae,ue);let De=ue;return(v.isEmpty(Z)||v.isEmpty(ce))&&(De=1===Ee?ue:Ee),De*be}static merge(Z,ce){if(null!=Z||null!=ce)return null!=Z&&"object"!=typeof Z||null!=ce&&"object"!=typeof ce?null!=Z&&"string"!=typeof Z||null!=ce&&"string"!=typeof ce?ce||Z:[Z||"",ce||""].join(" "):{...Z||{},...ce||{}}}static isPrintableCharacter(Z=""){return this.isNotEmpty(Z)&&1===Z.length&&Z.match(/\S| /)}static getItemValue(Z,...ce){return this.isFunction(Z)?Z(...ce):Z}static findLastIndex(Z,ce){let ue=-1;if(this.isNotEmpty(Z))try{ue=Z.findLastIndex(ce)}catch{ue=Z.lastIndexOf([...Z].reverse().find(ce))}return ue}static findLast(Z,ce){let ue;if(this.isNotEmpty(Z))try{ue=Z.findLast(ce)}catch{ue=[...Z].reverse().find(ce)}return ue}}var D=0;function re(z="pn_id_"){return`${z}${++D}`}var G=function fe(){let z=[];const ae=Ee=>Ee&&parseInt(Ee.style.zIndex,10)||0;return{get:ae,set:(Ee,be,De)=>{be&&(be.style.zIndex=String(((Ee,be)=>{let De=z.length>0?z[z.length-1]:{key:Ee,value:be},$e=De.value+(De.key===Ee?0:be)+2;return z.push({key:Ee,value:$e}),$e})(Ee,De)))},clear:Ee=>{Ee&&((Ee=>{z=z.filter(be=>be.value!==Ee)})(ae(Ee)),Ee.style.zIndex="")},getCurrent:()=>z.length>0?z[z.length-1].value:0}}()},5861:(Ht,Ue,H)=>{function v(re,fe,G,z,Z,ce,ue){try{var ae=re[ce](ue),Ee=ae.value}catch(be){return void G(be)}ae.done?fe(Ee):Promise.resolve(Ee).then(z,Z)}function D(re){return function(){var fe=this,G=arguments;return new Promise(function(z,Z){var ce=re.apply(fe,G);function ue(Ee){v(ce,z,Z,ue,ae,"next",Ee)}function ae(Ee){v(ce,z,Z,ue,ae,"throw",Ee)}ue(void 0)})}}H.d(Ue,{Z:()=>D})},7582:(Ht,Ue,H)=>{function fe(Ke,at){var _t={};for(var vt in Ke)Object.prototype.hasOwnProperty.call(Ke,vt)&&at.indexOf(vt)<0&&(_t[vt]=Ke[vt]);if(null!=Ke&&"function"==typeof Object.getOwnPropertySymbols){var kt=0;for(vt=Object.getOwnPropertySymbols(Ke);kt<vt.length;kt++)at.indexOf(vt[kt])<0&&Object.prototype.propertyIsEnumerable.call(Ke,vt[kt])&&(_t[vt[kt]]=Ke[vt[kt]])}return _t}function be(Ke,at,_t,vt){return new(_t||(_t=Promise))(function(zt,Rn){function Un(Ln){try{Zt(vt.next(Ln))}catch(dn){Rn(dn)}}function mn(Ln){try{Zt(vt.throw(Ln))}catch(dn){Rn(dn)}}function Zt(Ln){Ln.done?zt(Ln.value):function kt(zt){return zt instanceof _t?zt:new _t(function(Rn){Rn(zt)})}(Ln.value).then(Un,mn)}Zt((vt=vt.apply(Ke,at||[])).next())})}function Ot(Ke){return this instanceof Ot?(this.v=Ke,this):new Ot(Ke)}function Ve(Ke,at,_t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var kt,vt=_t.apply(Ke,at||[]),zt=[];return kt={},Rn("next"),Rn("throw"),Rn("return"),kt[Symbol.asyncIterator]=function(){return this},kt;function Rn(jn){vt[jn]&&(kt[jn]=function(gn){return new Promise(function(Ti,ki){zt.push([jn,gn,Ti,ki])>1||Un(jn,gn)})})}function Un(jn,gn){try{!function mn(jn){jn.value instanceof Ot?Promise.resolve(jn.value.v).then(Zt,Ln):dn(zt[0][2],jn)}(vt[jn](gn))}catch(Ti){dn(zt[0][3],Ti)}}function Zt(jn){Un("next",jn)}function Ln(jn){Un("throw",jn)}function dn(jn,gn){jn(gn),zt.shift(),zt.length&&Un(zt[0][0],zt[0][1])}}function pe(Ke){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _t,at=Ke[Symbol.asyncIterator];return at?at.call(Ke):(Ke=function wt(Ke){var at="function"==typeof Symbol&&Symbol.iterator,_t=at&&Ke[at],vt=0;if(_t)return _t.call(Ke);if(Ke&&"number"==typeof Ke.length)return{next:function(){return Ke&&vt>=Ke.length&&(Ke=void 0),{value:Ke&&Ke[vt++],done:!Ke}}};throw new TypeError(at?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ke),_t={},vt("next"),vt("throw"),vt("return"),_t[Symbol.asyncIterator]=function(){return this},_t);function vt(zt){_t[zt]=Ke[zt]&&function(Rn){return new Promise(function(Un,mn){!function kt(zt,Rn,Un,mn){Promise.resolve(mn).then(function(Zt){zt({value:Zt,done:Un})},Rn)}(Un,mn,(Rn=Ke[zt](Rn)).done,Rn.value)})}}}H.d(Ue,{FC:()=>Ve,KL:()=>pe,_T:()=>fe,mG:()=>be,qq:()=>Ot}),"function"==typeof SuppressedError&&SuppressedError}},Ht=>{Ht(Ht.s=3743)}]);